function FastClick(t,e){"use strict";var i;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!FastClick.notNeeded(t)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=0,s=n.length;o<s;o++)this[n[o]]=r(this[n[o]],this);deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,i.hijacked||i,n):o.call(t,e,i,n)},t.addEventListener=function(e,i,n){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):o.call(t,e,i,n)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(t){i(t)},!1),t.onclick=null)}function r(t,e){return function(){return t.apply(e,arguments)}}}window.grunticon=function(t){if(t&&3===t.length){var e=window,i=!!e.document.createElementNS&&!!e.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect&&!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),n=function(n){var o=e.document.createElement("link"),s=e.document.getElementsByTagName("script")[0];o.rel="stylesheet",o.href=t[n&&i?0:n?1:2],s.parentNode.insertBefore(o,s)},o=new e.Image;o.onerror=function(){n(!1)},o.onload=function(){n(1===o.width&&1===o.height)},o.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}},window.Modernizr=function(t,e,i){function n(t){g.cssText=t}function o(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var n in t){var o=t[n];if(!s(o,"-")&&g[o]!==i)return"pfx"!=e||o}return!1}function a(t,e,n){for(var s in t){var r=e[t[s]];if(r!==i)return!1===n?t[s]:o(r,"function")?r.bind(n||e):r}return!1}function l(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+x.join(n+" ")+n).split(" ");return o(e,"string")||o(e,"undefined")?r(s,e):a(s=(t+" "+w.join(n+" ")+n).split(" "),e,i)}var c,h,d={},u=e.documentElement,p="modernizr",f=e.createElement(p),g=f.style,m=e.createElement("input"),v=":)",y=" -webkit- -moz- -o- -ms- ".split(" "),b="Webkit Moz O ms",x=b.split(" "),w=b.toLowerCase().split(" "),k={},C={},T={},S=[],E=S.slice,P=function(t,i,n,o){var s,r,a,l,c=e.createElement("div"),h=e.body,d=h||e.createElement("body");if(parseInt(n,10))for(;n--;)(a=e.createElement("div")).id=o?o[n]:p+(n+1),c.appendChild(a);return s=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),c.id=p,(h?c:d).innerHTML+=s,d.appendChild(c),h||(d.style.background="",d.style.overflow="hidden",l=u.style.overflow,u.style.overflow="hidden",u.appendChild(d)),r=i(c,t),h?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),u.style.overflow=l),!!r},_={}.hasOwnProperty;for(var A in h=o(_,"undefined")||o(_.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return _.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=E.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=e.prototype;var s=new o,r=e.apply(s,i.concat(E.call(arguments)));return Object(r)===r?r:s}return e.apply(t,i.concat(E.call(arguments)))};return n}),k.touch=function(){var i;return!("undefined"!=typeof deviceFeatures&&deviceFeatures.indexOf("DESKTOP")>-1)&&("ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:P(["@media (",y.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop})),i},k.csstransitions=function(){return l("transition")},k)h(k,A)&&(c=A.toLowerCase(),d[c]=k[A](),S.push((d[c]?"":"no-")+c));return d.input||(d.input=function(i){for(var n=0,o=i.length;n<o;n++)T[i[n]]=i[n]in m;return T.list&&(T.list=!!e.createElement("datalist")&&!!t.HTMLDataListElement),T}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),d.inputtypes=function(t){for(var n,o,s,r=0,a=t.length;r<a;r++)m.setAttribute("type",o=t[r]),(n="text"!==m.type)&&(m.value=v,m.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&m.style.WebkitAppearance!==i?(u.appendChild(m),n=(s=e.defaultView).getComputedStyle&&"textfield"!==s.getComputedStyle(m,null).WebkitAppearance&&0!==m.offsetHeight,u.removeChild(m)):/^(search|tel)$/.test(o)||(n=/^(url|email)$/.test(o)?m.checkValidity&&!1===m.checkValidity():m.value!=v)),C[t[r]]=!!n;return C}("search tel url email datetime date month week time datetime-local number range color".split(" "))),d.addTest=function(t,e){if("object"==typeof t)for(var n in t)h(t,n)&&d.addTest(n,t[n]);else{if(t=t.toLowerCase(),d[t]!==i)return d;e="function"==typeof e?e():e,u.className+=" "+(e?"":"no-")+t,d[t]=e}return d},n(""),f=m=null,d._version="2.8.3",d._prefixes=y,d._domPrefixes=w,d._cssomPrefixes=x,d.testProp=function(t){return r([t])},d.testAllProps=l,d.testStyles=P,u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+S.join(" "),d}(this,this.document),function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=m[t[f]];return e||(e={},g++,t[f]=g,m[g]=e),e}function s(t,i,n){return i||(i=e),h?i.createElement(t):(n||(n=o(i)),!(s=n.cache[t]?n.cache[t].cloneNode():p.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t)).canHaveChildren||u.test(t)||s.tagUrn?s:n.frag.appendChild(s));var s}function r(t){t||(t=e);var r=o(t);return v.shivCSS&&!c&&!r.hasCSS&&(r.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),h||function(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return v.shivMethods?s(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}(t,r),t}function a(t){for(var e,i=t.attributes,n=i.length,o=t.ownerDocument.createElement(b+":"+t.nodeName);n--;)(e=i[n]).specified&&o.setAttribute(e.nodeName,e.nodeValue);return o.style.cssText=t.style.cssText,o}function l(t){function e(){clearTimeout(l._removeSheetTimer),s&&s.removeNode(!0),s=null}var s,r,l=o(t),c=t.namespaces,h=t.parentWindow;return!x||t.printShived?t:(void 0===c[b]&&c.add(b),h.attachEvent("onbeforeprint",function(){e();for(var o,l,c,h=t.styleSheets,d=[],u=h.length,p=Array(u);u--;)p[u]=h[u];for(;c=p.pop();)if(!c.disabled&&y.test(c.media)){try{l=(o=c.imports).length}catch(t){l=0}for(u=0;u<l;u++)p.push(o[u]);try{d.push(c.cssText)}catch(t){}}d=function(t){for(var e,i=t.split("{"),o=i.length,s=RegExp("(^|[\\s,>+~])("+n().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),r="$1"+b+"\\:$2";o--;)(e=i[o]=i[o].split("}"))[e.length-1]=e[e.length-1].replace(s,r),i[o]=e.join("}");return i.join("{")}(d.reverse().join("")),r=function(t){for(var e,i=t.getElementsByTagName("*"),o=i.length,s=RegExp("^(?:"+n().join("|")+")$","i"),r=[];o--;)e=i[o],s.test(e.nodeName)&&r.push(e.applyElement(a(e)));return r}(t),s=i(t,d)}),h.attachEvent("onafterprint",function(){(function(t){for(var e=t.length;e--;)t[e].removeNode()})(r),clearTimeout(l._removeSheetTimer),l._removeSheetTimer=setTimeout(e,500)}),t.printShived=!0,t)}var c,h,d=t.html5||{},u=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",g=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,h=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){c=!0,h=!0}}();var v={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==d.shivCSS,supportsUnknownElements:h,shivMethods:!1!==d.shivMethods,type:"default",shivDocument:r,createElement:s,createDocumentFragment:function(t,i){if(t||(t=e),h)return t.createDocumentFragment();for(var s=(i=i||o(t)).frag.cloneNode(),r=0,a=n(),l=a.length;r<l;r++)s.createElement(a[r]);return s}};t.html5=v,r(e);var y=/^$|\b(?:all|print)\b/,b="html5shiv",x=!h&&function(){var i=e.documentElement;return void 0!==e.namespaces&&void 0!==e.parentWindow&&void 0!==i.applyElement&&void 0!==i.removeNode&&void 0!==t.attachEvent}();v.type+=" print",v.shivPrint=l,l(e)}(this,document),function(t,e,i){function n(t){return"[object Function]"==m.call(t)}function o(t){return"string"==typeof t}function s(){}function r(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();y=1,t?t.t?f(function(){("c"==t.t?u.injectCss:u.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):y=0}function l(t,i,n,o,s,l,c){function h(e){if(!p&&r(d.readyState)&&(b.r=p=1,!y&&a(),d.onload=d.onreadystatechange=null,e))for(var n in"img"!=t&&f(function(){w.removeChild(d)},50),E[i])E[i].hasOwnProperty(n)&&E[i][n].onload()}c=c||u.errorTimeout;var d=e.createElement(t),p=0,m=0,b={t:n,s:i,e:s,a:l,x:c};1===E[i]&&(m=1,E[i]=[]),"object"==t?d.data=i:(d.src=i,d.type=t),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){h.call(this,m)},v.splice(o,0,b),"img"!=t&&(m||2===E[i]?(w.insertBefore(d,x?null:g),f(h,c)):E[i].push(d))}function c(t,e,i,n,s){return y=0,e=e||"j",o(t)?l("c"==e?C:k,t,e,this.i++,i,n,s):(v.splice(this.i++,0,t),1==v.length&&a()),this}function h(){var t=u;return t.loader={load:c,i:0},t}var d,u,p=e.documentElement,f=t.setTimeout,g=e.getElementsByTagName("script")[0],m={}.toString,v=[],y=0,b="MozAppearance"in p.style,x=b&&!!e.createRange().compareNode,w=x?p:g.parentNode,k=(p=t.opera&&"[object Opera]"==m.call(t.opera),p=!!e.attachEvent&&!p,b?"object":p?"script":"img"),C=p?"script":k,T=Array.isArray||function(t){return"[object Array]"==m.call(t)},S=[],E={},P={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};(u=function(t){function e(t,e,o,s,r){var a=function(t){t=t.split("!");var e,i,n,o=S.length,s=t.pop(),r=t.length;for(s={url:s,origUrl:s,prefixes:t},i=0;i<r;i++)n=t[i].split("="),(e=P[n.shift()])&&(s=e(s,n));for(i=0;i<o;i++)s=S[i](s);return s}(t),l=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(e&&(e=n(e)?e:e[t]||e[s]||e[t.split("/").pop().split("?")[0]]),a.instead?a.instead(t,e,o,s,r):(E[a.url]?a.noexec=!0:E[a.url]=1,o.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":i,a.noexec,a.attrs,a.timeout),(n(e)||n(l))&&o.load(function(){h(),e&&e(a.origUrl,r,s),l&&l(a.origUrl,r,s),E[a.url]=2})))}function r(t,i){function r(t,s){if(t){if(o(t))s||(d=function(){var t=[].slice.call(arguments);u.apply(this,t),p()}),e(t,d,i,0,c);else if(Object(t)===t)for(l in a=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(l)&&(!s&&!--a&&(n(d)?d=function(){var t=[].slice.call(arguments);u.apply(this,t),p()}:d[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(u[l])),e(t[l],d,i,l,c))}else!s&&p()}var a,l,c=!!t.test,h=t.load||t.both,d=t.callback||s,u=d,p=t.complete||s;r(c?t.yep:t.nope,!!h),h&&r(h)}var a,l,c=this.yepnope.loader;if(o(t))e(t,0,c,0);else if(T(t))for(a=0;a<t.length;a++)o(l=t[a])?e(l,0,c,0):T(l)?u(l):Object(l)===l&&r(l,c);else Object(t)===t&&r(t,c)}).addPrefix=function(t,e){P[t]=e},u.addFilter=function(t){S.push(t)},u.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",d=function(){e.removeEventListener("DOMContentLoaded",d,0),e.readyState="complete"},0)),t.yepnope=h(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,i,n,o,l,c){var h,d,p=e.createElement("script");o=o||u.errorTimeout;for(d in p.src=t,n)p.setAttribute(d,n[d]);i=c?a:i||s,p.onreadystatechange=p.onload=function(){!h&&r(p.readyState)&&(h=1,i(),p.onload=p.onreadystatechange=null)},f(function(){h||(h=1,i(1))},o),l?p.onload():g.parentNode.insertBefore(p,g)},t.yepnope.injectCss=function(t,i,n,o,r,l){var c;o=e.createElement("link"),i=l?a:i||s;for(c in o.href=t,o.rel="stylesheet",o.type="text/css",n)o.setAttribute(c,n[c]);r||(g.parentNode.insertBefore(o,g),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("placeholder",function(){return"placeholder"in(Modernizr.input||document.createElement("input"))&&"placeholder"in(Modernizr.textarea||document.createElement("textarea"))});var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],deviceIsIOS){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},FastClick.prototype.onTouchMove=function(t){"use strict";return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,n,o,s,r=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],(r=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||r).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=r.tagName.toLowerCase())){if(e=this.findControl(r)){if(this.focus(r),deviceIsAndroid)return!1;r=e}}else if(this.needsFocus(r))return t.timeStamp-i>100||deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,t),deviceIsIOS&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return!(!deviceIsIOS||deviceIsIOS4||!(o=r.fastClickScrollParent)||o.fastClickLastScrollTop===o.scrollTop)||(this.needsClick(r)||(t.preventDefault(),this.sendClick(r,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,i,n;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&n[2]>=3&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(){function t(t){var e="focus"===t.type?"focusin":"focusout",i=new CustomEvent(e,{bubbles:!0,cancelable:!0});i.__generated=!0,t.target.dispatchEvent(i)}function e(i){i.__generated||(document.removeEventListener("focus",t,!0),document.removeEventListener("blur",t,!0),document.removeEventListener("focusin",e,!0),document.removeEventListener("focusout",e,!0)),setTimeout(function(){document.removeEventListener("focusin",e,!0),document.removeEventListener("focusout",e,!0)})}void 0===window.onfocusin&&(document.addEventListener("focus",t,!0),document.addEventListener("blur",t,!0),document.addEventListener("focusin",e,!0),document.addEventListener("focusout",e,!0))}(),function(t){"use strict";var e={};t.respond=e,e.update=function(){};var i=[],n=function(){var e=!1;try{e=new t.XMLHttpRequest}catch(i){e=new t.ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}(),o=function(t,e){var i=n();i&&(i.open("GET",t,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||e(i.responseText)},4!==i.readyState&&i.send(null))},s=function(t){return t.replace(e.regex.minmaxwh,"").match(e.regex.other)};if(e.ajax=o,e.queue=i,e.unsupportedmq=s,e.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^\/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},e.mediaQueriesSupported=t.matchMedia&&null!==t.matchMedia("only all")&&t.matchMedia("only all").matches,!e.mediaQueriesSupported){var r,a,l,c=t.document,h=c.documentElement,d=[],u=[],p=[],f={},g=c.getElementsByTagName("head")[0]||h,m=c.getElementsByTagName("base")[0],v=g.getElementsByTagName("link"),y=function(){var t,e=c.createElement("div"),i=c.body,n=h.style.fontSize,o=i&&i.style.fontSize,s=!1;return e.style.cssText="position:absolute;font-size:1em;width:1em",i||((i=s=c.createElement("body")).style.background="none"),h.style.fontSize="100%",i.style.fontSize="100%",i.appendChild(e),s&&h.insertBefore(i,h.firstChild),t=e.offsetWidth,s?h.removeChild(i):i.removeChild(e),h.style.fontSize=n,o&&(i.style.fontSize=o),t=l=parseFloat(t)},b=function(e){var i=h.clientWidth,n="CSS1Compat"===c.compatMode&&i||c.body.clientWidth||i,o={},s=v[v.length-1],f=(new Date).getTime();if(e&&r&&f-r<30)return t.clearTimeout(a),void(a=t.setTimeout(b,30));for(var m in r=f,d)if(d.hasOwnProperty(m)){var x=d[m],w=x.minw,k=x.maxw,C=null===w,T=null===k;w&&(w=parseFloat(w)*(w.indexOf("em")>-1?l||y():1)),k&&(k=parseFloat(k)*(k.indexOf("em")>-1?l||y():1)),x.hasquery&&(C&&T||!(C||n>=w)||!(T||n<=k))||(o[x.media]||(o[x.media]=[]),o[x.media].push(u[x.rules]))}for(var S in p)p.hasOwnProperty(S)&&p[S]&&p[S].parentNode===g&&g.removeChild(p[S]);for(var E in p.length=0,o)if(o.hasOwnProperty(E)){var P=c.createElement("style"),_=o[E].join("\n");P.type="text/css",P.media=E,g.insertBefore(P,s.nextSibling),P.styleSheet?P.styleSheet.cssText=_:P.appendChild(c.createTextNode(_)),p.push(P)}},x=function(t,i,n){var o=t.replace(e.regex.comments,"").replace(e.regex.keyframes,"").match(e.regex.media),r=o&&o.length||0,a=function(t){return t.replace(e.regex.urls,"$1"+i+"$2$3")},l=!r&&n;(i=i.substring(0,i.lastIndexOf("/"))).length&&(i+="/"),l&&(r=1);for(var c=0;c<r;c++){var h,p,f,g;l?(h=n,u.push(a(t))):(h=o[c].match(e.regex.findStyles)&&RegExp.$1,u.push(RegExp.$2&&a(RegExp.$2))),g=(f=h.split(",")).length;for(var m=0;m<g;m++)p=f[m],s(p)||d.push({media:p.split("(")[0].match(e.regex.only)&&RegExp.$2||"all",rules:u.length-1,hasquery:p.indexOf("(")>-1,minw:p.match(e.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:p.match(e.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}b()},w=function(){if(i.length){var e=i.shift();o(e.href,function(i){x(i,e.href,e.media),f[e.href]=!0,t.setTimeout(function(){w()},0)})}},k=function(){for(var e=0;e<v.length;e++){var n=v[e],o=n.href,s=n.media,r=n.rel&&"stylesheet"===n.rel.toLowerCase();o&&r&&!f[o]&&(n.styleSheet&&n.styleSheet.rawCssText?(x(n.styleSheet.rawCssText,o,s),f[o]=!0):(/^([a-zA-Z:]*\/\/)/.test(o)||m)&&o.replace(RegExp.$1,"").split("/")[0]!==t.location.host||("//"===o.substring(0,2)&&(o=t.location.protocol+o),i.push({href:o,media:s})))}w()};k(),e.update=k,e.getEmValue=y,t.addEventListener?t.addEventListener("resize",C,!1):t.attachEvent&&t.attachEvent("onresize",C)}function C(){b(!0)}}(this),function(){function t(){if(Element.prototype.addEventListener||!Object.defineProperty)return{loadedForBrowser:!1};var t=document.createEventObject().constructor.prototype;Object.defineProperty(t,"bubbles",{get:function(){for(var t=["select","scroll","click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","wheel","textinput","keydown","keypress","keyup"],e=this.type,i=0,n=t.length;i<n;i++)if(e===t[i])return!0;return!1}}),Object.defineProperty(t,"defaultPrevented",{get:function(){var t=this.returnValue;return!(void 0===t||t)}}),Object.defineProperty(t,"relatedTarget",{get:function(){var t=this.type;return"mouseover"===t||"mouseout"===t?"mouseover"===t?this.fromElement:this.toElement:null}}),Object.defineProperty(t,"target",{get:function(){return this.srcElement}}),t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0};var e=function(t){return"function"!=typeof t&&"function"==typeof t.handleEvent},i=function(t,i,n){var o=i;e(i)&&("function"!=typeof i.__eventShim__&&(i.__eventShim__=function(t){i.handleEvent(t)}),o=i.__eventShim__),this.attachEvent("on"+t,o)},n=function(t,i,n){var o=i;e(i)&&(o=i.__eventShim__),this.detachEvent("on"+t,o)};return HTMLDocument.prototype.addEventListener=i,HTMLDocument.prototype.removeEventListener=n,Element.prototype.addEventListener=i,Element.prototype.removeEventListener=n,window.addEventListener=i,window.removeEventListener=n,{loadedForBrowser:!0}}if("function"!=typeof define||!define.amd)return t();define(t)}(),void 0===Date.now&&(Date.now=function(){return+new Date}),function(t,e,i,n,o){"use strict";var s=n.document;i.namespace("DBEG.Placeholders"),i.Placeholders=function(t){var i={init:function(i,r){e.placeholder||t("input").placeholder();var a=n.jsf;function l(e,n,s){t("input").each(i).each(function(){var e=t(this);e.off(".placeholder").data("placeholder-enabled",o);var i=e.data("placeholder-textinput");i&&(i.remove(),e.removeData("placeholder-textinput"),e.removeData("placeholder-id"))})}function c(e,i,n){var o=t(":focus");t("input").placeholder(),o.select()}e.placeholder||(n.jsf!=o&&a.ajax.addOnEvent(function(t){switch(t.status){case"begin":l();break;case"complete":c()}}),t(s).on("pfAjaxStart",l),t(s).on("pfAjaxComplete",c))}};return t(s).on("initPlaceholder3beg",function(t,e,n){i.init(e,n)}),i}(t)}(jQuery,Modernizr,DBEG,this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?t(require("jquery")):t(jQuery)}(function(t){var e,i,n="[object OperaMini]"==Object.prototype.toString.call(window.operamini),o="placeholder"in document.createElement("input")&&!n,s="placeholder"in document.createElement("textarea")&&!n,r=t.valHooks,a=t.propHooks;if(o&&s)(i=t.fn.placeholder=function(){return this}).input=i.textarea=!0;else{var l={};(i=t.fn.placeholder=function(e){l=t.extend({},{customClass:"placeholder"},e);return this.filter((o?"textarea":":input")+"[placeholder]").not("."+l.customClass).bind({"focus.placeholder":c,"blur.placeholder":h}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=o,i.textarea=s,e={get:function(e){var i=t(e),n=i.data("placeholder-password");return n?n[0].value:i.data("placeholder-enabled")&&i.hasClass(l.customClass)?"":e.value},set:function(e,i){var n=t(e),o=n.data("placeholder-password");return o?o[0].value=i:n.data("placeholder-enabled")?(""===i?(e.value=i,e!=d()&&h.call(e)):n.hasClass(l.customClass)&&c.call(e,!0,i)||(e.value=i),n):e.value=i}},o||(r.input=e,a.value=e),s||(r.textarea=e,a.value=e),t(function(){t(document).delegate("form","submit.placeholder",function(){var e=t("."+l.customClass,this).each(c);setTimeout(function(){e.each(h)},10)})}),t(window).bind("beforeunload.placeholder",function(){t("."+l.customClass).each(function(){this.value=""})})}function c(e,i){var n=t(this);if(this.value==n.attr("placeholder")&&n.hasClass(l.customClass))if(n.data("placeholder-password")){if(n=n.hide().nextAll('input[type="password"]:first').show().attr("id",n.removeAttr("id").data("placeholder-id")),!0===e)return n[0].value=i;n.focus()}else this.value="",n.removeClass(l.customClass),this==d()&&this.select()}function h(){var e,i,n,o,s=t(this),r=this.id;if(""===this.value){if("password"===this.type){if(!s.data("placeholder-textinput")){try{e=s.clone().prop({type:"text"})}catch(s){e=t("<input>").attr(t.extend((i=this,n={},o=/^jQuery\d+$/,t.each(i.attributes,function(t,e){e.specified&&!o.test(e.name)&&(n[e.name]=e.value)}),n),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":s,"placeholder-id":r}).bind("focus.placeholder",c),s.data({"placeholder-textinput":e,"placeholder-id":r}).before(e)}s=s.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",r).show()}s.addClass(l.customClass),s[0].value=s.attr("placeholder")}else s.removeClass(l.customClass)}function d(){try{return document.activeElement}catch(t){}}t(document).trigger("initPlaceholder3beg",[c,h])}),function(t,e){var i,n,o=0,s=/^ui-id-\d+$/;function r(e,i){var n,o,s,r=e.nodeName.toLowerCase();return"area"===r?(o=(n=e.parentNode).name,!(!e.href||!o||"map"!==n.nodeName.toLowerCase())&&(!!(s=t("img[usemap=#"+o+"]")[0])&&a(s))):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r&&e.href||i)&&a(e)}function a(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:(i=t.fn.focus,function(e,n){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){t(i).focus(),n&&n.call(i)},e)}):i.apply(this,arguments)}),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,o=t(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return r(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),n=isNaN(i);return(n||i>=0)&&r(e,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function r(e,i,o,s){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,o&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}t.fn["inner"+i]=function(e){return void 0===e?s["inner"+i].call(this):this.each(function(){t(this).css(o,r(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(o,r(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=(n=t.fn.removeData,function(e){return arguments.length?n.call(this,t.camelCase(e)):n.call(this)})),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var o,s=t.ui[e].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(t,e,i){var n,o=t.plugins[e];if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n,o=i&&"left"===i?"scrollLeft":"scrollTop";return e[o]>0||(e[o]=1,n=e[o]>0,e[o]=0,n)}})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){var i=0,n=Array.prototype.slice,o=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(t){}o(e)},t.widget=function(e,i,n){var o,s,r,a,l={},c=e.split(".")[0];e=e.split(".")[1],o=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},s=t[c][e],r=t[c][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,s,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(n,function(e,n){var o,s;t.isFunction(n)?l[e]=(o=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)},function(){var t,e=this._super,i=this._superApply;return this._super=o,this._superApply=s,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}):l[e]=n}),r.prototype=t.widget.extend(a,{widgetEventPrefix:s&&a.widgetEventPrefix||e},l,{constructor:r,namespace:c,widgetName:e,widgetFullName:o}),s?(t.each(s._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete s._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r)},t.widget.extend=function(i){for(var o,s,r=n.call(arguments,1),a=0,l=r.length;a<l;a++)for(o in r[a])s=r[a][o],r[a].hasOwnProperty(o)&&s!==e&&(t.isPlainObject(s)?i[o]=t.isPlainObject(i[o])?t.widget.extend({},i[o],s):t.widget.extend({},s):i[o]=s);return i},t.widget.bridge=function(i,o){var s=o.prototype.widgetFullName||i;t.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),c=this;return r=!a&&l.length?t.widget.extend.apply(null,[r].concat(l)):r,a?this.each(function(){var n,o=t.data(this,s);return o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,l))!==o&&n!==e?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var e=t.data(this,s);e?e.option(r||{})._init():t.data(this,s,new o(r,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var o,s,r,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},o=i.split("."),i=o.shift(),o.length){for(s=a[i]=t.widget.extend({},this.options[i]),r=0;r<o.length-1;r++)s[o[r]]=s[o[r]]||{},s=s[o[r]];if(i=o.pop(),1===arguments.length)return s[i]===e?null:s[i];s[i]=n}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,n){var o,s=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),t.each(n,function(n,r){function a(){if(e||!0!==s.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof r?s[r]:r).apply(s,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+s.eventNamespace,h=l[2];h?o.delegate(h,c,a):i.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var o,s,r=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(t.isFunction(r)&&!1===r.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,s){"string"==typeof o&&(o={effect:o});var r,a=o?!0===o||"number"==typeof o?i:o.effect||i:e;"number"==typeof(o=o||{})&&(o={duration:o}),r=!t.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),r&&t.effects&&t.effects.effect[a]?n[e](o):a!==e&&n[a]?n[a](o.duration,o.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}})}),function(t,e){var i=!1;t(document).mouseup(function(){i=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,o=1===e.which,s=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(o&&!s&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!t.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1)},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(n=(i=t(o.containment))[0])&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i)):this.containment=o.containment:this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,o,s,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,c=e.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-r.grid[0]:s+r.grid[0]:s)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),o=n.options,s=t.extend({},i,{item:n.element});n.sortables=[],t(o.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,s))})},stop:function(e,i){var n=t(this).data("ui-draggable"),o=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,o))})},drag:function(e,i){var n=t(this).data("ui-draggable"),o=this;t.each(n.sortables,function(){var s=!1,r=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(r.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),o=t(this).data("ui-draggable").options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,o=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?o=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(o=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?o=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(o=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,o,s,r,a,l,c,h,d,u,p=t(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=i.offset.left,v=m+p.helperProportions.width,y=i.offset.top,b=y+p.helperProportions.height;for(d=p.snapElements.length-1;d>=0;d--)l=(a=p.snapElements[d].left)+p.snapElements[d].width,h=(c=p.snapElements[d].top)+p.snapElements[d].height,v<a-g||m>l+g||b<c-g||y>h+g||!t.contains(p.snapElements[d].item.ownerDocument,p.snapElements[d].item)?(p.snapElements[d].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(c-b)<=g,o=Math.abs(h-y)<=g,s=Math.abs(a-v)<=g,r=Math.abs(l-m)<=g,n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),u=n||o||s||r,"outer"!==f.snapMode&&(n=Math.abs(c-y)<=g,o=Math.abs(h-b)<=g,s=Math.abs(a-m)<=g,r=Math.abs(l-v)<=g,n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[d].snapping&&(n||o||s||r||u)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=n||o||s||r||u)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),o=t(this).data("ui-draggable").options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t,e){function i(t,e,i){return t>e&&t<e+i}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];e<i.length;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,o=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance))return o=!0,!1}),!o&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,e,n){if(!e.offset)return!1;var o,s=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,a=s+t.helperProportions.width,l=r+t.helperProportions.height,c=e.offset.left,h=e.offset.top,d=c+e.proportions().width,u=h+e.proportions().height;switch(n){case"fit":return c<=s&&a<=d&&h<=r&&l<=u;case"intersect":return c<s+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&h<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<u;case"pointer":return o=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,i((t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,h,e.proportions().height)&&i(o,c,e.proportions().width);case"touch":return(r>=h&&r<=u||l>=h&&l<=u||r<h&&l>u)&&(s>=c&&s<=d||a>=c&&a<=d||s<c&&a>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,o,s=t.ui.ddmanager.droppables[e.options.scope]||[],r=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||e&&!s[n].accept.call(s[n].element[0],e.currentItem||e.element))){for(o=0;o<a.length;o++)if(a[o]===s[n].element[0]){s[n].proportions().height=0;continue t}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===r&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,s,r=t.ui.intersect(e,this,this.options.tolerance),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===o})).length&&((n=t.data(s[0],"ui-droppable")).greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t,e){function i(t,e,i){return t>e&&t<e+i}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||n(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,o=!1,s=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,s.widgetName+"-item")===s)return n=t(this),!1}),t.data(e.target,s.widgetName+"-item")===s&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var o,s,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(s)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,o,s,r=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-t(document).scrollTop()<r.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed)),e.pageX-t(document).scrollLeft()<r.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(o=(n=this.items[i]).item[0],(s=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,o=this.placeholder.offset(),s=this.options.axis,r={};s&&"x"!==s||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=t.left,r=s+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,h=this.offset.click.left,d="x"===this.options.axis||n+c>a&&n+c<l,u="y"===this.options.axis||e+h>s&&e+h<r,p=d&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:s<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||i(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||i(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=e&&n,s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!o&&(this.floating?r&&"right"===r||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(t){var e=i(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=i(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&n||"left"===s&&!n:o&&("down"===o&&e||"up"===o&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,o,s,r=[],a=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(n=(o=t(l[i])).length-1;n>=0;n--)(s=t.data(o[n],this.widgetFullName))&&s!==this&&!s.options.disabled&&a.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);function c(){r.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(c);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,o,s,r,a,l,c,h=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(n=(o=t(u[i])).length-1;n>=0;n--)(s=t.data(o[n],this.widgetFullName))&&s!==this&&!s.options.disabled&&(d.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(i=d.length-1;i>=0;i--)for(r=d[i][1],n=0,c=(a=d[i][0]).length;n<c;n++)(l=t(a[n])).data(this.widgetName+"-item",r),h.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,n,o,s;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=o.outerWidth(),n.height=o.outerHeight()),s=o.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,n=(e=e||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)}):"img"===n&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){i&&!n.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var o,s,r,a,l,c,h,d,u,p,f=null,g=null;for(o=this.containers.length-1;o>=0;o--)if(!t.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(f&&t.contains(this.containers[o].element[0],f.element[0]))continue;f=this.containers[o],g=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",e,this._uiHash(this)),this.containers[o].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",e,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(r=1e4,a=null,l=(p=f.floating||n(this.currentItem))?"left":"top",c=p?"width":"height",h=this.positionAbs[l]+this.offset.click[l],s=this.items.length-1;s>=0;s--)t.contains(this.containers[g].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(p&&!i(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height)||(d=this.items[s].item.offset()[l],u=!1,Math.abs(d-h)>Math.abs(d+this.items[s][c]-h)&&(u=!0,d+=this.items[s][c]),Math.abs(d-h)<r&&(r=Math.abs(d-h),a=this.items[s],this.direction=u?"up":"down")));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[g].element,!0),this._trigger("change",e,this._uiHash()),this.containers[g]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",e,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&this.scrollParent[0]!==document.body&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*n}},_generatePosition:function(e){var i,n,o=this.options,s=e.pageX,r=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function o(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(o("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(o("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t){var e,i,n="center",o="left",s="right",r={auto:"auto"};function a(e){this.$element=t(e),this.original_text=this.$element.html(),this.settings=t.extend({},t.fn.trunk8.defaults)}function l(t){var e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText}function c(e,i,n){e=e.replace(n,"");var o=function(i,s){var r,a,l,c,h="";for(c=0;c<i.length;c++)r=i[c],l=t.trim(e).split(" ").length,t.trim(e).length&&("string"==typeof r?(/<br\s*\/?>/.test(r)||(1===l&&t.trim(e).length<=r.length?(r=e,"p"!==s&&"div"!==s||(r+=n),e=""):e=e.replace(r,"")),h+=t.trim(r)+(c===i.length-1||l<=1?"":" ")):(a=o(r.content,r.tag),r.after&&(e=e.replace(r.after,"")),a&&(r.after||(r.after=" "),h+="<"+r.tag+r.attribs+">"+a+"</"+r.tag+">"+r.after)));return h},s=o(i);return s.slice(s.length-n.length)===n&&(s+=n),s}function h(){var e,n,o,s,a,h,d=this.data("trunk8"),u=d.settings,p=u.width,f=u.side,g=u.fill,m=u.parseHTML,v=i.getLineHeight(this)*u.lines,y=d.original_text,b=y.length,x="";if(this.html(y),a=this.text(),m&&l(y)!==y&&(h=function t(e){if(l(e)===e)return e.split(/\s/g);for(var i,n,o=[],s=/<([a-z]+)([^<]*)(?:>(.*?(?!<\1>)*)<\/\1>|\s+\/>)(['.?!,]*)|((?:[^<>\s])+['.?!,]*\w?|<br\s?\/?>)/gi,r=s.exec(e);r&&i!==s.lastIndex;)i=s.lastIndex,r[5]?o.push(r[5]):r[1]&&o.push({tag:r[1],attribs:r[2],content:r[3],after:r[4]}),r=s.exec(e);for(n=0;n<o.length;n++)"string"!=typeof o[n]&&o[n].content&&(o[n].content=t(o[n].content));return o}(y),b=(y=l(y)).length),p===r.auto){if(this.height()<=v)return;for(e=0,n=b-1;e<=n;)o=e+(n-e>>1),s=i.eatStr(y,f,b-o,g),m&&h&&(s=c(s,h,g)),this.html(s),this.height()>v?n=o-1:(e=o+1,x=x.length>s.length?x:s);this.html(""),this.html(x),u.tooltip&&this.attr("title",a)}else isNaN(p)?t.error('Invalid width "'+p+'".'):(o=b-p,s=i.eatStr(y,f,o,g),this.html(s),u.tooltip&&this.attr("title",y))}a.prototype.updateSettings=function(e){this.settings=t.extend(this.settings,e)},e={init:function(e){return this.each(function(){var i=t(this),n=i.data("trunk8");n||i.data("trunk8",n=new a(this)),n.updateSettings(e),h.call(i)})},update:function(e){return this.each(function(){var i=t(this);e&&(i.data("trunk8").original_text=e),h.call(i)})},revert:function(){return this.each(function(){var e=t(this).data("trunk8").original_text;t(this).html(e)})},getSettings:function(){return t(this.get(0)).data("trunk8").settings}},(i={eatStr:function(e,r,a,l){var c,h,d=e.length,u=i.eatStr.generateKey.apply(null,arguments);if(i.eatStr.cache[u])return i.eatStr.cache[u];if("string"==typeof e&&0!==d||t.error('Invalid source string "'+e+'".'),a<0||a>d)t.error('Invalid bite size "'+a+'".');else if(0===a)return e;switch("string"!=typeof(l+"")&&t.error("Fill unable to be converted to a string."),r){case s:return i.eatStr.cache[u]=t.trim(e.substr(0,d-a))+l;case o:return i.eatStr.cache[u]=l+t.trim(e.substr(a));case n:return c=d>>1,h=a>>1,i.eatStr.cache[u]=t.trim(i.eatStr(e.substr(0,d-c),s,a-h,""))+l+t.trim(i.eatStr(e.substr(d-c),o,h,""));default:t.error('Invalid side "'+r+'".')}},getLineHeight:function(e){var i=t(e).css("float");"none"!==i&&t(e).css("float","none");var n=t(e).css("position");"absolute"===n&&t(e).css("position","static");var o,s=t(e).html();return t(e).html("i").wrap('<div id="line-height-test" />'),o=t("#line-height-test").innerHeight(),t(e).html(s).css({float:i,position:n}).unwrap(),o}}).eatStr.cache={},i.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,"")},t.fn.trunk8=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.trunk8"):e.init.apply(this,arguments)},t.fn.trunk8.defaults={fill:"&hellip;",lines:1,side:s,tooltip:!0,width:r.auto,parseHTML:!1}}(jQuery),function(t,e,i,n){function o(t){return"[object Function]"===Object.prototype.toString.call(t)}function s(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))}function r(t,e){var i=t;return f(t)?v.Easings[t]||(i=!1):i=g(t)&&2===t.length?b.apply(null,t.concat([e])):!(!g(t)||4!==t.length)&&y.apply(null,t),!1===i&&(i=v.Easings[v.defaults.easing]?v.defaults.easing:d),i}function a(t){if(t)for(var e=(new Date).getTime(),i=0,o=v.State.calls.length;o>i;i++)if(v.State.calls[i]){var s=v.State.calls[i],r=s[0],h=s[2],d=s[3];d||(d=v.State.calls[i][3]=e-16);for(var u=Math.min((e-d)/h.duration,1),g=0,y=r.length;y>g;g++){var b=r[g],w=b.element;if(m.data(w,c)){var k=!1;for(var C in h.display&&"none"!==h.display&&x.setPropertyValue(w,"display",h.display),b)if("element"!==C){var T,S=b[C],E=f(S.easing)?v.Easings[S.easing]:S.easing;if(T=1===u?S.endValue:S.startValue+(S.endValue-S.startValue)*E(u),S.currentValue=T,x.Hooks.registered[C]){var P=x.Hooks.getRoot(C),_=m.data(w,c).rootPropertyValueCache[P];_&&(S.rootPropertyValue=_)}var A=x.setPropertyValue(w,C,S.currentValue+(0===parseFloat(T)?"":S.unitType),S.rootPropertyValue,S.scrollData);x.Hooks.registered[C]&&(m.data(w,c).rootPropertyValueCache[P]=x.Normalizations.registered[P]?x.Normalizations.registered[P]("extract",null,A[1]):A[1]),"transform"===A[0]&&(k=!0)}h.mobileHA&&m.data(w,c).transformCache.translate3d===n&&(m.data(w,c).transformCache.translate3d="(0px, 0px, 0px)",k=!0),k&&x.flushTransformCache(w)}}h.display&&"none"!==h.display&&(v.State.calls[i][2].display=!1),h.progress&&h.progress.call(s[1],s[1],u,Math.max(0,d+h.duration-e),d),1===u&&l(i)}v.State.isTicking&&p(a)}function l(t){for(var e=v.State.calls[t][0],i=v.State.calls[t][1],o=v.State.calls[t][2],s=!1,r=0,a=e.length;a>r;r++){var l=e[r].element;if("none"!==o.display||o.loop||x.setPropertyValue(l,"display",o.display),(m.queue(l)[1]===n||!/\.velocityQueueEntryFlag/i.test(m.queue(l)[1]))&&m.data(l,c)){m.data(l,c).isAnimating=!1,m.data(l,c).rootPropertyValueCache={};var h,d=["transformPerspective","translateZ","rotateX","rotateY"],u=!1;for(var p in d)h=d[p],/^\(0[^.]/.test(m.data(l,c).transformCache[h])&&(u=!0,delete m.data(l,c).transformCache[h]);o.mobileHA&&(u=!0,delete m.data(l,c).transformCache.translate3d),u&&x.flushTransformCache(l)}o.complete&&!o.loop&&r===a-1&&o.complete.call(i,i),!1!==o.queue&&m.dequeue(l,o.queue)}v.State.calls[t]=!1;for(var f=0,g=v.State.calls.length;g>f;f++)if(!1!==v.State.calls[f]){s=!0;break}!1===s&&(v.State.isTicking=!1,delete v.State.calls,v.State.calls=[])}var c="velocity",h=400,d="swing",u=function(){if(i.documentMode)return i.documentMode;for(var t=7;t>4;t--){var e=i.createElement("div");if(e.innerHTML="\x3c!--[if IE "+t+"]><span></span><![endif]--\x3e",e.getElementsByTagName("span").length)return e=null,t}return n}(),p=e.requestAnimationFrame||function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var i,n=(new Date).getTime();return i=Math.max(0,16-(n-t)),t=n+i,setTimeout(function(){e(n+i)},i)}}(),f=function(t){return"string"==typeof t},g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},m=e.jQuery||t.Velocity&&t.Velocity.Utilities;if(!m)throw new Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(t.Velocity!==n&&!t.Velocity.Utilities)throw new Error("Velocity: Namespace is occupied.");if(7>=u){if(e.jQuery)return void(e.jQuery.fn.velocity=e.jQuery.fn.animate);throw new Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.")}if(8===u&&!e.jQuery)throw new Error("Velocity: For IE8, Velocity requires jQuery to be loaded. (Velocity's jQuery shim does not work with IE8.)");var v=t.Velocity=t.velocity={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:e.jQuery?{}:m,Sequences:{},Easings:{},defaults:{queue:"",duration:h,easing:d,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},animate:function(){},debug:!1};e.pageYOffset!==n?(v.State.scrollAnchor=e,v.State.scrollPropertyLeft="pageXOffset",v.State.scrollPropertyTop="pageYOffset"):(v.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,v.State.scrollPropertyLeft="scrollLeft",v.State.scrollPropertyTop="scrollTop");var y=function(){function t(t,e){return 1-3*e+3*t}function e(t,e){return 3*e-6*t}function i(t){return 3*t}function n(n,o,s){return((t(o,s)*n+e(o,s))*n+i(o))*n}function o(n,o,s){return 3*t(o,s)*n*n+2*e(o,s)*n+i(o)}return function(t,e,i,s){function r(e){for(var s=e,r=0;8>r;++r){var a=o(s,t,i);if(0===a)return s;s-=(n(s,t,i)-e)/a}return s}if(4!==arguments.length)return!1;for(var a=0;4>a;++a)if("number"!=typeof arguments[a]||isNaN(arguments[a])||!isFinite(arguments[a]))return!1;return t=Math.min(t,1),i=Math.min(i,1),t=Math.max(t,0),i=Math.max(i,0),function(o){return t===e&&i===s?o:n(r(o),e,s)}}}(),b=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,i,n){var o={x:e.x+n.dx*i,v:e.v+n.dv*i,tension:e.tension,friction:e.friction};return{dx:o.v,dv:t(o)}}function i(i,n){var o={dx:i.v,dv:t(i)},s=e(i,.5*n,o),r=e(i,.5*n,s),a=e(i,n,r),l=1/6*(o.dx+2*(s.dx+r.dx)+a.dx),c=1/6*(o.dv+2*(s.dv+r.dv)+a.dv);return i.x=i.x+l*n,i.v=i.v+c*n,i}return function t(e,n,o){var s,r,a,l={x:-1,v:0,tension:null,friction:null},c=[0],h=0;for(e=parseFloat(e)||600,n=parseFloat(n)||20,o=o||null,l.tension=e,l.friction=n,(s=null!==o)?r=(h=t(e,n))/o*.016:r=.016;a=i(a||l,r),c.push(1+a.x),h+=16,Math.abs(a.x)>1e-4&&Math.abs(a.v)>1e-4;);return s?function(t){return c[t*(c.length-1)|0]}:h}}();!function(){v.Easings.linear=function(t){return t},v.Easings.swing=function(t){return.5-Math.cos(t*Math.PI)/2},v.Easings.ease=y(.25,.1,.25,1),v.Easings["ease-in"]=y(.42,0,1,1),v.Easings["ease-out"]=y(0,0,.58,1),v.Easings["ease-in-out"]=y(.42,0,.58,1);var t={};m.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),m.extend(t,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),m.each(t,function(t,e){v.Easings["easeIn"+t]=e,v.Easings["easeOut"+t]=function(t){return 1-e(1-t)},v.Easings["easeInOut"+t]=function(t){return.5>t?e(2*t)/2:1-e(-2*t+2)/2}}),v.Easings.spring=function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}}();var x=v.CSS={RegEx:{valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Hooks:{templates:{color:["Red Green Blue Alpha","255 255 255 1"],backgroundColor:["Red Green Blue Alpha","255 255 255 1"],borderColor:["Red Green Blue Alpha","255 255 255 1"],borderTopColor:["Red Green Blue Alpha","255 255 255 1"],borderRightColor:["Red Green Blue Alpha","255 255 255 1"],borderBottomColor:["Red Green Blue Alpha","255 255 255 1"],borderLeftColor:["Red Green Blue Alpha","255 255 255 1"],outlineColor:["Red Green Blue Alpha","255 255 255 1"],textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0%"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){var t,e,i;if(u)for(t in x.Hooks.templates){i=(e=x.Hooks.templates[t])[0].split(" ");var n=e[1].match(x.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),n.push(n.shift()),x.Hooks.templates[t]=[i.join(" "),n.join(" ")])}for(t in x.Hooks.templates)for(var o in i=(e=x.Hooks.templates[t])[0].split(" ")){var s=t+i[o],r=o;x.Hooks.registered[s]=[t,r]}},getRoot:function(t){var e=x.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return x.RegEx.valueUnwrap.test(e)&&(e=e.match(x.Hooks.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(e)&&(e=x.Hooks.templates[t][1]),e},extractValue:function(t,e){var i=x.Hooks.registered[t];if(i){var n=i[0],o=i[1];return(e=x.Hooks.cleanRootPropertyValue(n,e)).toString().match(x.RegEx.valueSplit)[o]}return e},injectValue:function(t,e,i){var n=x.Hooks.registered[t];if(n){var o,s=n[0],r=n[1];return(o=(i=x.Hooks.cleanRootPropertyValue(s,i)).toString().match(x.RegEx.valueSplit))[r]=e,o.join(" ")}return i}},Normalizations:{registered:{clip:function(t,e,i){switch(t){case"name":return"clip";case"extract":var n;return x.RegEx.wrappedValueAlreadyExtracted.test(i)?n=i:n=(n=i.toString().match(x.RegEx.valueUnwrap))?n[1].replace(/,(\s+)?/g," "):i,n;case"inject":return"rect("+i+")"}},opacity:function(t,e,i){if(8>=u)switch(t){case"name":return"filter";case"extract":var n=i.toString().match(/alpha\(opacity=(.*)\)/i);return n?n[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(t){case"name":return"opacity";case"extract":case"inject":return i}}},register:function(){function t(t){var e;return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n}),(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))?"rgb("+parseInt(e[1],16)+" "+parseInt(e[2],16)+" "+parseInt(e[3],16)+")":"rgb(0 0 0)"}var e=["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"];9>=u||v.State.isGingerbread||(e=e.concat(["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]));for(var i=0,o=e.length;o>i;i++)!function(){var t=e[i];x.Normalizations.registered[t]=function(e,i,o){switch(e){case"name":return"transform";case"extract":return m.data(i,c).transformCache[t]===n?/^scale/i.test(t)?1:0:m.data(i,c).transformCache[t].replace(/[()]/g,"");case"inject":var s=!1;switch(t.substr(0,t.length-1)){case"translate":s=!/(%|px|em|rem|\d)$/i.test(o);break;case"scal":case"scale":v.State.isAndroid&&m.data(i,c).transformCache[t]===n&&(o=1),s=!/(\d)$/i.test(o);break;case"skew":s=!/(deg|\d)$/i.test(o);break;case"rotate":s=!/(deg|\d)$/i.test(o)}return s||(m.data(i,c).transformCache[t]="("+o+")"),m.data(i,c).transformCache[t]}}}();for(var s=["color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],r=(i=0,s.length);r>i;i++)!function(){var e=s[i];x.Normalizations.registered[e]=function(i,o,s){switch(i){case"name":return e;case"extract":var r;if(x.RegEx.wrappedValueAlreadyExtracted.test(s))r=s;else{var a,l={aqua:"rgb(0, 255, 255);",black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",fuchsia:"rgb(255, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",lime:"rgb(0, 255, 0)",maroon:"rgb(128, 0, 0)",navy:"rgb(0, 0, 128)",olive:"rgb(128, 128, 0)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",silver:"rgb(192, 192, 192)",teal:"rgb(0, 128, 128)",white:"rgb(255, 255, 255)",yellow:"rgb(255, 255, 0)"};/^[A-z]+$/i.test(s)?a=l[s]!==n?l[s]:l.black:/^#([A-f\d]{3}){1,2}$/i.test(s)?a=t(s):/^rgba?\(/i.test(s)||(a=l.black),r=(a||s).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=u||3!==r.split(" ").length||(r+=" 1"),r;case"inject":return 8>=u?4===s.split(" ").length&&(s=s.split(/\s+/).slice(0,3).join(" ")):3===s.split(" ").length&&(s+=" 1"),(8>=u?"rgb":"rgba")+"("+s.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},prefixCheck:function(t){if(v.State.prefixMatches[t])return[v.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],i=0,n=e.length;n>i;i++){var o;if(o=0===i?t:e[i]+t.replace(/^\w/,function(t){return t.toUpperCase()}),f(v.State.prefixElement.style[o]))return v.State.prefixMatches[t]=o,[o,!0]}return[t,!1]}},Values:{isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|opacity|alpha|fillOpacity|flexGrow|flexHeight|zIndex|fontWeight)$)|color/i.test(t)?"":"px"},getDisplayType:function(t){var e=t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":"block"}},getPropertyValue:function(t,i,o,s){function r(t,i){var o=0;if(8>=u)o=m.css(t,i);else{if(!s){if("height"===i&&"border-box"!==x.getPropertyValue(t,"boxSizing").toString().toLowerCase())return t.offsetHeight-(parseFloat(x.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(t,"paddingBottom"))||0);if("width"===i&&"border-box"!==x.getPropertyValue(t,"boxSizing").toString().toLowerCase())return t.offsetWidth-(parseFloat(x.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(t,"paddingRight"))||0)}var a;a=m.data(t,c)===n?e.getComputedStyle(t,null):m.data(t,c).computedStyle?m.data(t,c).computedStyle:m.data(t,c).computedStyle=e.getComputedStyle(t,null),u&&"borderColor"===i&&(i="borderTopColor"),(""===(o=9===u&&"filter"===i?a.getPropertyValue(i):a[i])||null===o)&&(o=t.style[i])}if("auto"===o&&/^(top|right|bottom|left)$/i.test(i)){var l=r(t,"position");("fixed"===l||"absolute"===l&&/top|left/i.test(i))&&(o=m(t).position()[i]+"px")}return o}var a;if(x.Hooks.registered[i]){var l=i,h=x.Hooks.getRoot(l);o===n&&(o=x.getPropertyValue(t,x.Names.prefixCheck(h)[0])),x.Normalizations.registered[h]&&(o=x.Normalizations.registered[h]("extract",t,o)),a=x.Hooks.extractValue(l,o)}else if(x.Normalizations.registered[i]){var d,p;"transform"!==(d=x.Normalizations.registered[i]("name",t))&&(p=r(t,x.Names.prefixCheck(d)[0]),x.Values.isCSSNullValue(p)&&x.Hooks.templates[i]&&(p=x.Hooks.templates[i][1])),a=x.Normalizations.registered[i]("extract",t,p)}return/^[\d-]/.test(a)||(a=r(t,x.Names.prefixCheck(i)[0])),x.Values.isCSSNullValue(a)&&(a=0),v.debug>=2&&console.log("Get "+i+": "+a),a},setPropertyValue:function(t,i,n,o,s){var r=i;if("scroll"===i)s.container?s.container["scroll"+s.direction]=n:"Left"===s.direction?e.scrollTo(n,s.alternateValue):e.scrollTo(s.alternateValue,n);else if(x.Normalizations.registered[i]&&"transform"===x.Normalizations.registered[i]("name",t))x.Normalizations.registered[i]("inject",t,n),r="transform",n=m.data(t,c).transformCache[i];else{if(x.Hooks.registered[i]){var a=i,l=x.Hooks.getRoot(i);o=o||x.getPropertyValue(t,l),n=x.Hooks.injectValue(a,n,o),i=l}if(x.Normalizations.registered[i]&&(n=x.Normalizations.registered[i]("inject",t,n),i=x.Normalizations.registered[i]("name",t)),r=x.Names.prefixCheck(i)[0],8>=u)try{t.style[r]=n}catch(t){console.log("Error setting ["+r+"] to ["+n+"]")}else t.style[r]=n;v.debug>=2&&console.log("Set "+i+" ("+r+"): "+n)}return[r,n]},flushTransformCache:function(t){var e,i,n,o="";for(e in m.data(t,c).transformCache)i=m.data(t,c).transformCache[e],"transformPerspective"!==e?(9===u&&"rotateZ"===e&&(e="rotate"),o+=e+i+" "):n=i;n&&(o="perspective"+n+" "+o),x.setPropertyValue(t,"transform",o)}};x.Hooks.register(),x.Normalizations.register(),v.animate=function(){function t(){function t(){function t(t){var i=n,a=n,l=n;return g(t)?(i=t[0],!g(t[1])&&/^[\d-]/.test(t[1])||o(t[1])?l=t[1]:(f(t[1])||g(t[1]))&&(a=r(t[1],s.duration),t[2]&&(l=t[2]))):i=t,a=a||s.easing,o(i)&&(i=i.call(e,C,k)),o(l)&&(l=l.call(e,C,k)),[i||0,a,l]}function h(t,e){var i,n;return n=(e||0).toString().toLowerCase().replace(/[%A-z]+$/,function(t){return i=t,""}),i||(i=x.Values.getUnitType(t)),[n,i]}function b(){var t={parent:e.parentNode,position:x.getPropertyValue(e,"position"),fontSize:x.getPropertyValue(e,"fontSize")},n=t.position===P.lastPosition&&t.parent===P.lastParent,o=t.fontSize===P.lastFontSize&&t.parent===P.lastParent;P.lastParent=t.parent,P.lastPosition=t.position,P.lastFontSize=t.fontSize,null===P.remToPxRatio&&(P.remToPxRatio=parseFloat(x.getPropertyValue(i.body,"fontSize"))||16);var s={overflowX:null,overflowY:null,boxSizing:null,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,paddingLeft:null},r={},a=10;if(r.remToPxRatio=P.remToPxRatio,u)var l=/^auto$/i.test(e.currentStyle.width),c=/^auto$/i.test(e.currentStyle.height);for(var h in n&&o||(s.overflowX=x.getPropertyValue(e,"overflowX"),s.overflowY=x.getPropertyValue(e,"overflowY"),s.boxSizing=x.getPropertyValue(e,"boxSizing"),s.width=x.getPropertyValue(e,"width",null,!0),s.minWidth=x.getPropertyValue(e,"minWidth"),s.maxWidth=x.getPropertyValue(e,"maxWidth")||"none",s.height=x.getPropertyValue(e,"height",null,!0),s.minHeight=x.getPropertyValue(e,"minHeight"),s.maxHeight=x.getPropertyValue(e,"maxHeight")||"none",s.paddingLeft=x.getPropertyValue(e,"paddingLeft")),n?(r.percentToPxRatioWidth=P.lastPercentToPxWidth,r.percentToPxRatioHeight=P.lastPercentToPxHeight):(x.setPropertyValue(e,"overflowX","hidden"),x.setPropertyValue(e,"overflowY","hidden"),x.setPropertyValue(e,"boxSizing","content-box"),x.setPropertyValue(e,"width","10%"),x.setPropertyValue(e,"minWidth","10%"),x.setPropertyValue(e,"maxWidth","10%"),x.setPropertyValue(e,"height","10%"),x.setPropertyValue(e,"minHeight","10%"),x.setPropertyValue(e,"maxHeight","10%")),o?r.emToPxRatio=P.lastEmToPx:x.setPropertyValue(e,"paddingLeft","10em"),n||(r.percentToPxRatioWidth=P.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(e,"width",null,!0))||1)/a,r.percentToPxRatioHeight=P.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(e,"height",null,!0))||1)/a),o||(r.emToPxRatio=P.lastEmToPx=(parseFloat(x.getPropertyValue(e,"paddingLeft"))||1)/a),s)null!==s[h]&&x.setPropertyValue(e,h,s[h]);return u?(l&&x.setPropertyValue(e,"width","auto"),c&&x.setPropertyValue(e,"height","auto")):(x.setPropertyValue(e,"height","auto"),s.height!==x.getPropertyValue(e,"height",null,!0)&&x.setPropertyValue(e,"height",s.height),x.setPropertyValue(e,"width","auto"),s.width!==x.getPropertyValue(e,"width",null,!0)&&x.setPropertyValue(e,"width",s.width)),v.debug>=1&&console.log("Unit ratios: "+JSON.stringify(r),e),r}if(s.begin&&0===C&&s.begin.call(d,d),"scroll"===w){var T,S,E,A=/^x$/i.test(s.axis)?"Left":"Top",M=parseFloat(s.offset)||0;s.container?s.container.jquery||s.container.nodeType?(s.container=s.container[0]||s.container,E=(T=s.container["scroll"+A])+m(e).position()[A.toLowerCase()]+M):s.container=null:(T=v.State.scrollAnchor[v.State["scrollProperty"+A]],S=v.State.scrollAnchor[v.State["scrollProperty"+("Left"===A?"Top":"Left")]],E=m(e).offset()[A.toLowerCase()]+M),l={scroll:{rootPropertyValue:!1,startValue:T,currentValue:T,endValue:E,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:A,alternateValue:S}},element:e}}else if("reverse"===w){if(!m.data(e,c).tweensContainer)return void m.dequeue(e,s.queue);"none"===m.data(e,c).opts.display&&(m.data(e,c).opts.display="block"),m.data(e,c).opts.loop=!1,m.data(e,c).opts.begin=null,m.data(e,c).opts.complete=null,y.easing||delete s.easing,y.duration||delete s.duration,s=m.extend({},m.data(e,c).opts,s);var D=m.extend(!0,{},m.data(e,c).tweensContainer);for(var $ in D)if("element"!==$){var I=D[$].startValue;D[$].startValue=D[$].currentValue=D[$].endValue,D[$].endValue=I,y&&(D[$].easing=s.easing)}l=D}else if("start"===w){for(var L in m.data(e,c).tweensContainer&&!0===m.data(e,c).isAnimating&&(D=m.data(e,c).tweensContainer),p){var O=t(p[L]),H=O[0],R=O[1],F=O[2];L=x.Names.camelCase(L);var W=x.Hooks.getRoot(L),B=!1;if(!1!==x.Names.prefixCheck(W)[1]||x.Normalizations.registered[W]!==n){var j,z,N,V,G;if(s.display&&"none"!==s.display&&/opacity|filter/.test(L)&&!F&&0!==H&&(F=0),s._cacheValues&&D&&D[L]?(F===n&&(F=D[L].endValue+D[L].unitType),B=m.data(e,c).rootPropertyValueCache[W]):x.Hooks.registered[L]?F===n?(B=x.getPropertyValue(e,W),F=x.getPropertyValue(e,L,B)):B=x.Hooks.templates[W][1]:F===n&&(F=x.getPropertyValue(e,L)),F=(j=h(L,F))[0],N=j[1],H=(j=h(L,H))[0].replace(/^([+-\/*])=/,function(t,e){return V=e,""}),z=j[1],F=parseFloat(F)||0,H=parseFloat(H)||0,"%"===z&&(/^(fontSize|lineHeight)$/.test(L)?(H/=100,z="em"):/^scale/.test(L)?(H/=100,z=""):/(Red|Green|Blue)$/i.test(L)&&(H=H/100*255,z="")),/[\/*]/.test(V))z=N;else if(N!==z&&0!==F)if(0===H)z=N;else{G=G||b();var Y=/margin|padding|left|right|width|text|word|letter/i.test(L)||/X$/.test(L)?"x":"y";switch(N){case"%":F*="x"===Y?G.percentToPxRatioWidth:G.percentToPxRatioHeight;break;case"em":F*=G.emToPxRatio;break;case"rem":F*=G.remToPxRatio}switch(z){case"%":F*=1/("x"===Y?G.percentToPxRatioWidth:G.percentToPxRatioHeight);break;case"em":F*=1/G.emToPxRatio;break;case"rem":F*=1/G.remToPxRatio}}switch(V){case"+":H=F+H;break;case"-":H=F-H;break;case"*":H*=F;break;case"/":H=F/H}l[L]={rootPropertyValue:B,startValue:F,currentValue:F,endValue:H,unitType:z,easing:R},v.debug&&console.log("tweensContainer ("+L+"): "+JSON.stringify(l[L]),e)}else v.debug&&console.log("Skipping ["+W+"] due to a lack of browser support.")}l.element=e}l.element&&(_.push(l),m.data(e,c).tweensContainer=l,m.data(e,c).opts=s,m.data(e,c).isAnimating=!0,C===k-1?(v.State.calls.length>1e4&&(v.State.calls=function(t){for(var e=-1,i=t?t.length:0,n=[];++e<i;){var o=t[e];o&&n.push(o)}return n}(v.State.calls)),v.State.calls.push([_,d,s]),!1===v.State.isTicking&&(v.State.isTicking=!0,a())):C++)}var e=this,s=m.extend({},v.defaults,y),l={};if("stop"===w)return m.queue(e,f(y)?y:"",[]),!0;switch(m.data(e,c)===n&&m.data(e,c,{isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}}),/^\d/.test(s.delay)&&!1!==s.queue&&m.queue(e,s.queue,function(t){v.velocityQueueEntryFlag=!0,setTimeout(t,parseFloat(s.delay))}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=h;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}s.easing=r(s.easing,s.duration),s.begin&&!o(s.begin)&&(s.begin=null),s.progress&&!o(s.progress)&&(s.progress=null),s.complete&&!o(s.complete)&&(s.complete=null),s.display&&(s.display=s.display.toString().toLowerCase()),s.mobileHA=s.mobileHA&&v.State.isMobile&&!v.State.isGingerbread,!1===s.queue?s.delay?setTimeout(t,s.delay):t():m.queue(e,s.queue,function(e){v.velocityQueueEntryFlag=!0,t()}),""!==s.queue&&"fx"!==s.queue||"inprogress"===m.queue(e)[0]||m.dequeue(e)}var e,l,d,p,y,b=arguments[0]&&(m.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||f(arguments[0].properties));if(s(this)?(l=0,d=this,e=this):(l=1,d=b?arguments[0].elements:arguments[0]),d=s(d)?[].slice.call(d):d){b?(p=arguments[0].properties,y=arguments[0].options):(p=arguments[l],y=arguments[l+1]);var w,k=function(t){var e=Object.prototype.toString.call(t);return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(e)&&t.length!==n&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)}(d)||g(d)?d.length:1,C=0;if("stop"!==p&&!m.isPlainObject(y)){y={};for(var T=l+1;T<arguments.length;T++)!g(arguments[T])&&/^\d/.test(arguments[T])?y.duration=parseFloat(arguments[T]):f(arguments[T])?y.easing=arguments[T]:!g(arguments[T])||2!==arguments[T].length&&4!==arguments[T].length?o(arguments[T])&&(y.complete=arguments[T]):y.easing=arguments[T]}switch(p){case"scroll":w="scroll";break;case"reverse":w="reverse";break;case"stop":w="stop";break;default:if(!m.isPlainObject(p)||m.isEmptyObject(p)){if(f(p)&&v.Sequences[p]){var S=d,E=y.duration;return!0===y.backwards&&(d=(d.jquery?[].slice.call(d):d).reverse()),m.each(d,function(t,e){parseFloat(y.stagger)&&(y.delay=parseFloat(y.stagger)*t),y.drag&&(y.duration=parseFloat(E)||(/^(callout|transition)/.test(p)?1e3:h),y.duration=Math.max(y.duration*(y.backwards?1-t/k:(t+1)/k),.75*y.duration,200)),v.Sequences[p].call(e,e,y||{},t,k)}),e||S}return console.log("First argument was not a property map, a known action, or a registered sequence. Aborting."),e||d}w="start"}var P={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPxRatio:null},_=[];d.nodeType?t.call(d):m.each(d,function(e,i){i.nodeType&&t.call(i)});var A,M=m.extend({},v.defaults,y);if(M.loop=parseInt(M.loop),A=2*M.loop-1,M.loop)for(var D=0;A>D;D++){var $={delay:M.delay};M.complete&&D===A-1&&($.complete=M.complete),v.animate(d,"reverse",$)}return e||d}};var w=e.jQuery||e.Zepto;w&&(w.fn.velocity=v.animate,w.fn.velocity.defaults=v.defaults),"undefined"!=typeof define&&define.amd?define(function(){return v}):"undefined"!=typeof module&&module.exports&&(module.exports=v),m.each(["Down","Up"],function(t,e){v.Sequences["slide"+e]=function(t,i){var n=m.extend({},i),o={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},s=n.begin,r=n.complete,a=!1;null!==n.display&&(n.display="Down"===e?n.display||v.CSS.Values.getDisplayType(t):n.display||"none"),n.begin=function(){function i(){t.style.display="block",o.height=v.CSS.getPropertyValue(t,"height"),t.style.height="auto",v.CSS.getPropertyValue(t,"height")===o.height&&(a=!0),v.CSS.setPropertyValue(t,"height",o.height+"px")}if("Down"===e){for(var n in o.overflow=[v.CSS.getPropertyValue(t,"overflow"),0],o.overflowX=[v.CSS.getPropertyValue(t,"overflowX"),0],o.overflowY=[v.CSS.getPropertyValue(t,"overflowY"),0],t.style.overflow="hidden",t.style.overflowX="visible",t.style.overflowY="hidden",i(),o)/^overflow/.test(n)||(o[n]=[v.CSS.getPropertyValue(t,n),0]);t.style.display="none"}else{for(var n in i(),o)o[n]=[0,v.CSS.getPropertyValue(t,n)];t.style.overflow="hidden",t.style.overflowX="visible",t.style.overflowY="hidden"}s&&s.call(t,t)},n.complete=function(t){var i="Down"===e?0:1;for(var n in!0===a?o.height[i]="auto":o.height[i]+="px",o)t.style[n]=o[n][i];r&&r.call(t,t)},v.animate(t,o,n)}}),m.each(["In","Out"],function(t,e){v.Sequences["fade"+e]=function(t,i,n,o){var s=m.extend({},i),r={opacity:"In"===e?1:0};n!==o-1&&(s.complete=s.begin=null),null!==s.display&&(s.display="In"===e?v.CSS.Values.getDisplayType(t):"none"),v.animate(this,r,s)}})}(window.jQuery||window.Zepto||window,window,document),function(t){"use strict";t.picturefill=function(){for(var e=t.document.getElementsByTagName("span"),i=0,n=e.length;i<n;i++)if(null!==e[i].getAttribute("data-picture")){for(var o=e[i].getElementsByTagName("span"),s=[],r=0,a=o.length;r<a;r++){var l=o[r].getAttribute("data-media");(!l||t.matchMedia&&t.matchMedia(l).matches)&&s.push(o[r])}var c=e[i].getElementsByTagName("img")[0];if(s.length){var h=s.pop();if(c&&"NOSCRIPT"!==c.parentNode.nodeName){if(h===c.parentNode)continue}else(c=t.document.createElement("img")).alt=e[i].getAttribute("data-alt");c.src=h.getAttribute("data-src"),h.appendChild(c),c.removeAttribute("width"),c.removeAttribute("height")}else c&&c.parentNode.removeChild(c)}},t.addEventListener?(t.addEventListener("resize",t.picturefill,!1),t.addEventListener("DOMContentLoaded",function(){t.picturefill(),t.removeEventListener("load",t.picturefill,!1)},!1),t.addEventListener("load",t.picturefill,!1)):t.attachEvent&&t.attachEvent("onload",t.picturefill)}(this),function(t,e,i){function n(t){if(!t.getBoundingClientRect){if(!t.document)return;t=t.document.documentElement}var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.right-e.left,height:e.bottom-e.top}}function o(i){function o(){s=e[l](function(){("resizeH"!==i||dTaiko.needsCheckH)&&("resizeW"!==i||dTaiko.needsCheckW)?(r.each(function(){var e,o,s=t(this),r=t.data(this,h),a=n(s.get(0));o=a,void 0===(e=r)||void 0===o||("resize"==i?e.width===o.width&&e.height===o.height:"resizeW"==i?e.width===o.width:"resizeH"==i?e.height===o.height:"position"!=i||e.top===o.top&&e.left===o.left)||s.trigger(c,a)}),"resizeH"===i&&(dTaiko.needsCheckH=!1),"resizeW"===i&&(dTaiko.needsCheckW=!1),o()):o()},a[d])}var s,r=t([]),a=t[i]=t.extend(t[i],{}),l="setTimeout",c=i,h=c+"-special-event",d="delay";return a[d]=1e3,a.throttleWindow=!1,{noBubble:!0,setup:function(){if("resize"==i&&!a.throttleWindow&&this[l])return!1;var e=t(this);r=r.add(e),t.data(this,h,n(e.get(0))),1===r.length&&o()},teardown:function(){if(!a.throttleWindow&&this[l])return!1;var e=t(this);r=r.not(e),e.removeData(h),r.length||clearTimeout(s)},add:function(e){if(!a.throttleWindow&&this[l])return!1;var i;function o(e,o){var s=t(this);!o&&(o=n(s.get(0))),s.data(h,o),i.call(this,e,o)}if(t.isFunction(e))return i=e,o;i=e.handler,e.handler=o}}}t.event.special.resizeW=o("resizeW"),t.event.special.resizeH=o("resizeH"),t.event.special.resize=o("resize"),t.event.special.position=o("position")}(jQuery,this),function(t){"use strict";function e(t,e){if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveStart("character",t),i.moveEnd("character",e-t),i.select()}else this.setSelectionRange&&(this.focus(),this.setSelectionRange(t,e))}function i(t){var e=this.value.length;if(t="start"==t.toLowerCase()?"Start":"End",document.selection){var i,n,o,s=document.selection.createRange();return(i=s.duplicate()).expand("textedit"),i.setEndPoint("EndToEnd",s),o=(n=i.text.length-s.text.length)+s.text.length,"Start"==t?n:o}return void 0!==this["selection"+t]&&(e=this["selection"+t]),e}var n={codes:{188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};t.fn.number=function(o,s,r,a){a=void 0===a?",":a,s=void 0===s?0:s;var l="\\u"+("0000"+(r=void 0===r?".":r).charCodeAt(0).toString(16)).slice(-4),c=new RegExp("[^"+l+"0-9]","g"),h=new RegExp(l,"g");return!0===o?this.is("input:text")?this.on({"keydown.format":function(o){var l=t(this),d=l.data("numFormat"),u=o.keyCode?o.keyCode:o.which,p="",f=i.apply(this,["start"]),g=i.apply(this,["end"]),m="",v=!1;if(n.codes.hasOwnProperty(u)&&(u=n.codes[u]),!o.shiftKey&&u>=65&&u<=90?u+=32:!o.shiftKey&&u>=69&&u<=105?u-=48:o.shiftKey&&n.shifts.hasOwnProperty(u)&&(p=n.shifts[u]),""==p&&(p=String.fromCharCode(u)),8!==u&&p!=r&&!p.match(/[0-9]/)){var y=o.keyCode?o.keyCode:o.which;if(46==y||8==y||9==y||27==y||13==y||(65==y||82==y)&&!0===(o.ctrlKey||o.metaKey)||(86==y||67==y)&&!0===(o.ctrlKey||o.metaKey)||y>=35&&y<=39)return;return o.preventDefault(),!1}if(0==f&&g==this.value.length||0==l.val()?8===u?(f=g=1,this.value="",d.init=s>0?-1:0,d.c=s>0?-(s+1):0,e.apply(this,[0,0])):p===r?(f=g=1,this.value="0"+r+new Array(s+1).join("0"),d.init=s>0?1:0,d.c=s>0?-(s+1):0):0===this.value.length&&(d.init=s>0?-1:0,d.c=s>0?-s:0):d.c=g-this.value.length,s>0&&p==r&&f==this.value.length-s-1)d.c++,d.init=Math.max(0,d.init),o.preventDefault(),v=this.value.length+d.c;else if(p==r)d.init=Math.max(0,d.init),o.preventDefault();else if(s>0&&8==u&&f==this.value.length-s)o.preventDefault(),d.c--,v=this.value.length+d.c;else if(s>0&&8==u&&f>this.value.length-s){if(""===this.value)return;"0"!=this.value.slice(f-1,f)&&(m=this.value.slice(0,f-1)+"0"+this.value.slice(f),l.val(m.replace(c,"").replace(h,r))),o.preventDefault(),d.c--,v=this.value.length+d.c}else 8==u&&this.value.slice(f-1,f)==a?(o.preventDefault(),d.c--,v=this.value.length+d.c):s>0&&f==g&&this.value.length>s+1&&f>this.value.length-s-1&&isFinite(+p)&&!o.metaKey&&!o.ctrlKey&&!o.altKey&&1===p.length&&(m=g===this.value.length?this.value.slice(0,f-1):this.value.slice(0,f)+this.value.slice(f+1),this.value=m,v=f);!1!==v&&e.apply(this,[v,v]),l.data("numFormat",d)},"keyup.format":function(n){var o,r=t(this),a=r.data("numFormat"),l=n.keyCode?n.keyCode:n.which,c=i.apply(this,["start"]);""===this.value||(l<48||l>57)&&(l<96||l>105)&&8!==l||(r.val(r.val()),s>0&&(a.init<1?(c=this.value.length-s-(a.init<0?1:0),a.c=c-this.value.length,a.init=1,r.data("numFormat",a)):c>this.value.length-s&&8!=l&&(a.c++,r.data("numFormat",a))),o=this.value.length+a.c,e.apply(this,[o,o]))},"paste.format":function(e){var i=t(this),n=e.originalEvent,o=null;return window.clipboardData&&window.clipboardData.getData?o=window.clipboardData.getData("Text"):n.clipboardData&&n.clipboardData.getData&&(o=n.clipboardData.getData("text/plain")),i.val(o),e.preventDefault(),!1}}).each(function(){var e=t(this).data("numFormat",{c:-(s+1),decimals:s,thousands_sep:a,dec_point:r,regex_dec_num:c,regex_dec:h,init:!1});""!==this.value&&e.val(e.val())}):this.each(function(){var e=t(this),i=+e.text().replace(c,"").replace(h,".");e.number(isFinite(i)?+i:0,s,r,a)}):this.text(t.number.apply(window,arguments))};var o=null,s=null;t.isPlainObject(t.valHooks.text)?(t.isFunction(t.valHooks.text.get)&&(o=t.valHooks.text.get),t.isFunction(t.valHooks.text.set)&&(s=t.valHooks.text.set)):t.valHooks.text={},t.valHooks.text.get=function(e){var i,n=t(e).data("numFormat");return n?""===e.value?"":(i=+e.value.replace(n.regex_dec_num,"").replace(n.regex_dec,"."),""+(isFinite(i)?i:0)):t.isFunction(o)?o(e):void 0},t.valHooks.text.set=function(e,i){var n=t(e).data("numFormat");return n?e.value=t.number(i,n.decimals,n.dec_point,n.thousands_sep):t.isFunction(s)?s(e,i):void 0},t.number=function(t,e,i,n){n=void 0===n?",":n,i=void 0===i?".":i,e=isFinite(+e)?Math.abs(e):0;var o="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4),s="\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4);t=(t+"").replace(".",i).replace(new RegExp(s,"g"),"").replace(new RegExp(o,"g"),".").replace(new RegExp("[^0-9+-Ee.]","g"),"");var r=isFinite(+t)?+t:0,a="";return(a=(e?function(t,e){var i=Math.pow(10,e);return""+Math.round(t*i)/i}(r,e):""+Math.round(r)).split("."))[0].length>3&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,n)),(a[1]||"").length<e&&(a[1]=a[1]||"",a[1]+=new Array(e-a[1].length+1).join("0")),a.join(i)}}(jQuery),function(t){var e=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;if(t.support.touch="ontouchend"in document||e,t.support.touch){var i,n=t.ui.mouse.prototype,o=n._mouseInit,s=n._mouseDestroy;n._touchStart=function(t){i||!e&&!this._mouseCapture(t.originalEvent.changedTouches[0])||(i=!0,this._touchMoved=!1,r(t,"mouseover"),r(t,"mousemove"),r(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,r(t,"mousemove"))},n._touchEnd=function(t){i&&(r(t,"mouseup"),r(t,"mouseout"),this._touchMoved||r(t,"click"),i=!1)},n._mouseInit=function(){var i=this;$el=i.element,$el.hasClass("ui-draggable")||$el.hasClass("ui-sortable")?($el.hasClass("ui-draggable")&&($handles=t($el.draggable("option","handle"))),$el.hasClass("ui-sortable")&&($handles=t($el.sortable("option","handle"))),e?$handles.each(function(){t(this).bind({pointerDown:t.proxy(i,"_touchStart"),pointerMove:t.proxy(i,"_touchMove"),pointerUp:t.proxy(i,"_touchEnd"),MSPointerDown:t.proxy(i,"_touchStart"),MSPointerMove:t.proxy(i,"_touchMove"),MSPointerUp:t.proxy(i,"_touchEnd")}),o.call(i)}):$handles.each(function(){t(this).bind({touchstart:t.proxy(i,"_touchStart"),touchmove:t.proxy(i,"_touchMove"),touchend:t.proxy(i,"_touchEnd")}),o.call(i)}),$handles.each(function(){t(this).bind({pointerDown:t.proxy(i,"_touchStart"),pointerMove:t.proxy(i,"_touchMove"),pointerUp:t.proxy(i,"_touchEnd"),MSPointerDown:t.proxy(i,"_touchStart"),MSPointerMove:t.proxy(i,"_touchMove"),MSPointerUp:t.proxy(i,"_touchEnd")}),o.call(i)})):(e?i.element.bind({pointerDown:t.proxy(i,"_touchStart"),pointerMove:t.proxy(i,"_touchMove"),pointerUp:t.proxy(i,"_touchEnd"),MSPointerDown:t.proxy(i,"_touchStart"),MSPointerMove:t.proxy(i,"_touchMove"),MSPointerUp:t.proxy(i,"_touchEnd")}):i.element.bind({touchstart:t.proxy(i,"_touchStart"),touchmove:t.proxy(i,"_touchMove"),touchend:t.proxy(i,"_touchEnd")}),o.call(i))},n._mouseDestroy=function(){this.element.unbind({pointerDown:t.proxy(this,"_touchStart"),pointerMove:t.proxy(this,"_touchMove"),pointerUp:t.proxy(this,"_touchEnd"),MSPointerDown:t.proxy(this,"_touchStart"),MSPointerMove:t.proxy(this,"_touchMove"),MSPointerUp:t.proxy(this,"_touchEnd")}),s.call(this)}}function r(t,i){if(!(!e&&t.originalEvent.touches.length>1||e&&!t.isPrimary)){t.preventDefault();var n=e?t.originalEvent:t.originalEvent.changedTouches[0],o=document.createEvent("MouseEvents");o.initMouseEvent(i,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(o)}}}(jQuery),function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(function(t){"use strict";var e="left",i="right",n="up",o="down",s="in",r="out",a="none",l="auto",c="swipe",h="pinch",d="tap",u="doubletap",p="longtap",f="horizontal",g="vertical",m="all",v=10,y="start",b="move",x="end",w="cancel",k="ontouchstart"in window,C=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,T=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,S="TouchSwipe";function E(E,P){var _=k||T||!P.fallbackToMouseEvents,A=_?T?C?"MSPointerDown":"pointerdown":"touchstart":"mousedown",M=_?T?C?"MSPointerMove":"pointermove":"touchmove":"mousemove",D=_?T?C?"MSPointerUp":"pointerup":"touchend":"mouseup",$=_?null:"mouseleave",I=T?C?"MSPointerCancel":"pointercancel":"touchcancel",L=0,O=null,H=0,R=0,F=0,W=1,B=0,j=0,z=null,N=t(E),V="start",G=0,Y=null,X=0,U=0,q=0,K=0,Q=0,Z=null,J=null;try{N.bind(A,tt),N.bind(I,nt)}catch(e){t.error("events not supported "+A+","+I+" on jQuery.swipe")}function tt(s){if(!0!==N.data(S+"_intouch")&&!(t(s.target).closest(P.excludedElements,N).length>0)){var r,a,l=s.originalEvent?s.originalEvent:s,c=k?l.touches[0]:l;return V=y,k?G=l.touches.length:s.preventDefault(),L=0,O=null,j=null,H=0,R=0,F=0,W=1,B=0,Y=function(){for(var t=[],e=0;e<=5;e++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}(),(a={})[e]=_t(e),a[i]=_t(i),a[n]=_t(n),a[o]=_t(o),z=a,kt(),!k||G===P.fingers||P.fingers===m||pt()?(St(0,c),X=Dt(),2==G&&(St(1,l.touches[1]),R=F=Mt(Y[0].start,Y[1].start)),(P.swipeStatus||P.pinchStatus)&&(r=at(l,V))):r=!1,!1===r?(at(l,V=w),r):(P.hold&&(J=setTimeout(t.proxy(function(){N.trigger("hold",[l.target]),P.hold&&(r=P.hold.call(N,l,l.target))},this),P.longTapThreshold)),Tt(!0),null)}}function et(c){var h=c.originalEvent?c.originalEvent:c;if(V!==x&&V!==w&&!Ct()){var d,u,p,v,y,C,T=Et(k?h.touches[0]:h);if(U=Dt(),k&&(G=h.touches.length),P.hold&&clearTimeout(J),V=b,2==G&&(0==R?(St(1,h.touches[1]),R=F=Mt(Y[0].start,Y[1].start)):(Et(h.touches[1]),F=Mt(Y[0].end,Y[1].end),Y[0].end,Y[1].end,j=W<1?r:s),W=(F/R*1).toFixed(2),B=Math.abs(R-F)),G===P.fingers||P.fingers===m||!k||pt()){if(v=T.start,y=T.end,C=function(t,e){var i=t.x-e.x,n=e.y-t.y,o=Math.atan2(n,i),s=Math.round(180*o/Math.PI);s<0&&(s=360-Math.abs(s));return s}(v,y),function(t,s){if(P.allowPageScroll===a||pt())t.preventDefault();else{var r=P.allowPageScroll===l;switch(s){case e:(P.swipeLeft&&r||!r&&P.allowPageScroll!=f)&&t.preventDefault();break;case i:(P.swipeRight&&r||!r&&P.allowPageScroll!=f)&&t.preventDefault();break;case n:(P.swipeUp&&r||!r&&P.allowPageScroll!=g)&&t.preventDefault();break;case o:(P.swipeDown&&r||!r&&P.allowPageScroll!=g)&&t.preventDefault()}}}(c,O=C<=45&&C>=0?e:C<=360&&C>=315?e:C>=135&&C<=225?i:C>45&&C<135?o:n),L=function(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}(T.start,T.end),H=At(),function(t,e){e=Math.max(e,Pt(t)),z[t].distance=e}(O,L),(P.swipeStatus||P.pinchStatus)&&(d=at(h,V)),!P.triggerOnTouchEnd||P.triggerOnTouchLeave){var S=!0;if(P.triggerOnTouchLeave){var E={left:(p=(u=t(u=this)).offset()).left,right:p.left+u.outerWidth(),top:p.top,bottom:p.top+u.outerHeight()};S=function(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}(T.end,E)}!P.triggerOnTouchEnd&&S?V=rt(b):P.triggerOnTouchLeave&&!S&&(V=rt(x)),V!=w&&V!=x||at(h,V)}}else at(h,V=w);!1===d&&at(h,V=w)}}function it(t){var e=t.originalEvent;return k&&e.touches.length>0?(wt(),!0):(Ct()&&(G=K),U=Dt(),H=At(),ht()||!ct()?at(e,V=w):P.triggerOnTouchEnd||0==P.triggerOnTouchEnd&&V===b?(t.preventDefault(),at(e,V=x)):!P.triggerOnTouchEnd&&yt()?lt(e,V=x,d):V===b&&at(e,V=w),Tt(!1),null)}function nt(){G=0,U=0,X=0,R=0,F=0,W=1,kt(),Tt(!1)}function ot(t){var e=t.originalEvent;P.triggerOnTouchLeave&&at(e,V=rt(x))}function st(){N.unbind(A,tt),N.unbind(I,nt),N.unbind(M,et),N.unbind(D,it),$&&N.unbind($,ot),Tt(!1)}function rt(t){var e=t,i=dt(),n=ct(),o=ht();return!i||o?e=w:!n||t!=b||P.triggerOnTouchEnd&&!P.triggerOnTouchLeave?!n&&t==x&&P.triggerOnTouchLeave&&(e=w):e=x,e}function at(t,e){var i=void 0;return ft()&&gt()||gt()?i=lt(t,e,c):(ut()&&pt()||pt())&&!1!==i&&(i=lt(t,e,h)),xt()&&bt()&&!1!==i?i=lt(t,e,u):H>P.longTapThreshold&&L<v&&P.longTap&&!1!==i?i=lt(t,e,p):1!==G&&k||!(isNaN(L)||L<P.threshold)||!yt()||!1===i||(i=lt(t,e,d)),e===w&&nt(),e===x&&(k?0==t.touches.length&&nt():nt()),i}function lt(a,l,f){var g=void 0;if(f==c){if(N.trigger("swipeStatus",[l,O||null,L||0,H||0,G,Y]),P.swipeStatus&&!1===(g=P.swipeStatus.call(N,a,l,O||null,L||0,H||0,G,Y)))return!1;if(l==x&&ft()){if(N.trigger("swipe",[O,L,H,G,Y]),P.swipe&&!1===(g=P.swipe.call(N,a,O,L,H,G,Y)))return!1;switch(O){case e:N.trigger("swipeLeft",[O,L,H,G,Y]),P.swipeLeft&&(g=P.swipeLeft.call(N,a,O,L,H,G,Y));break;case i:N.trigger("swipeRight",[O,L,H,G,Y]),P.swipeRight&&(g=P.swipeRight.call(N,a,O,L,H,G,Y));break;case n:N.trigger("swipeUp",[O,L,H,G,Y]),P.swipeUp&&(g=P.swipeUp.call(N,a,O,L,H,G,Y));break;case o:N.trigger("swipeDown",[O,L,H,G,Y]),P.swipeDown&&(g=P.swipeDown.call(N,a,O,L,H,G,Y))}}}if(f==h){if(N.trigger("pinchStatus",[l,j||null,B||0,H||0,G,W,Y]),P.pinchStatus&&!1===(g=P.pinchStatus.call(N,a,l,j||null,B||0,H||0,G,W,Y)))return!1;if(l==x&&ut())switch(j){case s:N.trigger("pinchIn",[j||null,B||0,H||0,G,W,Y]),P.pinchIn&&(g=P.pinchIn.call(N,a,j||null,B||0,H||0,G,W,Y));break;case r:N.trigger("pinchOut",[j||null,B||0,H||0,G,W,Y]),P.pinchOut&&(g=P.pinchOut.call(N,a,j||null,B||0,H||0,G,W,Y))}}return f==d?l!==w&&l!==x||(clearTimeout(Z),clearTimeout(J),bt()&&!xt()?(Q=Dt(),Z=setTimeout(t.proxy(function(){Q=null,N.trigger("tap",[a.target]),P.tap&&(g=P.tap.call(N,a,a.target))},this),P.doubleTapThreshold)):(Q=null,N.trigger("tap",[a.target]),P.tap&&(g=P.tap.call(N,a,a.target)))):f==u?l!==w&&l!==x||(clearTimeout(Z),Q=null,N.trigger("doubletap",[a.target]),P.doubleTap&&(g=P.doubleTap.call(N,a,a.target))):f==p&&(l!==w&&l!==x||(clearTimeout(Z),Q=null,N.trigger("longtap",[a.target]),P.longTap&&(g=P.longTap.call(N,a,a.target)))),g}function ct(){var t=!0;return null!==P.threshold&&(t=L>=P.threshold),t}function ht(){var t=!1;return null!==P.cancelThreshold&&null!==O&&(t=Pt(O)-L>=P.cancelThreshold),t}function dt(){return!P.maxTimeThreshold||!(H>=P.maxTimeThreshold)}function ut(){var t=mt(),e=vt(),i=null===P.pinchThreshold||B>=P.pinchThreshold;return t&&e&&i}function pt(){return!!(P.pinchStatus||P.pinchIn||P.pinchOut)}function ft(){var t=dt(),e=ct(),i=mt(),n=vt();return!ht()&&n&&i&&e&&t}function gt(){return!!(P.swipe||P.swipeStatus||P.swipeLeft||P.swipeRight||P.swipeUp||P.swipeDown)}function mt(){return G===P.fingers||P.fingers===m||!k}function vt(){return 0!==Y[0].end.x}function yt(){return!!P.tap}function bt(){return!!P.doubleTap}function xt(){if(null==Q)return!1;var t=Dt();return bt()&&t-Q<=P.doubleTapThreshold}function wt(){q=Dt(),K=event.touches.length+1}function kt(){q=0,K=0}function Ct(){var t=!1;q&&(Dt()-q<=P.fingerReleaseThreshold&&(t=!0));return t}function Tt(t){!0===t?(N.bind(M,et),N.bind(D,it),$&&N.bind($,ot)):(N.unbind(M,et,!1),N.unbind(D,it,!1),$&&N.unbind($,ot,!1)),N.data(S+"_intouch",!0===t)}function St(t,e){var i=void 0!==e.identifier?e.identifier:0;return Y[t].identifier=i,Y[t].start.x=Y[t].end.x=e.pageX||e.clientX,Y[t].start.y=Y[t].end.y=e.pageY||e.clientY,Y[t]}function Et(t){var e=function(t){for(var e=0;e<Y.length;e++)if(Y[e].identifier==t)return Y[e]}(void 0!==t.identifier?t.identifier:0);return e.end.x=t.pageX||t.clientX,e.end.y=t.pageY||t.clientY,e}function Pt(t){if(z[t])return z[t].distance}function _t(t){return{direction:t,distance:0}}function At(){return U-X}function Mt(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function Dt(){return(new Date).getTime()}this.enable=function(){return N.bind(A,tt),N.bind(I,nt),N},this.disable=function(){return st(),N},this.destroy=function(){return st(),N.data(S,null),N},this.option=function(e,i){if(void 0!==P[e]){if(void 0===i)return P[e];P[e]=i}else t.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}t.fn.swipe=function(e){var i=t(this),n=i.data(S);if(n&&"string"==typeof e){if(n[e])return n[e].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(n||"object"!=typeof e&&e))return function(e){!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=a);void 0!==e.click&&void 0===e.tap&&(e.tap=e.click);e||(e={});return e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var i=t(this),n=i.data(S);n||(n=new E(this,e),i.data(S,n))})}.apply(this,arguments);return i},t.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"},t.fn.swipe.phases={PHASE_START:y,PHASE_MOVE:b,PHASE_END:x,PHASE_CANCEL:w},t.fn.swipe.directions={LEFT:e,RIGHT:i,UP:n,DOWN:o,IN:s,OUT:r},t.fn.swipe.pageScroll={NONE:a,HORIZONTAL:f,VERTICAL:g,AUTO:l},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:m}}),function(t){"use strict";function e(t){return ko.isObservable(t)&&!(void 0===t.destroyAll)}function i(e,i){this.options=this.mergeOptions(i),this.$select=t(e),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=t.proxy(this.options.onChange,this),this.options.onDropdownShow=t.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=t.proxy(this.options.onDropdownHide,this),this.buildContainer(),this.buildButton(),this.buildSelectAll(),this.buildDropdown(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={init:function(i,n,o,s,r){var a=o().selectedOptions,l=ko.utils.unwrapObservable(n());t(i).multiselect(l),e(a)&&a.subscribe(function(e){var n=[],o=[];e.forEach(function(t){switch(t.status){case"added":n.push(t.value);break;case"deleted":o.push(t.value)}}),n.length>0&&t(i).multiselect("select",n),o.length>0&&t(i).multiselect("deselect",o)},null,"arrayChange")},update:function(i,n,o,s,r){var a=o().options,l=t(i).data("multiselect"),c=ko.utils.unwrapObservable(n());e(a)&&a.subscribe(function(e){t(i).multiselect("rebuild")}),l?l.updateOriginalOptions():t(i).multiselect(c)}}),i.prototype={defaults:{buttonText:function(e,i){if(0===e.length)return this.nonSelectedText+' <b class="caret"></b>';if(e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText+' <b class="caret"></b>';var n="";return e.each(function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).html();n+=e+", "}),n.substr(0,n.length-2)+' <b class="caret"></b>'},buttonTitle:function(e,i){if(0===e.length)return this.nonSelectedText;var n="Einrichtung Tabellenansicht: ";return e.each(function(){n+=t(this).text()+", "}),n.substr(0,n.length-2)},label:function(e){return t(e).attr("label")||t(e).html()},onChange:function(t,e){},onDropdownShow:function(t){},onDropdownHide:function(t){},buttonClass:"btn btn-default",dropRight:!1,selectedClass:"active",buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',maxHeight:!1,checkboxName:"multiselect",includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",enableFiltering:!1,enableCaseInsensitiveFiltering:!1,filterPlaceholder:"Search",filterBehavior:"text",preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",numberDisplayed:3,templates:{button:'<button type="button" class="multiselect dropdown-toggle vp" data-toggle="dropdown"><span class="vc"></span></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div>',li:'<li class="vp"><a class="vc vp" href="javascript:void(0);"><label></label></a></li>',divider:'<li class="divider"></li>',liGroup:'<li><label class="multiselect-group"></label></li>'}},constructor:i,buildContainer:function(){this.$container=t(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide)},buildButton:function(){this.$button=t(this.options.templates.button).addClass(this.options.buttonClass),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&this.$button.css({width:this.options.buttonWidth});var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=t(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(t.proxy(function(e,i){var n=t(i).prop("tagName").toLowerCase();"optgroup"===n?this.createOptgroup(i):"option"===n&&("divider"===t(i).data("role")?this.createDivider():this.createOptionValue(i))},this)),t("li input",this.$ul).on("change",t.proxy(function(e){var i=t(e.target),n=i.prop("checked")||!1,o=i.val()===this.options.selectAllValue;this.options.selectedClass&&(n?i.parents("li").addClass(this.options.selectedClass):i.parents("li").removeClass(this.options.selectedClass));var s=i.val(),r=this.getOptionByValue(s),a=t("option",this.$select).not(r),l=t("input",this.$container).not(i);if(o){for(var c=[],h=t('li input[value!="'+this.options.selectAllValue+'"][data-role!="divider"]',this.$ul).filter(":visible"),d=0,u=h.length;d<u;d++)c.push(h[d].value);n?this.select(c):this.deselect(c)}if(n?(r.prop("selected",!0),this.options.multiple?r.prop("selected",!0):(this.options.selectedClass&&t(l).parents("li").removeClass(this.options.selectedClass),t(l).prop("checked",!1),a.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&a.parents("a").css("outline","")):r.prop("selected",!1),this.$select.change(),this.options.onChange(r,n),this.updateButtonText(),this.updateSelectAll(),this.options.preventInputChangeEvent)return!1},this)),t("li a",this.$ul).on("touchstart click",function(e){e.stopPropagation(),console.log("touchstart");var i=t(e.target);if(e.shiftKey&&(i.prop("checked")||!1)){var n=i.parents("li:last").siblings('li[class="active"]:first');i.parents("li").index()>n.index()?i.parents("li:last").prevUntil(n).each(function(){t(this).find("input:first").prop("checked",!0).trigger("change")}):i.parents("li:last").nextUntil(n).each(function(){t(this).find("input:first").prop("checked",!0).trigger("change")})}i.blur()}),this.$container.on("keydown",t.proxy(function(e){if(!t('input[type="text"]',this.$container).is(":focus"))if(9!==e.keyCode&&27!==e.keyCode||!this.$container.hasClass("open")){var i=t(this.$container).find("li:not(.divider):visible a");if(!i.length)return;var n=i.index(i.filter(":focus"));38===e.keyCode&&n>0?n--:40===e.keyCode&&n<i.length-1?n++:~n||(n=0);var o=i.eq(n);if(o.focus(),32===e.keyCode||13===e.keyCode){var s=o.find("input");s.prop("checked",!s.prop("checked")),s.change()}e.stopPropagation(),e.preventDefault()}else this.$button.click()},this))},createOptionValue:function(e){t(e).is(":selected")&&t(e).prop("selected",!0);var i=this.options.label(e),n=t(e).val(),o=this.options.multiple?"checkbox":"radio",s=t(this.options.templates.li);t("label",s).addClass(o),t("label",s).append('<input type="'+o+'" name="'+this.options.checkboxName+'" />');var r=t(e).prop("selected")||!1,a=t("input",s);a.val(n),n===this.options.selectAllValue&&a.parent().parent().addClass("multiselect-all"),t("label",s).append(" "+i),this.$ul.append(s),t(e).is(":disabled")&&a.attr("disabled","disabled").prop("disabled",!0).parents("li").addClass("disabled"),a.prop("checked",r),r&&this.options.selectedClass&&a.parents("li").addClass(this.options.selectedClass)},createDivider:function(e){var i=t(this.options.templates.divider);this.$ul.append(i)},createOptgroup:function(e){var i=t(e).prop("label"),n=t(this.options.templates.liGroup);t("label",n).text(i),this.$ul.append(n),t(e).is(":disabled")&&n.addClass("disabled"),t("option",e).each(t.proxy(function(t,e){this.createOptionValue(e)},this))},buildSelectAll:function(){!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&t('option[data-role!="divider"]',this.$select).length>this.options.includeSelectAllIfMoreThan&&(this.options.includeSelectAllDivider&&this.$select.prepend('<option value="" disabled="disabled" data-role="divider">'),this.$select.prepend('<option value="'+this.options.selectAllValue+'">'+this.options.selectAllText+"</option>"))},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);this.$select.find("option").length>=e&&(this.$filter=t(this.options.templates.filter),t("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(t){t.stopPropagation()}).on("input keydown",t.proxy(function(e){clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(t.proxy(function(){this.query!==e.target.value&&(this.query=e.target.value,t.each(t("li",this.$ul),t.proxy(function(e,i){var n=t("input",i).val(),o=t("label",i).text(),s="";if("text"===this.options.filterBehavior?s=o:"value"===this.options.filterBehavior?s=n:"both"===this.options.filterBehavior&&(s=o+"\n"+n),n!==this.options.selectAllValue&&o){var r=!1;this.options.enableCaseInsensitiveFiltering&&s.toLowerCase().indexOf(this.query.toLowerCase())>-1?r=!0:s.indexOf(this.query)>-1&&(r=!0),r?t(i).show():t(i).hide()}},this)))},this),300,this)},this)))}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){t("option",this.$select).each(t.proxy(function(e,i){var n=t("li input",this.$ul).filter(function(){return t(this).val()===t(i).val()});t(i).is(":selected")?(n.prop("checked",!0),this.options.selectedClass&&n.parents("li").addClass(this.options.selectedClass)):(n.prop("checked",!1),this.options.selectedClass&&n.parents("li").removeClass(this.options.selectedClass)),t(i).is(":disabled")?n.attr("disabled","disabled").prop("disabled",!0).parents("li").addClass("disabled"):n.prop("disabled",!1).parents("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(e){t.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i],o=this.getOptionByValue(n),s=this.getInputByValue(n);this.options.selectedClass&&s.parents("li").addClass(this.options.selectedClass),s.prop("checked",!0),o.prop("selected",!0)}this.updateButtonText()},clearSelection:function(){var t=this.getSelected();if(t.length){for(var e=[],i=0;i<t.length;i+=1)e.push(t[i].value);this.deselect(e),this.$select.change()}},deselect:function(e){t.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i],o=this.getOptionByValue(n),s=this.getInputByValue(n);this.options.selectedClass&&s.parents("li").removeClass(this.options.selectedClass),s.prop("checked",!1),o.prop("selected",!1)}this.updateButtonText()},rebuild:function(){this.$ul.html(""),t('option[value="'+this.options.selectAllValue+'"]',this.$select).remove(),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll()},dataprovider:function(t){var e="";t.forEach(function(t){e+='<option value="'+t.value+'">'+t.label+"</option>"}),this.$select.html(e),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(t){this.options=this.mergeOptions(t)},mergeOptions:function(e){return t.extend(!0,{},this.defaults,e)},hasSelectAll:function(){return t('option[value="'+this.options.selectAllValue+'"]',this.$select).length>0},updateSelectAll:function(){this.hasSelectAll()&&(this.getSelected().length===t("option:not([data-role=divider])",this.$select).length-1?this.select(this.options.selectAllValue):this.deselect(this.options.selectAllValue))},updateButtonText:function(){var e=this.getSelected();t("button",this.$container).find("span").length?t("button",this.$container).find("span").html(this.options.buttonText(e,this.$select)):t("button",this.$container).html(this.options.buttonText(e,this.$select)),t("button",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return t('option[value!="'+this.options.selectAllValue+'"]:selected',this.$select).filter(function(){return t(this).prop("selected")})},getOptionByValue:function(e){for(var i=t("option",this.$select),n=e.toString(),o=0;o<i.length;o+=1){var s=i[o];if(s.value===n)return t(s)}},getInputByValue:function(e){for(var i=t("li input",this.$ul),n=e.toString(),o=0;o<i.length;o+=1){var s=i[o];if(s.value===n)return t(s)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(t,e,i){var n=Array.prototype.slice.call(arguments,3);return setTimeout(function(){t.apply(i||window,n)},e)}},t.fn.multiselect=function(e,n){return this.each(function(){var o=t(this).data("multiselect");o||(o=new i(this,"object"==typeof e&&e),t(this).data("multiselect",o)),"string"==typeof e&&(o[e](n),"destroy"===e&&t(this).data("multiselect",!1))})},t.fn.multiselect.Constructor=i,t(function(){t("select[data-role=multiselect]").multiselect()})}(window.jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"function"==typeof require?t(require("jquery")):t(jQuery)}(function(t){"use strict";var e={escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(t){var e=document.createElement("div");return e.className=t,e.style.position="absolute",e.style.display="none",e}},i=27,n=9,o=13,s=38,r=39,a=40;function l(e,i){var n=function(){},o={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:l.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:n,onSearchComplete:n,onSearchError:n,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(t,e,i){return-1!==t.value.toLowerCase().indexOf(i)},paramName:"query",transformResult:function(e){return"string"==typeof e?t.parseJSON(e):e},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1,categories:!1};this.element=e,this.el=t(e),this.suggestions=[],this.badQueries=[],this.selectedIndex=-1,this.currentValue=this.element.value,this.intervalId=0,this.cachedResponse={},this.onChangeInterval=null,this.onChange=null,this.isLocal=!1,this.suggestionsContainer=null,this.noSuggestionsContainer=null,this.options=t.extend({},o,i),this.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion",group:"autocomplete-group"},this.hint=null,this.hintValue="",this.selection=null,this.initialize(),this.setOptions(i)}l.utils=e,t.Autocomplete=l,l.formatResult=function(t,i){var n="("+e.escapeRegExChars(i)+")";return t.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>")},l.prototype={killerFn:null,initialize:function(){var e,i=this,n="."+i.classes.suggestion,o=i.classes.selected,s=i.options;i.element.setAttribute("autocomplete","off"),i.killerFn=function(e){0===t(e.target).closest("."+i.options.containerClass).length&&(i.killSuggestions(),i.disableKillerFn())},i.noSuggestionsContainer=t('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),i.suggestionsContainer=l.utils.createNode(s.containerClass),(e=t(i.suggestionsContainer)).appendTo(s.appendTo),"auto"!==s.width&&e.width(s.width),e.on("mouseover.autocomplete",n,function(){i.activate(t(this).data("index"))}),e.on("mouseout.autocomplete",function(){i.selectedIndex=-1,e.children("."+o).removeClass(o)}),e.on("click.autocomplete",n,function(){i.select(t(this).data("index"))}),i.fixPositionCapture=function(){i.visible&&i.fixPosition()},t(window).on("resize.autocomplete",i.fixPositionCapture),i.el.on("keydown.autocomplete",function(t){i.onKeyPress(t)}),i.el.on("keyup.autocomplete",function(t){i.onKeyUp(t)}),i.el.on("blur.autocomplete",function(){i.onBlur()}),i.el.on("focus.autocomplete",function(){i.onFocus()}),i.el.on("change.autocomplete",function(t){i.onKeyUp(t)})},onFocus:function(){this.fixPosition(),this.options.minChars<=this.el.val().length&&this.onValueChange()},onBlur:function(){this.enableKillerFn()},setOptions:function(e){var i=this.options;t.extend(i,e),this.isLocal=t.isArray(i.lookup),this.isLocal&&(i.lookup=this.verifySuggestionsFormat(i.lookup)),i.orientation=this.validateOrientation(i.orientation,"bottom"),t(this.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){this.disabled=!0,this.currentRequest&&this.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var e=t(this.suggestionsContainer),i=e.parent().get(0);if(i===document.body||this.options.forceFixPosition){var n=this.options.orientation,o=e.outerHeight(),s=this.el.outerHeight(),r=this.el.offset(),a={top:r.top,left:r.left};if("auto"==n){var l=t(window).height(),c=t(window).scrollTop(),h=-c+r.top-o,d=c+l-(r.top+s+o);n=Math.max(h,d)===h?"top":"bottom"}if(a.top+="top"===n?-o:s,i!==document.body){var u,p=e.css("opacity");this.visible||e.css("opacity",0).show(),u=e.offsetParent().offset(),a.top-=u.top,a.left-=u.left,this.visible||e.css("opacity",p).hide()}"auto"===this.options.width&&(a.width=this.el.outerWidth()-1+"px"),e.css(a)}},enableKillerFn:function(){t(document).on("click.autocomplete",this.killerFn)},disableKillerFn:function(){t(document).off("click.autocomplete",this.killerFn)},killSuggestions:function(){var t=this;t.stopKillSuggestions(),t.intervalId=window.setInterval(function(){t.hide(),t.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var t,e=this.el.val().length,i=this.element.selectionStart;return"number"==typeof i?i===e:!document.selection||((t=document.selection.createRange()).moveStart("character",-e),e===t.text.length)},onKeyPress:function(t){if(this.disabled||this.visible||t.which!==a||!this.currentValue){if(!this.disabled&&this.visible){switch(t.which){case i:this.el.val(this.currentValue),this.hide();break;case r:if(this.hint&&this.options.onHint&&this.isCursorAtEnd()){this.selectHint();break}return;case n:if(this.hint&&this.options.onHint)return void this.selectHint();case o:if(-1===this.selectedIndex)return void this.hide();if(this.select(this.selectedIndex),t.which===n&&!1===this.options.tabDisabled)return;break;case s:this.moveUp();break;case a:this.moveDown();break;default:return}t.stopImmediatePropagation(),t.preventDefault()}}else this.suggest()},onKeyUp:function(t){var e=this;if(!e.disabled){switch(t.which){case s:case a:return}clearInterval(e.onChangeInterval),e.currentValue!==e.el.val()&&(e.findBestHint(),e.options.deferRequestBy>0?e.onChangeInterval=setInterval(function(){e.onValueChange()},e.options.deferRequestBy):e.onValueChange())}},onValueChange:function(){var e,i=this.options,n=this.el.val(),o=this.getQuery(n);this.selection&&this.currentValue!==o&&(this.selection=null,(i.onInvalidateSelection||t.noop).call(this.element)),clearInterval(this.onChangeInterval),this.currentValue=n,this.selectedIndex=-1,i.triggerSelectOnValidInput&&-1!==(e=this.findSuggestionIndex(o))?this.select(e):o.length<i.minChars?this.hide():this.getSuggestions(o)},findSuggestionIndex:function(e){var i=-1,n=e.toLowerCase();return t.each(this.suggestions,function(t,e){if(e.value.toLowerCase()===n)return i=t,!1}),i},getQuery:function(e){var i,n=this.options.delimiter;return n?(i=e.split(n),t.trim(i[i.length-1])):e},getSuggestionsLocal:function(e){var i,n=this.options,o=e.toLowerCase(),s=n.lookupFilter,r=parseInt(n.lookupLimit,10);return i={suggestions:t.grep(n.lookup,function(t){return s(t,e,o)})},r&&i.suggestions.length>r&&(i.suggestions=i.suggestions.slice(0,r)),i},getSuggestions:function(e){var i,n,o,s,r=this,a=r.options,l=a.serviceUrl;if(a.params[a.paramName]=e,n=a.ignoreParams?null:a.params,r.isLocal?i=r.getSuggestionsLocal(e):(t.isFunction(l)&&(l=l.call(r.element,e)),o=l+"?"+t.param(n||{}),i=r.cachedResponse[o]),i&&t.isArray(i.suggestions))r.suggestions=i.suggestions,r.suggest();else if(!r.isBadQuery(e)){if(!1===a.onSearchStart.call(r.element,a.params))return;r.currentRequest&&r.currentRequest.abort(),s={url:l,data:n,type:a.type,dataType:a.dataType},t.extend(s,a.ajaxSettings),r.currentRequest=t.ajax(s).done(function(t){var i;r.currentRequest=null,i=a.transformResult(t),r.processResponse(i,e,o),a.onSearchComplete.call(r.element,e,i.suggestions)}).fail(function(t,i,n){a.onSearchError.call(r.element,e,t,i,n)})}},isBadQuery:function(t){if(!this.options.preventBadQueries)return!1;for(var e=this.badQueries,i=e.length;i--;)if(0===t.indexOf(e[i]))return!0;return!1},hide:function(){var e=t(this.suggestionsContainer);t.isFunction(this.options.onHide)&&this.visible&&this.options.onHide.call(this.element,e),this.visible=!1,this.selectedIndex=-1,t(this.suggestionsContainer).hide(),this.signalHint(null)},suggest:function(){var e=function(t){return t.data=dTaiko.util.escapeHtml(t.data),t.value=dTaiko.util.escapeHtml(t.value),t};if(0!==this.suggestions.length){var i,n=this.options,o=n.formatResult,s=this.getQuery(this.currentValue),r=this.classes.suggestion,a=this.classes.selected,l=this.classes.group,c=t(this.suggestionsContainer),h=t(this.noSuggestionsContainer),d=n.beforeRender,u=this.options.categories,p=!1,f="";if(n.triggerSelectOnValidInput&&-1!==(i=this.findSuggestionIndex(s)))this.select(i);else{if(u){var g="";t.each(this.suggestions,function(t,i){i.category!=g&&(p&&(f+="</div>",p=!1),f+='<div class="'+dTaiko.util.escapeHtml(l)+'" ><b>'+dTaiko.util.escapeHtml(i.category)+"</b>",g=i.category,p=!0),f+='<div class="'+dTaiko.util.escapeHtml(r)+'" data-index="'+t+'">'+o(e(i),dTaiko.util.escapeHtml(s))+"</div>"}),f+="</div>"}else t.each(this.suggestions,function(t,i){f+='<div class="'+dTaiko.util.escapeHtml(r)+'" data-index="'+t+'">'+o(e(i),dTaiko.util.escapeHtml(s))+"</div>"});this.adjustContainerWidth(),h.detach(),c.html(f),n.autoSelectFirst&&(this.selectedIndex=0,c.children("."+this.classes.suggestion).first().addClass(a)),t.isFunction(d)&&d.call(this.element,c),this.fixPosition(),c.show(),this.visible=!0,this.findBestHint()}}else this.options.showNoSuggestionNotice?this.noSuggestions():this.hide()},noSuggestions:function(){var e=t(this.suggestionsContainer),i=t(this.noSuggestionsContainer);this.adjustContainerWidth(),i.detach(),e.empty(),e.append(i),this.fixPosition(),e.show(),this.visible=!0},adjustContainerWidth:function(){var e,i=this.options,n=t(this.suggestionsContainer);"auto"===i.width&&(e=this.el.outerWidth()-2,n.width(e>0?e:300))},findBestHint:function(){var e=this.el.val().toLowerCase(),i=null;e&&(t.each(this.suggestions,function(t,n){var o=0===n.value.toLowerCase().indexOf(e);return o&&(i=n),!o}),this.signalHint(i))},signalHint:function(e){var i="";e&&(i=this.currentValue+e.value.substr(this.currentValue.length)),this.hintValue!==i&&(this.hintValue=i,this.hint=e,(this.options.onHint||t.noop)(i))},verifySuggestionsFormat:function(e){return e.length&&"string"==typeof e[0]?t.map(e,function(t){return{value:t,data:null}}):e},validateOrientation:function(e,i){return e=t.trim(e||"").toLowerCase(),-1===t.inArray(e,["auto","bottom","top"])&&(e=i),e},processResponse:function(t,e,i){var n=this.options;t.suggestions=this.verifySuggestionsFormat(t.suggestions),n.noCache||(this.cachedResponse[i]=t,n.preventBadQueries&&0===t.suggestions.length&&this.badQueries.push(e)),e===this.getQuery(this.currentValue)&&(this.suggestions=t.suggestions,this.suggest())},activate:function(e){var i,n=this.classes.selected,o=this.classes.suggestion,s=t(this.suggestionsContainer),r=s.children("."+o);return s.children("."+n).removeClass(n),this.selectedIndex=e,-1!==this.selectedIndex&&r.length>this.selectedIndex?(i=r.get(this.selectedIndex),t(i).addClass(n),i):null},selectHint:function(){var e=t.inArray(this.hint,this.suggestions);this.select(e)},select:function(t){this.hide(),this.onSelect(t)},moveUp:function(){if(-1!==this.selectedIndex)return 0===this.selectedIndex?(t(this.suggestionsContainer).children().first().removeClass(this.classes.selected),this.selectedIndex=-1,this.el.val(this.currentValue),void this.findBestHint()):void this.adjustScroll(this.selectedIndex-1)},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(e){var i,n,o,s=this.activate(e);s&&(i=s.offsetTop,o=(n=t(this.suggestionsContainer).scrollTop())+this.options.maxHeight-25,i<n?t(this.suggestionsContainer).scrollTop(i):i>o&&t(this.suggestionsContainer).scrollTop(i-this.options.maxHeight+25),this.el.val(this.getValue(this.suggestions[e].value)),this.signalHint(null))},onSelect:function(e){var i=this.options.onSelect,n=this.suggestions[e];this.currentValue=this.getValue(n.value),this.currentValue!==this.el.val()&&this.el.val(this.currentValue),this.signalHint(null),this.suggestions=[],this.selection=n,t.isFunction(i)&&i.call(this.element,n)},getValue:function(t){var e,i,n=this.options.delimiter;return n?1===(i=(e=this.currentValue).split(n)).length?t:e.substr(0,e.length-i[i.length-1].length)+t:t},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),this.disableKillerFn(),t(window).off("resize.autocomplete",this.fixPositionCapture),t(this.suggestionsContainer).remove()}},t.fn.autocomplete=t.fn.devbridgeAutocomplete=function(e,i){return 0===arguments.length?this.first().data("autocomplete"):this.each(function(){var n=t(this),o=n.data("autocomplete");"string"==typeof e?o&&"function"==typeof o[e]&&o[e](i):(o&&o.dispose&&o.dispose(),o=new l(this,e),n.data("autocomplete",o))})}}),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";var t,e=["webkit","Moz","ms","O"],i={};function n(t,e){var i,n=document.createElement(t||"div");for(i in e)n[i]=e[i];return n}function o(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}var s,r=(s=n("style",{type:"text/css"}),o(document.getElementsByTagName("head")[0],s),s.sheet||s.styleSheet);function a(e,n,o,s){var a=["opacity",n,~~(100*e),o,s].join("-"),l=.01+o/s*100,c=Math.max(1-(1-e)/n*(100-l),e),h=t.substring(0,t.indexOf("Animation")).toLowerCase(),d=h&&"-"+h+"-"||"";return i[a]||(r.insertRule("@"+d+"keyframes "+a+"{0%{opacity:"+c+"}"+l+"%{opacity:"+e+"}"+(l+.01)+"%{opacity:1}"+(l+n)%100+"%{opacity:"+e+"}100%{opacity:"+c+"}}",r.cssRules.length),i[a]=1),a}function l(t,i){var n,o,s=t.style;for(i=i.charAt(0).toUpperCase()+i.slice(1),o=0;o<e.length;o++)if(void 0!==s[n=e[o]+i])return n;if(void 0!==s[i])return i}function c(t,e){for(var i in e)t.style[l(t,i)||i]=e[i];return t}function h(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)void 0===t[n]&&(t[n]=i[n])}return t}function d(t,e){return"string"==typeof t?t:t[e%t.length]}var u={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};function p(t){this.opts=h(t||{},p.defaults,u)}p.defaults={},h(p.prototype,{spin:function(e){this.stop();var i=this,o=i.opts,s=i.el=c(n(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex});o.radius,o.length,o.width;if(e&&(e.insertBefore(s,e.firstChild||null),c(s,{left:o.left,top:o.top})),s.setAttribute("role","progressbar"),i.lines(s,i.opts),!t){var r,a=0,l=(o.lines-1)*(1-o.direction)/2,h=o.fps,d=h/o.speed,u=(1-o.opacity)/(d*o.trail/100),p=d/o.lines;!function t(){a++;for(var e=0;e<o.lines;e++)r=Math.max(1-(a+(o.lines-e)*p)%d*u,o.opacity),i.opacity(s,e*o.direction+l,r,o);i.timeout=i.el&&setTimeout(t,~~(1e3/h))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(e,i){var s,r=0,l=(i.lines-1)*(1-i.direction)/2;function h(t,e){return c(n(),{position:"absolute",width:i.length+i.width+"px",height:i.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*r+i.rotate)+"deg) translate("+i.radius+"px,0)",borderRadius:(i.corners*i.width>>1)+"px"})}for(;r<i.lines;r++)s=c(n(),{position:"absolute",top:1+~(i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:t&&a(i.opacity,i.trail,l+r*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&o(s,c(h("#000","0 0 4px #000"),{top:"2px"})),o(e,o(s,h(d(i.color,r),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var f=c(n("group"),{behavior:"url(#default#VML)"});return!l(f,"transform")&&f.adj?function(){function t(t,e){return n("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}r.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(e,i){var n=i.length+i.width,s=2*n;function r(){return c(t("group",{coordsize:s+" "+s,coordorigin:-n+" "+-n}),{width:s,height:s})}var a,l=2*-(i.width+i.length)+"px",h=c(r(),{position:"absolute",top:l,left:l});function u(e,s,a){o(h,o(c(r(),{rotation:360/i.lines*e+"deg",left:~~s}),o(c(t("roundrect",{arcsize:i.corners}),{width:n,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:d(i.color,e),opacity:i.opacity}),t("stroke",{opacity:0}))))}if(i.shadow)for(a=1;a<=i.lines;a++)u(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)u(a);return o(e,h)},p.prototype.opacity=function(t,e,i,n){var o=t.firstChild;n=n.shadow&&n.lines||0,o&&e+n<o.childNodes.length&&(o=(o=(o=o.childNodes[e+n])&&o.firstChild)&&o.firstChild)&&(o.opacity=i)}}():t=l(f,"animation"),p}),function(t,e){"use strict";var i=document.all&&document.querySelector&&!document.addEventListener,n={customClass:"",toggle:!1,labelClass:"",handleClass:"",labels:{on:"ON",off:"OFF"}},o={defaults:function(e){return n=t.extend(n,e||{}),t(this)},destroy:function(){return t(this).each(function(e,i){var n=t(i).data("picker");n&&(n.$picker.off(".picker"),n.$handle.remove(),n.$labels.remove(),n.$input.off(".picker").removeClass("picker-element").data("picker",null),n.$label.removeClass("picker-label").unwrap())})},disable:function(){return t(this).each(function(e,i){var n=t(i).data("picker");n&&(n.$input.prop("disabled",!0),n.$picker.addClass("disabled"))})},enable:function(){return t(this).each(function(e,i){var n=t(i).data("picker");n&&(n.$input.prop("disabled",!1),n.$picker.removeClass("disabled"))})},update:function(){return t(this).each(function(e,i){var n=t(i).data("picker");n&&!n.$input.is(":disabled")&&(n.$input.is(":checked")?l({data:n},!0):c({data:n},!0))})}};function s(e,i){if(!e.data("picker")){i=t.extend({},i,e.data("picker-options"));var n=void 0;e.attr("id")&&(n=e.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"));var o=e.closest("label"),s=o.length?o.eq(0):t("label[for="+n+"]"),l=e.attr("type"),u="picker-"+("radio"===l?"radio":"checkbox"),p=e.attr("name"),f='<div class="picker-handle '+i.handleClass+'"><div class="picker-flag" /></div>';i.toggle&&(u+=" picker-toggle",f='<span class="picker-toggle-label on">'+i.labels.on+'</span><span class="picker-toggle-label off">'+i.labels.off+"</span>"+f),e.addClass("picker-element"),s.wrap('<div class="picker '+u+" "+i.customClass+'" />').before(f).addClass("picker-label "+i.labelClass);var g=s.parents(".picker"),m=g.find(".picker-handle"),v=g.find(".picker-toggle-label");e.is(":checked")&&g.addClass("checked"),e.is(":disabled")&&g.addClass("disabled");var y=t.extend({},i,{$picker:g,$input:e,$handle:m,$label:s,$labels:v,group:p,isRadio:"radio"===l,isCheckbox:"checkbox"===l});y.$input.on("focus.picker",y,h).on("blur.picker",y,d).on("change.picker",y,a).on("click.picker",y,r).on("deselect.picker",y,c).data("picker",y),y.$handle.on("click.picker",y,r)}}function r(e){e.stopPropagation();var i=e.data;t(e.target).is(i.$input)||(e.preventDefault(),i.$input.trigger("click"))}function a(t){var e=t.data;if(!e.$input.is(":disabled")){var n=e.$input.is(":checked");e.isCheckbox?n?l(t,!0):c(t,!0):(n||i&&!n)&&l(t)}}function l(e,i){var n=e.data;void 0!==n.group&&n.isRadio&&t('input[name="'+n.group+'"]').not(n.$input).trigger("deselect"),n.$picker.addClass("checked")}function c(t,e){var i=t.data;i.$picker.removeClass("checked"),i.$input.prop("checked",!1)}function h(e){t(e.delegateTarget).is("input")?e.data.$handle.addClass("non-keyboard-outline"):e.data.$picker.addClass("focus")}function d(t){t.data.$picker.removeClass("focus"),t.data.$handle.removeClass("non-keyboard-outline")}t.fn.picker=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:function(e){e=t.extend({},n,e);for(var i=t(this),o=0,r=i.length;o<r;o++)s(i.eq(o),e);return i}.apply(this,arguments)},t.picker=function(t){"defaults"===t&&o.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery),function(t,e){"use strict";var i="scroller",n=null,o={base:"scroller",content:"scroller-content",bar:"scroller-bar",track:"scroller-track",handle:"scroller-handle",isHorizontal:"scroller-horizontal",isSetup:"scroller-setup",isActive:"scroller-active"},s={start:"touchstart."+i+" mousedown."+i,move:"touchmove."+i+" mousemove."+i,end:"touchend."+i+" mouseup."+i},r={customClass:"",duration:0,handleSize:0,horizontal:!1,trackMargin:0},a={defaults:function(e){return r=t.extend(r,e||{}),"object"!=typeof this||t(this)},destroy:function(){return t(this).each(function(e,n){var s=t(n).data(i);s&&(s.$scroller.removeClass([s.customClass,o.base,o.isActive].join(" ")),s.$bar.remove(),s.$content.contents().unwrap(),s.$content.off(m(i)),s.$scroller.off(m(i)).removeData(i))})},scroll:function(e,n){return t(this).each(function(o){var s=t(this).data(i),a=n||r.duration;if("number"!=typeof e){var l=t(e);if(l.length>0){var c=l.position();e=s.horizontal?c.left+s.$content.scrollLeft():c.top+s.$content.scrollTop()}else e=s.$content.scrollTop()}var h=s.horizontal?{scrollLeft:e}:{scrollTop:e};s.$content.stop().animate(h,a)})},reset:function(){return t(this).each(function(e){var n=t(this).data(i);if(n){n.$scroller.addClass(o.isSetup);var s={},r={},a={},l=0,c=!0;if(n.horizontal)n.barHeight=n.$content[0].offsetHeight-n.$content[0].clientHeight,n.frameWidth=n.$content.outerWidth(),n.trackWidth=n.frameWidth-2*n.trackMargin,n.scrollWidth=n.$content[0].scrollWidth,n.ratio=n.trackWidth/n.scrollWidth,n.trackRatio=n.trackWidth/n.scrollWidth,n.handleWidth=n.handleSize>0?n.handleSize:n.trackWidth*n.trackRatio,n.scrollRatio=(n.scrollWidth-n.frameWidth)/(n.trackWidth-n.handleWidth),n.handleBounds={left:0,right:n.trackWidth-n.handleWidth},n.$content.css({paddingBottom:n.barHeight+n.paddingBottom}),l=n.$content.scrollLeft()*n.ratio,c=n.scrollWidth<=n.frameWidth,s={width:n.frameWidth},r={width:n.trackWidth,marginLeft:n.trackMargin,marginRight:n.trackMargin},a={width:n.handleWidth};else n.barWidth=n.$content[0].offsetWidth-n.$content[0].clientWidth,n.frameHeight=n.$content.outerHeight(),n.trackHeight=n.frameHeight-2*n.trackMargin,n.scrollHeight=n.$content[0].scrollHeight,n.ratio=n.trackHeight/n.scrollHeight,n.trackRatio=n.trackHeight/n.scrollHeight,n.handleHeight=n.handleSize>0?n.handleSize:n.trackHeight*n.trackRatio,n.scrollRatio=(n.scrollHeight-n.frameHeight)/(n.trackHeight-n.handleHeight),n.handleBounds={top:0,bottom:n.trackHeight-n.handleHeight},l=n.$content.scrollTop()*n.ratio,c=n.scrollHeight<=n.frameHeight,s={height:n.frameHeight},r={height:n.trackHeight,marginBottom:n.trackMargin,marginTop:n.trackMargin},a={height:n.handleHeight};c?n.$scroller.removeClass(o.isActive):n.$scroller.addClass(o.isActive),n.$bar.css(s),n.$track.css(r),n.$handle.css(a),g(n,l),n.$scroller.removeClass(o.isSetup)}})}};function l(n,r){if(!n.hasClass(o.base)){r=t.extend({},r,n.data(i+"-options"));var l="";l+='<div class="'+o.bar+' repaint-fix-10">',l+='<div class="'+o.track+'">',l+='<div class="'+o.handle+'">',l+="</div></div></div>",r.paddingRight=parseInt(n.get(0).style.paddingRight||0),r.paddingBottom=parseInt(n.get(0).style.paddingBottom||0),n.addClass([o.base,r.customClass].join(" ")).wrapInner('<div class="'+o.content+' repaint-fix" />').prepend(l),r.horizontal&&n.addClass(o.isHorizontal);var u=t.extend({$scroller:n,$content:n.find(m(o.content)),$bar:n.find(m(o.bar)),$track:n.find(m(o.track)),$handle:n.find(m(o.handle))},r);u.trackMargin=parseInt(u.trackMargin,10),u.$content.on("scroll."+i,u,c),u.$scroller.on(s.start,m(o.track),u,h).on(s.start,m(o.handle),u,d).data(i,u),t(e).one("load",function(){a.reset.apply(n)})}}function c(t){t.preventDefault(),t.stopPropagation();var e=t.data,i={};if(e.horizontal){var n=e.$content.scrollLeft();n<0&&(n=0);var o=n/e.scrollRatio;o>e.handleBounds.right&&(o=e.handleBounds.right),i={left:o}}else{var s=e.$content.scrollTop();s<0&&(s=0);var r=s/e.scrollRatio;r>e.handleBounds.bottom&&(r=e.handleBounds.bottom),i={top:r}}e.$handle.css(i)}function h(e){e.preventDefault(),e.stopPropagation();var i=e.data,n=e.originalEvent,o=i.$track.offset(),s=void 0!==n.targetTouches?n.targetTouches[0]:null,r=s?s.pageX:e.clientX,a=s?s.pageY:e.clientY;i.horizontal?(i.mouseStart=r,i.handleLeft=r-o.left-i.handleWidth/2,g(i,i.handleLeft)):(i.mouseStart=a,i.handleTop=a-o.top+t(document).scrollTop()-i.handleHeight/2,g(i,i.handleTop)),u(i)}function d(t){t.preventDefault(),t.stopPropagation();var e=t.data,i=t.originalEvent,n=void 0!==i.targetTouches?i.targetTouches[0]:null,o=n?n.pageX:t.clientX,s=n?n.pageY:t.clientY;e.horizontal?(e.mouseStart=o,e.handleLeft=parseInt(e.$handle.css("left"),10)):(e.mouseStart=s,e.handleTop=parseInt(e.$handle.css("top"),10)),u(e)}function u(t){t.$content.off(m(i)),n.on(s.move,t,p).on(s.end,t,f)}function p(t){t.preventDefault(),t.stopPropagation();var e=t.data,i=t.originalEvent,n=0,o=0,s=void 0!==i.targetTouches?i.targetTouches[0]:null,r=s?s.pageX:t.clientX,a=s?s.pageY:t.clientY;e.horizontal?(o=e.mouseStart-r,n=e.handleLeft-o):(o=e.mouseStart-a,n=e.handleTop-o),g(e,n)}function f(t){t.preventDefault(),t.stopPropagation();var e=t.data;e.$content.on("scroll.scroller",e,c),n.off(".scroller")}function g(t,e){var i={};if(t.horizontal){e<t.handleBounds.left&&(e=t.handleBounds.left),e>t.handleBounds.right&&(e=t.handleBounds.right);var n=Math.round(e*t.scrollRatio);i={left:e},t.$content.scrollLeft(n)}else{e<t.handleBounds.top&&(e=t.handleBounds.top),e>t.handleBounds.bottom&&(e=t.handleBounds.bottom);var o=Math.round(e*t.scrollRatio);i={top:e},t.$content.scrollTop(o)}t.$handle.css(i)}function m(t){return"."+t}t.fn[i]=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:function(e){e=t.extend({},r,e||{}),null===n&&(n=t("body"));for(var i=t(this),o=0,s=i.length;o<s;o++)l(i.eq(o),e);return i}.apply(this,arguments)},t[i]=function(t){"defaults"===t&&a.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery),function(t,e){"use strict";var i=0,n=/windows phone/i.test(navigator.userAgent.toLowerCase()),o=/IEMobile/i.test(navigator.userAgent),s=/Firefox/i.test(navigator.userAgent),r=/Chrome/i.test(navigator.userAgent),a=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(e.navigator.userAgent||e.navigator.vendor||e.opera),l=null,c="",h=null,d=a&&!o&&!n&&!(s&&a)&&!(r&&a),u={callback:t.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0,multi:!1},p={defaults:function(e){return u=t.extend(u,e||{}),t(this)},disable:function(e){return t(this).each(function(i,n){var o=t(n).next(".selecter").data("selecter");if(o)if(void 0!==e){var s=o.$items.index(o.$items.filter('[data-value="'+e+'"]'));o.$items.eq(s).addClass("disabled"),o.$options.eq(s).prop("disabled",!0)}else o.$selecter.hasClass("open")&&o.$selecter.find(".selecter-selected").trigger("click.selecter"),o.$selecter.addClass("disabled")})},enable:function(e){return t(this).each(function(i,n){var o=t(n).next(".selecter").data("selecter");if(o)if(void 0!==e){var s=o.$items.index(o.$items.filter('[data-value="'+e+'"]'));o.$items.eq(s).removeClass("disabled"),o.$options.eq(s).prop("disabled",!1)}else o.$selecter.removeClass("disabled"),o.$select.prop("disabled",!1)})},destroy:function(){return t(this).each(function(e,i){var n=t(i).next(".selecter").data("selecter");n&&(n.$selecter.hasClass("open")&&n.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==t.fn.scroller&&n.$selecter.find(".selecter-options").scroller("destroy"),n.$select[0].tabIndex=n.tabIndex,n.$select.off(".selecter").removeClass("selecter-element").show(),n.$selecter.off(".selecter").remove())})},refresh:function(e){return t(this).each(function(e,i){var n=t(i).next(".selecter").data("selecter");if(n){var o=n.index;n.$allOptions=n.$select.find("option, optgroup"),n.$options=n.$allOptions.filter("option"),n.index=-1,o=n.$options.index(n.$options.filter(":selected")),g(n),n.multiple||P(o,n)}})}};function f(e,n){if(!e.hasClass("selecter-element")){(n={callback:n.callback||t.noop,cover:n.cover,customClass:n.customClass||"",label:n.label||"",external:n.external,links:n.links,trim:n.trim||0,multi:n.multi}).external&&(n.links=!0);var o=e.find("option, optgroup"),s=o.filter("option"),r=s.filter(":selected"),l=r.length>0?s.index(r):1,c=n.links?"nav":"div",h=M(r);""!==n.label&&(l=-1),n.tabIndex=e[0].tabIndex,e[0].tabIndex=-1,n.multiple=e.prop("multiple"),n.disabled=e.is(":disabled");var d="<"+c+' class="selecter '+n.customClass;if(a?d+=" mobile":n.cover&&(d+=" cover"),n.multiple?d+=" multiple":d+=" closed",n.disabled&&(d+=" disabled"),d+='" tabindex="'+n.tabIndex+'">',!n.multiple){if(r.data("isocode"))d+='<span class="selecter-selected'+(""!==n.label?" placeholder":"")+'">',d+=t("<span></span>").html(A(""!==n.label?n.label:r.data("isocode"),n.trim)).html();else if(h){var u=h?'<span class="secondline">'+r.data("second-line")+"</span>":"";d+='<span class="selecter-selected '+(h?"twoline":"oneLine")+(""!==n.label?" placeholder":"")+'">',d+=t("<span></span>").html("<span>"+A(""!==n.label?n.label:r.text()+"</span>"+u,n.trim)).html()}else{d+='<span class="selecter-selected vp '+(-1!=n.customClass.indexOf("twoL")?"oneLine":"")+" "+(""!==n.label?" placeholder":"")+'">';var p=r.prop("data-icon")?'<span class="db-icon-wrapper"><i class="dbit-icons">'+r.prop("data-icon")+"</i></span>":"";d+=""!==p?t("<span></span>").html(A(""!==n.label?n.label:p+r.text(),n.trim)).html():t("<span></span>").text(A(""!==n.label?n.label:r.text(),n.trim)).html()}d+="</span>"}d+='<div class="selecter-options repaint-fix">',d+="</div>",d+="</"+c+">",e.addClass("selecter-element").after(d);var f=e.next(".selecter"),v=t.extend({$select:e,$allOptions:o,$options:s,$selecter:f,$selected:f.find(".selecter-selected"),$itemsWrapper:f.find(".selecter-options"),index:-1,guid:i++},n);g(v),v.multiple||P(l,v),void 0!==t.fn.scroller&&v.$itemsWrapper.scroller(),v.$selecter.on("click.selecter",".selecter-selected",v,m).on("click.selecter",".selecter-item",v,x).on("close.selecter",v,b).data("selecter",v),v.$select.on("change.selecter",v,w),a||(v.$selecter.on("focus.selecter",v,k).on("blur.selecter",v,C),v.$select.on("focus.selecter",v,function(t){t.data.$selecter.trigger("focus")}))}}function g(e){for(var i="",n=e.links?"a":"span",o="",s=0,r=e.$allOptions.length;s<r;s++){var a=e.$allOptions.eq(s);if(o=" ","OPTGROUP"===a[0].tagName)i+='<span class="selecter-group',a.is(":disabled")&&(i+=" disabled"),i+='">'+a.attr("label")+"</span>";else{var l=a.val();if(a.attr("value")||a.attr("value",l),a.data("class")?o+=a.data("class"):o="",a.data("second-line")?i+="<"+n+' class="selecter-item twoline fc'+o:i+="<"+n+' class="selecter-item vp fc'+o,a.is(":selected")&&""===e.label&&(i+=" selected"),a.is(":disabled")&&(i+=" disabled"),i+='" ',e.links?i+='href="'+l+'"':i+='data-value="'+l+'"',a.data("second-line"))i+=">"+t("<span></span>").html("<span>"+A(a.text(),e.trim)+'</span><span class="secondline">'+a.data("second-line")+"</span>").html()+"</"+n+">";else{var c=a.data("icon")?'<span class="db-icon-wrapper"><i class="dbit-icons">'+a.data("icon")+"</i></span>":"";i+=""!==c?">"+t("<span></span>").html(c+A(a.html(),e.trim)).html()+"</"+n+">":">"+t("<span></span>").html(A(a.html(),e.trim)).html()+"</"+n+">"}0}}e.$itemsWrapper.html(i),e.$items=e.$selecter.find(".selecter-item")}function m(i){i.preventDefault(),i.stopPropagation(),dTaiko.lastClick=new Date,dTaiko.isKeyup=!1,dTaiko.isClick=!0;var n=i.data;if(!n.$select.hasClass("disabled")&&!n.$selecter.hasClass("disabled"))if(t(".selecter").not(n.$selecter).trigger("close.selecter",[n]),d){var o=n.$select[0];if(e.document.createEvent){var s=e.document.createEvent("MouseEvents");s.initMouseEvent("mousedown",!1,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(s)}else o.fireEvent&&o.fireEvent("onmousedown")}else n.$selecter.hasClass("closed")?v(i):n.$selecter.hasClass("open")&&b(i)}function v(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var i=e.data,n=t("html");if((n.hasClass("ie9")||n.hasClass("ie11")||n.hasClass("ie10"))&&i.$selecter.focus(),!i.$selecter.hasClass("open")){var o=i.$selecter.offset(),s=l.outerHeight(),r=i.$itemsWrapper.outerHeight(!0),a=i.index>=0?i.$items.eq(i.index).position():{left:0,top:0};o.top+r>s&&i.$selecter.addClass("bottom"),i.$itemsWrapper.show(),i.$selecter.removeClass("closed").addClass("open"),l.on("click.selecter-"+i.guid,":not(.selecter-options)",i,y);t.Event("scrollerOpenEv");if(i.$selecter.trigger("scrollerOpenEv"),void 0!==t.fn.scroller){var c=i.$selected.hasClass("placeholder")?1:0,h=i.index<0?c:i.index;i.$itemsWrapper.scroller("scroll",i.$items.eq(h),0).scroller("reset")}else i.$itemsWrapper.scrollTop(i.$itemsWrapper.scrollTop()+a.top)}}function y(e){e.preventDefault(),e.stopPropagation(),0===t(e.currentTarget).parents(".selecter").length&&b(e)}function b(e){e.preventDefault(),e.stopPropagation();var i=e.data;if(i.$selecter.hasClass("open")){i.$itemsWrapper.hide(),i.$selecter.removeClass("open bottom").addClass("closed"),l.off(".selecter-"+i.guid);t.Event("scrollerCloseEv");i.$selecter.trigger("scrollerCloseEv")}}function x(e){e.preventDefault(),e.stopPropagation();var i=t(this),n=e.data;if(!n.$select.is(":disabled")){if(n.$itemsWrapper.is(":visible")){var o=n.$items.index(i);o!==n.index?(P(o,n),_(n)):n.wasKeyboard&&_(n)}n.multiple||b(e)}}function w(e,i){var n=t(this),o=e.data;i||o.multiple||(P(o.$options.index(o.$options.filter("[value='"+n.val().replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")+"']")),o),_(o))}function k(e){e.preventDefault(),e.stopPropagation();var i=e.data;i.$select.is(":disabled")||i.multiple||(i.$selecter.addClass("focus").off("keypress.selecter"+i.guid).on("keypress.selecter"+i.guid,i,T).off("keydown.selecter"+i.guid).on("keydown.selecter"+i.guid,i,E),t(".selecter").not(i.$selecter).trigger("close.selecter",[i]))}function C(e,i,n){e.preventDefault(),e.stopPropagation();var o=e.data;o.$selecter.removeClass("focus").off("keypress.selecter"+o.guid+" keydown.selecter"+o.guid),t(".selecter").not(o.$selecter).trigger("close.selecter",[o]),c="",o.$selecter.attr("style","")}function T(e){var i,n,o=e.data,r=o.index<0?0:o.index;if(clearTimeout(h),n=s?e.charCode:e.keyCode,t.inArray(n,[252,228,246])>-1)switch(n){case 252:i="";break;case 228:i="";break;case 246:i=""}else i=String.fromCharCode(n).toUpperCase();c=c+=i;for(var a=0;a<o.$allOptions.length;a++)if(0===o.$allOptions[a].text.toUpperCase().indexOf(c)&&o.$allOptions[a].value.length>0){r=a;break}r>=0&&(P(r,o),S(o,!0)),h=setTimeout(function(){c=""},800)}function S(e,i){var n=e.index>=0?e.$items.eq(e.index).position():{left:0,top:0};if(i||n.top>e.$itemsWrapper.height()-e.$items.eq(e.index).height())if(void 0!==t.fn.scroller){var o=e.$selected.hasClass("placeholder")?1:0,s=e.index<0?o:e.index;e.$itemsWrapper.scroller("scroll",e.$items.eq(s),0).scroller("reset")}else e.$itemsWrapper.scrollTop(e.$itemsWrapper.scrollTop()+n.top)}function E(e){var i=e.data;i.wasKeyboard=!0;if(32===e.keyCode&&dTaiko.isIE11)i.$selecter.hasClass("open")?b(e):(v(e),i.$selecter.attr("style","overflow: visible !important; z-index:51;"));else if(13===e.keyCode)i.$selecter.hasClass("open")&&(b(e),P(i.index,i)),_(i);else if(e.altKey&&40===e.keyCode)i.$selecter.hasClass("open")?b(e):(v(e),i.$selecter.attr("style","overflow: visible !important; z-index:51;"));else if(!(9===e.keyCode||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)){var n,o,r,a=[40,38],l=[37,40,39,38];t.inArray(e.keyCode,s?l:a)>-1&&(e.preventDefault(),e.stopPropagation(),o=i.$items.length-1,r=i.index<0?0:i.index,(r+=(n=38===e.keyCode||s&&37===e.keyCode)?-1:1)<0&&(r=0),r>o&&(r=o)),r>=0&&(P(r,i),S(i,n))}}function P(e,i){var n=i.$items.eq(e),o=n.hasClass("selected");if(!n.hasClass("disabled")){if(-1===e&&""!==i.label)i.$selected.html(""+i.label);else if(o)i.multiple&&(i.$options.eq(e).prop("selected",null),n.removeClass("selected"));else{var s=n.html();n.data("value");t(i.$options[e]).data("isocode")&&(s=t(i.$options[e]).data("isocode")),i.multiple?(i.$options.eq(e).prop("selected",!0),a&&n.addClass("selected")):(i.$selected.html(s).removeClass("placeholder"),i.$items.filter(".selected").removeClass("selected"),i.$select[0].selectedIndex=e),n.addClass("selected"),M(i.$options.filter(":selected"))?i.$selected.addClass("twoline").removeClass("oneLine"):i.$selected.removeClass("twoline").addClass("oneLine")}i.multiple||(i.index=e,i.$select.hasClass("jsDropdownButton")&&i.$selected.html(""+n.html()))}}function _(t){t.links?function(t){var i=t.$select.val();t.external?e.open(i):e.location.href=i}(t):(t.callback.call(t.$selecter,t.$select.val(),t.index),a&&d||t.$select.trigger("change",[!0])),t.wasKeyboard=!1}function A(t,e){return 0===e?t:t.length>e?t.substring(0,e)+"...":t}function M(e){return void 0!==e.attr("data-second-line")&&""!=t.trim(e.attr("data-second-line"))}t.fn.selecter=function(e){return p[e]?p[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:function(e){e=t.extend({},u,e||{}),null===l&&(l=t("body"));var i=t(this);if("hidden"!=i.attr("type"))for(var n=0,o=i.length;n<o;n++)f(i.eq(n),e);return i}.apply(this,arguments)},t.selecter=function(t){"defaults"===t&&p.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window),function(t){var e,i,n,o,s,r,a,l,c,h,d,u=(e={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"},i={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:['<td class="datepickerBlock">','<table cellspacing="0" cellpadding="0">',"<thead>","<tr>",'<th colspan="7"><a class="datepickerGoPrev" href="#"><span class="db-icon-wrapper"><i class="dbit-icons">arrow_left_fat</i></span></a>','<a class="datepickerMonth" href="#"><span></span></a>','<a class="datepickerGoNext" href="#"><span class="db-icon-wrapper"><i class="dbit-icons">arrow_right_fat</i></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="1"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="1"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="1"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]},n={date:null,current:null,inline:!1,mode:"single",calendars:1,starts:0,prev:"&#9664;",next:"&#9654;",view:"days",position:"bottom",showOn:"focus",dateMin:!1,dateMax:!1,onRenderCell:function(){return{}},onChange:function(){},onBeforeShow:function(){return!0},onAfterShow:function(){},onBeforeHide:function(){return!0},onAfterHide:function(){},locale:{daysMin:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},extraHeight:!1,extraWidth:!1,lastSel:!1},o=function(e){var n,o,r,a,l,c,h,d=t(e).data("datepicker"),u=t(e),p=Math.floor(d.calendars/2),f=0;u.find("td>table tbody").remove();for(var g=0;g<d.calendars;g++){(n=new Date(d.current)).addMonths(-p+g),h=u.find("table").eq(g+1),0==g&&h.addClass("datepickerFirstView"),g==d.calendars-1&&h.addClass("datepickerLastView"),h.hasClass("datepickerViewDays")?v=n.getMonthName(!0)+" "+n.getFullYear():h.hasClass("datepickerViewMonths")?v=n.getFullYear():h.hasClass("datepickerViewYears")&&(v=n.getFullYear()-6+" - "+(n.getFullYear()+5)),h.find("thead tr:first th a:eq(1) span").text(v),v=n.getFullYear()-6,o={data:[],className:"datepickerYears"};for(var m=0;m<12;m++)o.data.push(v+m);c=tmpl(i.months.join(""),o),n.setDate(1),o={weeks:[],test:10},r=n.getMonth();var v=(n.getDay()-d.starts)%7;for(n.addDays(-(v+(v<0?7:0))),f=0;f<42;){a=parseInt(f/7,10),l=f%7,o.weeks[a]||(o.weeks[a]={days:[]}),o.weeks[a].days[l]={text:n.getDate(),classname:[]};var y=new Date;y.getDate()==n.getDate()&&y.getMonth()==n.getMonth()&&y.getYear()==n.getYear()&&o.weeks[a].days[l].classname.push("datepickerToday"),n>y&&o.weeks[a].days[l].classname.push("datepickerFuture"),r!=n.getMonth()&&(o.weeks[a].days[l].classname.push("datepickerNotInMonth"),o.weeks[a].days[l].classname.push("datepickerDisabled")),0==n.getDay()&&o.weeks[a].days[l].classname.push("datepickerSunday"),6==n.getDay()&&o.weeks[a].days[l].classname.push("datepickerSaturday");var b=d.onRenderCell(e,n),x=n.valueOf();if(d.date&&(!t.isArray(d.date)||d.date.length>0)&&(b.selected||d.date==x||t.inArray(x,d.date)>-1||"range"==d.mode&&x>=d.date[0]&&x<=d.date[1])&&o.weeks[a].days[l].classname.push("datepickerSelected"),d.dateMin||d.dateMax){var w=d.dateMin,k=d.dateMax;s(w,k,Date.parse(n))||o.weeks[a].days[l].classname.push("js-disabled")}b.disabled&&o.weeks[a].days[l].classname.push("datepickerDisabled"),b.className&&o.weeks[a].days[l].classname.push(b.className),o.weeks[a].days[l].classname=o.weeks[a].days[l].classname.join(" "),f++,n.addDays(1)}c=tmpl(i.days.join(""),o)+c,o={data:d.locale.monthsShort,className:"datepickerMonths"},c=tmpl(i.months.join(""),o)+c,h.append(c)}},s=function(t,e,i){return t?e?i>=t&&i<=e:i>=t:i<=e},r=function(e){var i=t(e).data("datepicker"),n=t("#"+i.id);if(!1===i.extraHeight){var o=t(e).find("div");i.extraHeight=o.get(0).offsetHeight+o.get(1).offsetHeight,i.extraWidth=o.get(2).offsetWidth+o.get(3).offsetWidth}var s=n.find("table:first").get(0),r=s.offsetWidth,a=s.offsetHeight;n.css({width:r+i.extraWidth+"px",height:a+i.extraHeight+"px"}).find("div.datepickerContainer").css({width:r+"px",height:a+"px"})},a=function(e){t(e.target).is("span")?e.target=e.target.parentNode:t(e.target).is("i")&&(e.target=t(e.target).parent().parent());var i=t(e.target);if(i.is("a")){if(e.target.blur(),i.hasClass("datepickerDisabled")||i.hasClass("js-disabled")||i.parent().hasClass("js-disabled"))return!1;var n=t(this).data("datepicker"),s=i.parent(),r=s.parent().parent().parent(),a=t("table",this).index(r.get(0))-1,c=new Date(n.current),h=!1,d=!1,u=Math.floor(n.calendars/2);if(s.is("th"))i.hasClass("datepickerMonth")?(c.addMonths(a-u),"range"==n.mode||1==n.calendars&&(r.eq(0).hasClass("datepickerViewDays")?(r.eq(0).toggleClass("datepickerViewDays datepickerViewMonths"),i.find("span").text(c.getFullYear())):r.eq(0).hasClass("datepickerViewMonths")?(r.eq(0).toggleClass("datepickerViewMonths datepickerViewYears"),i.find("span").text(c.getFullYear()-6+" - "+(c.getFullYear()+5))):r.eq(0).hasClass("datepickerViewYears")&&(r.eq(0).toggleClass("datepickerViewYears datepickerViewDays"),i.find("span").text(c.getMonthName(!0)+", "+c.getFullYear())))):s.parent().parent().is("thead")&&(r.eq(0).hasClass("datepickerViewDays")?n.current.addMonths(i.hasClass("datepickerGoPrev")?-1:1):r.eq(0).hasClass("datepickerViewMonths")?n.current.addYears(i.hasClass("datepickerGoPrev")?-1:1):r.eq(0).hasClass("datepickerViewYears")&&n.current.addYears(i.hasClass("datepickerGoPrev")?-12:12),d=!0);else if(s.is("td")&&!s.hasClass("datepickerDisabled")){if(r.eq(0).hasClass("datepickerViewMonths"))n.current.setMonth(r.find("tbody.datepickerMonths td").index(s)),n.current.setFullYear(parseInt(r.find("thead th a.datepickerMonth span").text(),10)),n.current.addMonths(u-a),r.eq(0).toggleClass("datepickerViewMonths datepickerViewDays");else if(r.eq(0).hasClass("datepickerViewYears"))n.current.setFullYear(parseInt(i.text(),10)),r.eq(0).toggleClass("datepickerViewYears datepickerViewMonths");else{var p=parseInt(i.text(),10);switch(c.addMonths(a-u),s.hasClass("datepickerNotInMonth")&&c.addMonths(p>15?-1:1),c.setDate(p),n.mode){case"multiple":p=c.setHours(0,0,0,0).valueOf(),t.inArray(p,n.date)>-1?t.each(n.date,function(t,e){if(e==p)return n.date.splice(t,1),!1}):n.date.push(p);break;case"range":n.lastSel||(n.date[0]=c.setHours(0,0,0,0).valueOf()),(p=c.setHours(23,59,59,0).valueOf())<n.date[0]?(n.date[1]=n.date[0]+86399e3,n.date[0]=p-86399e3):n.date[1]=p,n.lastSel=!n.lastSel;break;default:n.date=c.valueOf()}h=!0}d=!0}d&&o(this),h&&n.onChange.apply(this,l(n))}return!1},l=function(e){var i=null;return"single"==e.mode?e.date&&(i=new Date(e.date)):(i=new Array,t(e.date).each(function(t,e){i.push(new Date(e))})),[i,e.el]},c=function(e){var i,n=t("#"+t(this).data("datepickerId"));if(!n.is(":visible")){var s=n.get(0),a=n.data("datepicker");a.onBeforeShow.apply(this,[s]);if(0==a.onBeforeShow.apply(this,[s]))return;o(s);var l=t(this).offset(),c=(i="CSS1Compat"==document.compatMode,{l:window.pageXOffset||(i?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(i?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(i?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(i?document.documentElement.clientHeight:document.body.clientHeight)}),d=l.top,u=l.left;t.curCSS(s,"display");switch(n.css({visibility:"hidden",display:"block"}),r(s),a.position){case"top":d-=s.offsetHeight;break;case"left":u-=s.offsetWidth;break;case"right":u+=this.offsetWidth;break;case"bottom":d+=this.offsetHeight}d+s.offsetHeight>c.t+c.h&&(d=l.top-s.offsetHeight),d<c.t&&(d=l.top+this.offsetHeight+s.offsetHeight),u+s.offsetWidth>c.l+c.w&&(u=l.left-s.offsetWidth),u<c.l&&(u=l.left+this.offsetWidth),n.css({visibility:"visible",display:"block",top:d+"px",left:u+"px"}),a.onAfterShow.apply(this,[n.get(0)]),t(document).bind("mousedown",{cal:n,trigger:this},h)}return!1},h=function(e){e.target==e.data.trigger||function(t,e,i){if(t==e)return!0;if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return!!(16&t.compareDocumentPosition(e));for(var n=e.parentNode;n&&n!=i;){if(n==t)return!0;n=n.parentNode}return!1}(e.data.cal.get(0),e.target,e.data.cal.get(0))||0!=e.data.cal.data("datepicker").onBeforeHide.apply(this,[e.data.cal.get(0)])&&(e.data.cal.hide(),e.data.cal.data("datepicker").onAfterHide.apply(this,[e.data.cal.get(0)]),t(document).unbind("mousedown",h))},d=function(e,i){if("single"==e||i||(i=[]),i&&(!t.isArray(i)||i.length>0))if("single"!=e)if(t.isArray(i)){for(var n=0;n<i.length;n++)i[n]=new Date(i[n]).setHours(0,0,0,0).valueOf();"range"==e&&(1==i.length&&i.push(new Date(i[0])),i[1]=new Date(i[1]).setHours(23,59,59,0).valueOf())}else i=[new Date(i).setHours(0,0,0,0).valueOf()],"range"==e&&i.push(new Date(i[0]).setHours(23,59,59,0).valueOf());else i=new Date(i).setHours(0,0,0,0).valueOf();return i},{init:function(s){var l;return s=t.extend({},n,s||{}),l=s.locale,Date.prototype.tempDate||(Date.prototype.tempDate=null,Date.prototype.months=l.months,Date.prototype.monthsShort=l.monthsShort,Date.prototype.getMonthName=function(t){return this[t?"months":"monthsShort"][this.getMonth()]},Date.prototype.addDays=function(t){this.setDate(this.getDate()+t),this.tempDate=this.getDate()},Date.prototype.addMonths=function(t){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.addYears=function(t){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setFullYear(this.getFullYear()+t),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.getMaxDays=function(){var t,e=new Date(Date.parse(this)),i=28;for(t=e.getMonth(),i=28;e.getMonth()==t;)i++,e.setDate(i);return i-1}),s.calendars=Math.max(1,parseInt(s.calendars,10)||1),s.mode=/single|multiple|range/.test(s.mode)?s.mode:"single",this.each(function(){if(!t(this).data("datepicker")){s.el=this,s.date=d(s.mode,s.date),s.current?s.current=new Date(s.current):s.current=new Date,s.current.setDate(1),s.current.setHours(0,0,0,0);var n,l="datepicker_"+parseInt(1e3*Math.random());s.id=l,t(this).data("datepickerId",s.id);var h=t(i.wrapper).attr("id",l).bind("click",a).data("datepicker",s);s.className&&h.addClass(s.className);for(var u="",p=0;p<s.calendars;p++)n=s.starts,p>0&&(u+=i.space),u+=tmpl(i.head.join(""),{prev:s.prev,next:s.next,day1:s.locale.daysMin[n++%7],day2:s.locale.daysMin[n++%7],day3:s.locale.daysMin[n++%7],day4:s.locale.daysMin[n++%7],day5:s.locale.daysMin[n++%7],day6:s.locale.daysMin[n++%7],day7:s.locale.daysMin[n++%7]});h.find("tr:first").append(u).find("table").addClass(e[s.view]),o(h.get(0)),s.inline?(h.appendTo(this).show().css("position","relative"),r(h.get(0))):(h.appendTo(document.body),t(this).bind(s.showOn,c))}})},showPicker:function(){return this.each(function(){t(this).data("datepickerId")&&(t("#"+t(this).data("datepickerId")).data("datepicker").inline||c.apply(this))})},hidePicker:function(){return this.each(function(){t(this).data("datepickerId")&&(t("#"+t(this).data("datepickerId")).data("datepicker").inline||t("#"+t(this).data("datepickerId")).hide())})},setDate:function(e,i){return this.each(function(){if(t(this).data("datepickerId")){var n=t("#"+t(this).data("datepickerId")),s=n.data("datepicker");s.date=d(s.mode,e),i&&(s.current=new Date("single"!=s.mode?s.date[0]:s.date)),o(n.get(0))}})},getDate:function(){if(this.length>0)return l(t("#"+t(this).data("datepickerId")).data("datepicker"))},clear:function(){return this.each(function(){if(t(this).data("datepickerId")){var e=t("#"+t(this).data("datepickerId")),i=e.data("datepicker");"single"==i.mode?i.date=null:(i.date=[],i.lastSel=!1),o(e.get(0))}})},fixLayout:function(){return this.each(function(){if(t(this).data("datepickerId")){var e=t("#"+t(this).data("datepickerId"));e.data("datepicker").inline&&r(e.get(0))}})}});t.fn.extend({DatePicker:u.init,DatePickerHide:u.hidePicker,DatePickerShow:u.showPicker,DatePickerSetDate:u.setDate,DatePickerGetDate:u.getDate,DatePickerClear:u.clear,DatePickerLayout:u.fixLayout})}(jQuery),function(){var t={};this.tmpl=function e(i,n){var o=/\W/.test(i)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+i.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[i]=t[i]||e(document.getElementById(i).innerHTML);return n?o(n):o}}(),function(t){function e(t,e){return"function"==typeof t?t.call(e):t}function i(e,i){this.$element=t(e),this.options=i,this.enabled=!0,this.tp}i.prototype={show:function(){dTaiko.tipsy.hideTipsy();var i=this.getTitle();if(this.$element.addClass("tipsy-active"),i&&this.enabled){var n=this.tip();n.find(".tipsy-inner")[this.options.html?"html":"text"](i),n[0].className="tipsy",n.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body),this.options.className&&n.addClass(e(this.options.className,this.$element[0])),pos=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),actualWidth=n[0].offsetWidth,actualHeight=n[0].offsetHeight,gravity=e(this.options.gravity,this.$element[0]),this.switchGravity(gravity);var o=t(window).width(),s=t(".tipsy .tipsy-inner").outerWidth(!0);o-10<=this.tp.left+s?(this.tp.left=o-s-20,n.find(".tipsy-arrow").css("left",this.$element.offset().left+this.$element.outerWidth(!1)/2-this.tp.left+1)):this.tp.left<10?(this.tp.left=20,n.find(".tipsy-arrow").css("left",this.$element.offset().left+this.$element.outerWidth(!1)/2-this.tp.left+1)):(this.switchGravity(gravity),n.find(".tipsy-arrow").css("left",actualWidth/2)),n.css(this.tp).addClass("tipsy-"+gravity),n.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+gravity.charAt(0),this.options.fade?n.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):n.css({visibility:"visible",opacity:this.options.opacity}),window.setTimeout(function(){dTaiko.tipsy.initTipsyOutsideHandlerGlobal()},1)}},switchGravity:function(t){switch(t.charAt(0)){case"n":this.tp={top:pos.top+pos.height+this.options.offset,left:pos.left+pos.width/2-actualWidth/2};break;case"s":this.tp={top:pos.top-actualHeight-this.options.offset,left:pos.left+pos.width/2-actualWidth/2};break;case"e":this.tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth-this.options.offset};break;case"w":this.tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width+this.options.offset}}2==t.length&&("w"==t.charAt(1)?this.tp.left=pos.left+pos.width/2-15:this.tp.left=pos.left+pos.width/2-actualWidth+15);var e=this.tip().find(".tipsy-arrow");if(this.tp.left<=0){var i=this.tp.left-10-parseInt(e.css("borderLeftWidth"));this.tp.left=10,e.css("marginLeft",i)}else e.css("marginLeft","")},hide:function(){t("#content").off("click.tipsyGlobal keyup.tipsyGlobal"),this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove(),this.$element.removeClass("tipsy-active"),PubSub.publish("dbTipsyCancel")},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,i=this.options;return"string"==typeof(i=this.options).title?t=e.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(t=i.title.call(e[0])),(t=(""+t).replace(/(^\s*|\s*$)/,""))||i.fallback},tip:function(){return this.$tip||(this.$tip=t('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(e){if(!0===e)return this.data("tipsy");if("string"==typeof e){var n=this.data("tipsy");return n&&n[e](),this}function o(n){var o=t.data(n,"tipsy");return o||(o=new i(n,t.fn.tipsy.elementOptions(n,e)),t.data(n,"tipsy",o)),o}if((e=t.extend({},t.fn.tipsy.defaults,e)).live||this.each(function(){o(this)}),"manual"!=e.trigger){var s=e.live?"live":"bind",r="hover"==e.trigger?"mouseenter":"focus",a="hover"==e.trigger?"mouseleave touchstart":"blur";this[s](r,function(t){t.stopPropagation(),t.preventDefault();var i=o(this);i.hoverState="in",0==e.delayIn?i.show():setTimeout(function(){"in"==i.hoverState&&i.show()},e.delayIn)})[s](a,function(){var t=o(this);t.hoverState="out",0==e.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},e.delayOut)})}return this},t.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},t.fn.tipsy.revalidate=function(){t(".tipsy").each(function(){var e=t.data(this,"tipsy-pointee");e&&function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1}(e)||t(this).remove()})},t.fn.tipsy.elementOptions=function(e,i){return t.metadata?t.extend({},i,t(e).metadata()):i},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"},t.fn.tipsy.autoBounds=function(e,i){return function(){var n={ns:i[0],ew:i.length>1&&i[1]},o=t(document).scrollTop()+e,s=t(document).scrollLeft()+e,r=t(this);return r.offset().top<o&&(n.ns="n"),r.offset().left<s&&(n.ew="w"),t(window).width()+t(document).scrollLeft()-r.offset().left<e&&(n.ew="e"),t(window).height()+t(document).scrollTop()-r.offset().top<e&&(n.ns="s"),n.ns+(n.ew?n.ew:"")}}}(jQuery),function(t){"use strict";var e=t.jCarousel={};e.version="0.3.9";var i=/^([+\-]=)?(.+)$/;e.parseTarget=function(t){var e=!1,n="object"!=typeof t?i.exec(t):null;return n?(t=parseInt(n[2],10)||0,n[1]&&(e=!0,"-="===n[1]&&(t*=-1))):"object"!=typeof t&&(t=parseInt(t,10)||0),{target:t,relative:e}},e.detectCarousel=function(t){for(var e;t.length>0;){if((e=t.filter("[data-jcarousel]")).length>0)return e;if((e=t.find("[data-jcarousel]")).length>0)return e;t=t.parent()}return null},e.base=function(i){return{version:e.version,_options:{},_element:null,_carousel:null,_init:t.noop,_create:t.noop,_destroy:t.noop,_reload:t.noop,create:function(){return this._element.attr("data-"+i.toLowerCase(),!0).data(i,this),!1===this._trigger("create")?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return!1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(i).removeAttr("data-"+i.toLowerCase()),this)},reload:function(t){return!1===this._trigger("reload")?this:(t&&this.options(t),this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(e,i){if(0===arguments.length)return t.extend({},this._options);if("string"==typeof e){if(void 0===i)return void 0===this._options[e]?null:this._options[e];this._options[e]=i}else this._options=t.extend({},this._options,e);return this},carousel:function(){return this._carousel||(this._carousel=e.detectCarousel(this.options("carousel")||this._element),this._carousel||t.error('Could not detect carousel for plugin "'+i+'"')),this._carousel},_trigger:function(e,n,o){var s,r=!1;return o=[this].concat(o||[]),(n||this._element).each(function(){s=t.Event((i+":"+e).toLowerCase()),t(this).trigger(s,o),s.isDefaultPrevented()&&(r=!0)}),!r}}},e.plugin=function(i,n){var o=t[i]=function(e,i){this._element=t(e),this.options(i),this._init(),this.create()};return o.fn=o.prototype=t.extend({},e.base(i),n),t.fn[i]=function(e){var n=Array.prototype.slice.call(arguments,1),s=this;return"string"==typeof e?this.each(function(){var o=t(this).data(i);if(!o)return t.error("Cannot call methods on "+i+' prior to initialization; attempted to call method "'+e+'"');if(!t.isFunction(o[e])||"_"===e.charAt(0))return t.error('No such method "'+e+'" for '+i+" instance");var r=o[e].apply(o,n);return r!==o&&void 0!==r?(s=r,!1):void 0}):this.each(function(){var n=t(this).data(i);n instanceof o?n.reload(e):new o(this,e)}),s},o}}(jQuery),function(t,e){"use strict";var i=t(e),n=function(t){return parseFloat(t)||0};t.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeState:null,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:t(),_first:t(),_last:t(),_visible:t(),_fullyvisible:t(),_init:function(){var t=this;return t.resizeState=i.width()+"x"+i.height(),this.onWindowResize=function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){var e=i.width()+"x"+i.height();e!==t.resizeState&&(t.resizeState=e,t.reload())},100)},this},_create:function(){this._reload(),i.on("resize.jcarousel",this.onWindowResize)},_destroy:function(){i.off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical"),null==this.vertical&&(this.vertical=n(this.list().height())>n(this.list().width())),this.rtl=this.options("rtl"),null==this.rtl&&(this.rtl=function(e){if("rtl"===(""+e.attr("dir")).toLowerCase())return!0;var i=!1;return e.parents("[dir]").each(function(){if(/rtl/i.test(t(this).attr("dir")))return i=!0,!1}),i}(this._element)),this.lt=this.vertical?"top":"left",this.relative="relative"===this.list().css("position"),this._list=null,this._items=null;var e=this.index(this._target)>=0?this._target:this.closest();this.circular="circular"===this.options("wrap"),this.underflow=!1;var i={left:0,top:0};return e.length>0&&(this._prepare(e),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,i[this.lt]=this._position(e)+"px"),this.move(i),this},list:function(){if(null===this._list){var e=this.options("list");this._list=t.isFunction(e)?e.call(this):this._element.find(e)}return this._list},items:function(){if(null===this._items){var e=this.options("items");this._items=(t.isFunction(e)?e.call(this):this.list().find(e)).not("[data-jcarousel-clone]")}return this._items},index:function(t){return this.items().index(t)},closest:function(){var e,i=this,o=this.list().position()[this.lt],s=t(),r=!1,a=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right";return this.rtl&&this.relative&&!this.vertical&&(o+=n(this.list().width())-this.clipping()),this.items().each(function(){if(s=t(this),r)return!1;var l=i.dimension(s);if((o+=l)>=0){if(e=l-n(s.css("margin-"+a)),!(Math.abs(o)-l+e/2<=0))return!1;r=!0}}),s},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var t=this.options("wrap"),e=this.items().length-1,i=this.options("center")?this._target:this._last;return!!(e>=0&&!this.underflow&&(t&&"first"!==t||this.index(i)<e||this.tail&&!this.inTail))},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var t=this.options("wrap");return!!(this.items().length>0&&!this.underflow&&(t&&"last"!==t||this.index(this._first)>0||this.tail&&this.inTail))},clipping:function(){return n(this._element["inner"+(this.vertical?"Height":"Width")]())},dimension:function(t){return n(t["outer"+(this.vertical?"Height":"Width")](!0))},scroll:function(e,i,n){if(this.animating)return this;if(!1===this._trigger("scroll",null,[e,i]))return this;t.isFunction(i)&&(n=i,i=!0);var o=t.jCarousel.parseTarget(e);if(o.relative){var s,r,a,l,c,h,d,u,p=this.items().length-1,f=Math.abs(o.target),g=this.options("wrap");if(o.target>0){var m=this.index(this._last);if(m>=p&&this.tail)this.inTail?"both"===g||"last"===g?this._scroll(0,i,n):t.isFunction(n)&&n.call(this,!1):this._scrollTail(i,n);else if(s=this.index(this._target),this.underflow&&s===p&&("circular"===g||"both"===g||"last"===g)||!this.underflow&&m===p&&("both"===g||"last"===g))this._scroll(0,i,n);else if(a=s+f,this.circular&&a>p){for(u=p,c=this.items().get(-1);u++<a;)c=this.items().eq(0),(h=this._visible.index(c)>=0)&&c.after(c.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(c),h||((d={})[this.lt]=this.dimension(c),this.moveBy(d)),this._items=null;this._scroll(c,i,n)}else this._scroll(Math.min(a,p),i,n)}else if(this.inTail)this._scroll(Math.max(this.index(this._first)-f+1,0),i,n);else if(r=this.index(this._first),s=this.index(this._target),a=(l=this.underflow?s:r)-f,l<=0&&(this.underflow&&"circular"===g||"both"===g||"first"===g))this._scroll(p,i,n);else if(this.circular&&a<0){for(u=a,c=this.items().get(0);u++<0;){c=this.items().eq(-1),(h=this._visible.index(c)>=0)&&c.after(c.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(c),this._items=null;var v=this.dimension(c);(d={})[this.lt]=-v,this.moveBy(d)}this._scroll(c,i,n)}else this._scroll(Math.max(a,0),i,n)}else this._scroll(o.target,i,n);return this._trigger("scrollend"),this},moveBy:function(t,e){var i=this.list().position(),o=1,s=0;return this.rtl&&!this.vertical&&(o=-1,this.relative&&(s=n(this.list().width())-this.clipping())),t.left&&(t.left=n(i.left)+s+n(t.left)*o+"px"),t.top&&(t.top=n(i.top)+s+n(t.top)*o+"px"),this.move(t,e)},move:function(e,i){i=i||{};var n=this.options("transitions"),o=!!n,s=!!n.transforms,r=!!n.transforms3d,a=i.duration||0,l=this.list();if(!o&&a>0)l.animate(e,i);else{var c=i.complete||t.noop,h={};if(o){var d={transitionDuration:l.css("transitionDuration"),transitionTimingFunction:l.css("transitionTimingFunction"),transitionProperty:l.css("transitionProperty")},u=c;c=function(){t(this).css(d),u.call(this)},h={transitionDuration:(a>0?a/1e3:0)+"s",transitionTimingFunction:n.easing||i.easing,transitionProperty:a>0?s||r?"all":e.left?"left":"top":"none",transform:"none"}}r?h.transform="translate3d("+(e.left||0)+","+(e.top||0)+",0)":s?h.transform="translate("+(e.left||0)+","+(e.top||0)+")":t.extend(h,e),o&&a>0&&l.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",c),l.css(h),a<=0&&l.each(function(){c.call(this)})}},_scroll:function(e,i,o){if(this.animating)return t.isFunction(o)&&o.call(this,!1),this;if("object"!=typeof e?e=this.items().eq(e):void 0===e.jquery&&(e=t(e)),0===e.length)return t.isFunction(o)&&o.call(this,!1),this;this.inTail=!1,this._prepare(e);var s=this._position(e);if(s===n(this.list().position()[this.lt]))return t.isFunction(o)&&o.call(this,!1),this;var r={};return r[this.lt]=s+"px",this._animate(r,i,o),this},_scrollTail:function(e,i){if(this.animating||!this.tail)return t.isFunction(i)&&i.call(this,!1),this;var o=this.list().position()[this.lt];this.rtl&&this.relative&&!this.vertical&&(o+=n(this.list().width())-this.clipping()),this.rtl&&!this.vertical?o+=this.tail:o-=this.tail,this.inTail=!0;var s={};return s[this.lt]=o+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(s,e,i),this},_animate:function(e,i,n){if(n=n||t.noop,!1===this._trigger("animate"))return n.call(this,!1),this;this.animating=!0;var o=this.options("animation"),s=t.proxy(function(){this.animating=!1;var t=this.list().find("[data-jcarousel-clone]");t.length>0&&(t.remove(),this._reload()),this._trigger("animateend"),n.call(this,!0)},this),r="object"==typeof o?t.extend({},o):{duration:o},a=r.complete||t.noop;return!1===i?r.duration=0:void 0!==t.fx.speeds[r.duration]&&(r.duration=t.fx.speeds[r.duration]),r.complete=function(){s(),a.call(this)},this.move(e,r),this},_prepare:function(e){var i,o,s,r=this.index(e),a=r,l=this.dimension(e),c=this.clipping(),h=this.vertical?"bottom":this.rtl?"left":"right",d=this.options("center"),u={target:e,first:e,last:e,visible:e,fullyvisible:l<=c?e:t()};if(d&&(l/=2,c/=2),l<c)for(;;){if(0===(i=this.items().eq(++a)).length){if(!this.circular)break;if(i=this.items().eq(0),e.get(0)===i.get(0))break;if((o=this._visible.index(i)>=0)&&i.after(i.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(i),!o){var p={};p[this.lt]=this.dimension(i),this.moveBy(p)}this._items=null}if(0===(s=this.dimension(i)))break;if(l+=s,u.last=i,u.visible=u.visible.add(i),l-n(i.css("margin-"+h))<=c&&(u.fullyvisible=u.fullyvisible.add(i)),l>=c)break}if(!this.circular&&!d&&l<c)for(a=r;!(--a<0||0===(i=this.items().eq(a)).length||0===(s=this.dimension(i))||(l+=s,u.first=i,u.visible=u.visible.add(i),l-n(i.css("margin-"+h))<=c&&(u.fullyvisible=u.fullyvisible.add(i)),l>=c)););return this._update(u),this.tail=0,d||"circular"===this.options("wrap")||"custom"===this.options("wrap")||this.index(u.last)!==this.items().length-1||(l-=n(u.last.css("margin-"+h)))>c&&(this.tail=l-c),this},_position:function(t){var e=this._first,i=n(e.position()[this.lt]),o=this.options("center"),s=o?this.clipping()/2-this.dimension(e)/2:0;return this.rtl&&!this.vertical?(this.relative?i-=n(this.list().width())-this.dimension(e):i-=this.clipping()-this.dimension(e),i+=s):i-=s,!o&&(this.index(t)>this.index(e)||this.inTail)&&this.tail?(i=this.rtl&&!this.vertical?i-this.tail:i+this.tail,this.inTail=!0):this.inTail=!1,-i},_update:function(e){var i,n=this,o={target:this._target,first:this._first,last:this._last,visible:this._visible,fullyvisible:this._fullyvisible},s=this.index(e.first||o.first)<this.index(o.first),r=function(i){var r=[],a=[];e[i].each(function(){o[i].index(this)<0&&r.push(this)}),o[i].each(function(){e[i].index(this)<0&&a.push(this)}),s?r=r.reverse():a=a.reverse(),n._trigger(i+"in",t(r)),n._trigger(i+"out",t(a)),n["_"+i]=e[i]};for(i in e)r(i);return this}})}(jQuery,window),function(t){"use strict";t.jcarousel.fn.scrollIntoView=function(e,i,n){var o,s=t.jCarousel.parseTarget(e),r=this.index(this._fullyvisible.first()),a=this.index(this._fullyvisible.last());if((o=s.relative?s.target<0?Math.max(0,r+s.target):a+s.target:"object"!=typeof s.target?s.target:this.index(s.target))<r)return this.scroll(o,i,n);if(o>=r&&o<=a)return t.isFunction(n)&&n.call(this,!1),this;for(var l,c=this.items(),h=this.clipping(),d=this.vertical?"bottom":this.rtl?"left":"right",u=0;0!==(l=c.eq(o)).length;){if((u+=this.dimension(l))>=h){u-(parseFloat(l.css("margin-"+d))||0)!==h&&o++;break}if(o<=0)break;o--}return this.scroll(o,i,n)}}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onEvent=t.proxy(function(e){e.preventDefault();var i=this.options("method");t.isFunction(i)?i.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload),this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent),this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var e,i=t.jCarousel.parseTarget(this.options("target")),n=this.carousel();if(i.relative)e=n.jcarousel(i.target>0?"hasNext":"hasPrev");else{var o="object"!=typeof i.target?n.jcarousel("items").eq(i.target):i.target;e=n.jcarousel("target").index(o)>=0}return this._active!==e&&(this._trigger(e?"active":"inactive"),this._active=e),this}})}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(t){return'<a href="#'+t+'">'+t+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onScroll=t.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll),this._reload()},_destroy:function(){this._clear(),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll),this._carouselItems=null},_reload:function(){var e=this.options("perPage");if(this._pages={},this._items={},t.isFunction(e)&&(e=e.call(this)),null==e)this._pages=this._calculatePages();else for(var i,n=parseInt(e,10)||0,o=this._getCarouselItems(),s=1,r=0;0!==(i=o.eq(r++)).length;)this._pages[s]?this._pages[s]=this._pages[s].add(i):this._pages[s]=i,r%n==0&&s++;this._clear();var a=this,l=this.carousel().data("jcarousel"),c=this._element,h=this.options("item"),d=this._getCarouselItems().length;t.each(this._pages,function(e,i){var n=a._items[e]=t(h.call(a,e,i));n.on(a.options("event")+".jcarouselpagination",t.proxy(function(){var t=i.eq(0);if(l.circular){var n=l.index(l.target()),o=l.index(t);parseFloat(e)>parseFloat(a._currentPage)?o<n&&(t="+="+(d-n+o)):o>n&&(t="-="+(n+(d-o)))}l[this.options("method")](t)},a)),c.append(n)}),this._update()},_update:function(){var e,i=this.carousel().jcarousel("target");t.each(this._pages,function(t,n){if(n.each(function(){if(i.is(this))return e=t,!1}),e)return!1}),this._currentPage!==e&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[e])),this._currentPage=e},items:function(){return this._items},reloadCarouselItems:function(){return this._carouselItems=null,this},_clear:function(){this._element.empty(),this._currentPage=null},_calculatePages:function(){for(var t,e,i=this.carousel().data("jcarousel"),n=this._getCarouselItems(),o=i.clipping(),s=0,r=0,a=1,l={};0!==(t=n.eq(r++)).length;)s+(e=i.dimension(t))>o&&(a++,s=0),s+=e,l[a]?l[a]=l[a].add(t):l[a]=t;return l},_getCarouselItems:function(){return this._carouselItems||(this._carouselItems=this.carousel().jcarousel("items")),this._carouselItems}})}(jQuery),function(t,e){"use strict";var i,n;t.each({hidden:"visibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange",webkitHidden:"webkitvisibilitychange"},function(t,o){if(void 0!==e[t])return i=t,n=o,!1}),t.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:!0,method:"scroll"},_timer:null,_started:!1,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onAnimateEnd=t.proxy(this._start,this),this.onVisibilityChange=t.proxy(function(){e[i]?this._stop():this._start()},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy),t(e).on(n,this.onVisibilityChange),this.options("autostart")&&this.start()},_destroy:function(){this._stop(),this.carousel().off("jcarousel:destroy",this.onDestroy),t(e).off(n,this.onVisibilityChange)},_start:function(){if(this._stop(),this._started)return this.carousel().one("jcarousel:animateend",this.onAnimateEnd),this._timer=setTimeout(t.proxy(function(){this.carousel().jcarousel(this.options("method"),this.options("target"))},this),this.options("interval")),this},_stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().off("jcarousel:animateend",this.onAnimateEnd),this},start:function(){return this._started=!0,this._start(),this},stop:function(){return this._started=!1,this._stop(),this}})}(jQuery,document),function(){function t(){var t,e,i=arguments,n={},o=function(t,e){var i,n;for(n in"object"!=typeof t&&(t={}),e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?o(t[n]||{},i):e[n]);return t};for(!0===i[0]&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;t<e;t++)n=o(n,i[t]);return n}function e(t,e){return parseInt(t,e||10)}function i(t){return"string"==typeof t}function n(t){return t&&"object"==typeof t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return"number"==typeof t}function r(t){return ct.log(t)/ct.LN10}function a(t){return ct.pow(10,t)}function l(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function c(t){return t!==L&&null!==t}function h(t,e,o){var s,r;if(i(e))c(o)?t.setAttribute(e,o):t&&t.getAttribute&&(r=t.getAttribute(e));else if(c(e)&&n(e))for(s in e)t.setAttribute(s,e[s]);return r}function d(t){return o(t)?t:[t]}function u(t,e){kt&&!_t&&e&&e.opacity!==L&&(e.filter="alpha(opacity="+100*e.opacity+")"),zt(t.style,e)}function p(t,e,i,n,o){return t=at.createElement(t),e&&zt(t,e),o&&u(t,{padding:0,border:Rt,margin:0}),i&&u(t,i),n&&n.appendChild(t),t}function f(t,e){var i=function(){return L};return i.prototype=new t,zt(i.prototype,e),i}function g(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function m(t){return 6e4*(Y&&Y(t)||G||0)}function v(t,e){for(var i,n,o,s,r,a="{",l=!1,c=[];-1!==(a=t.indexOf(a));){if(i=t.slice(0,a),l){for(r=(o=(n=i.split(":")).shift().split(".")).length,i=e,s=0;s<r;s++)i=i[o[s]];n.length&&(n=n.join(":"),o=/\.([0-9])/,s=F.lang,r=void 0,/f$/.test(n)?(r=(r=n.match(o))?r[1]:-1,null!==i&&(i=rt.numberFormat(i,r,s.decimalPoint,-1<n.indexOf(",")?s.thousandsSep:""))):i=W(n,i))}c.push(i),t=t.slice(a+1),a=(l=!l)?"}":"{"}return c.push(t),c.join("")}function y(t){return ct.pow(10,dt(ct.log(t)/ct.LN10))}function b(t,e,i,n,o){var s,r=t;for(s=t/(i=Nt(i,1)),e||(e=[1,2,2.5,5,10],!1===n&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),n=0;n<e.length&&(r=e[n],!(o&&r*i>=t||!o&&s<=(e[n]+(e[n+1]||e[n]))/2));n++);return r*i}function x(t,e){var i,n,o=t.length;for(n=0;n<o;n++)t[n].ss_i=n;for(t.sort(function(t,n){return 0===(i=e(t,n))?t.ss_i-n.ss_i:i}),n=0;n<o;n++)delete t[n].ss_i}function w(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function k(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function C(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function T(t){R||(R=p(Ht)),t&&R.appendChild(t),R.innerHTML=""}function S(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;lt.console&&console.log(i)}function E(t){return parseFloat(t.toPrecision(14))}function P(t,e){B=Nt(t,e.animation)}function _(){var t=F.global,e=t.useUTC,i=e?"getUTC":"get",n=e?"setUTC":"set";N=t.Date||window.Date,G=e&&t.timezoneOffset,Y=e&&t.getTimezoneOffset,V=function(t,i,n,o,s,r){var a;return e?(a=N.UTC.apply(0,arguments),a+=m(a)):a=new N(t,i,Nt(n,1),Nt(o,0),Nt(s,0),Nt(r,0)).getTime(),a},X=i+"Minutes",U=i+"Hours",q=i+"Day",K=i+"Date",Q=i+"Month",Z=i+"FullYear",J=n+"Milliseconds",tt=n+"Seconds",et=n+"Minutes",it=n+"Hours",nt=n+"Date",ot=n+"Month",st=n+"FullYear"}function A(){}function M(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function D(t,e,i,n,o){var s=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=o,this.alignOptions={align:e.align||(s?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":i?"bottom":"top"),y:Nt(e.y,s?4:i?14:-6),x:Nt(e.x,s?i?-6:6:0)},this.textAlign=e.textAlign||(s?i?"right":"left":"center")}function $(t){var e,i=(e=t.options).navigator,n=i.enabled,o=(e=e.scrollbar).enabled,s=n?i.height:0,r=o?e.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=t,this.setBaseSeries(),this.height=s,this.scrollbarHeight=r,this.scrollbarEnabled=o,this.navigatorEnabled=n,this.navigatorOptions=i,this.scrollbarOptions=e,this.outlineHeight=s+r,this.init()}function I(t){this.init(t)}var L,O,H,R,F,W,B,j,z,N,V,G,Y,X,U,q,K,Q,Z,J,tt,et,it,nt,ot,st,rt,at=document,lt=window,ct=Math,ht=ct.round,dt=ct.floor,ut=ct.ceil,pt=ct.max,ft=ct.min,gt=ct.abs,mt=ct.cos,vt=ct.sin,yt=ct.PI,bt=2*yt/360,xt=navigator.userAgent,wt=lt.opera,kt=/(msie|trident)/i.test(xt)&&!wt,Ct=8===at.documentMode,Tt=/AppleWebKit/.test(xt),St=/Firefox/.test(xt),Et=/(Mobile|Android|Windows Phone)/.test(xt),Pt="http://www.w3.org/2000/svg",_t=!!at.createElementNS&&!!at.createElementNS(Pt,"svg").createSVGRect,At=St&&4>parseInt(xt.split("Firefox/")[1],10),Mt=!_t&&!kt&&!!at.createElement("canvas").getContext,Dt={},$t=0,It=function(){return L},Lt=[],Ot=0,Ht="div",Rt="none",Ft=/^[0-9]+$/,Wt=["plotTop","marginRight","marginBottom","plotLeft"],Bt="stroke-width",jt={};(rt=lt.Highcharts=lt.Highcharts?S(16,!0):{}).seriesTypes=jt;var zt=rt.extend=function(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t},Nt=rt.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if((e=i[t])!==L&&null!==e)return e},Vt=rt.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}};W=function(t,e,i){if(!c(e)||isNaN(e))return"Invalid date";t=Nt(t,"%Y-%m-%d %H:%M:%S");var n,o=(u=new N(e-m(e)))[U](),s=u[q](),r=u[K](),a=u[Q](),l=u[Z](),h=F.lang,d=h.weekdays,u=zt({a:d[s].substr(0,3),A:d[s],d:g(r),e:r,w:s,b:h.shortMonths[a],B:h.months[a],m:g(a+1),y:l.toString().substr(2,2),Y:l,H:g(o),I:g(o%12||12),l:o%12||12,M:g(u[X]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:g(u.getSeconds()),L:g(ht(e%1e3),3)},rt.dateFormats);for(n in u)for(;-1!==t.indexOf("%"+n);)t=t.replace("%"+n,"function"==typeof u[n]?u[n](e):u[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},z={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},rt.numberFormat=function(t,i,n,o){var s=F.lang,r=(t=+t||0,-1===i?ft((t.toString().split(".")[1]||"").length,20):isNaN(i=gt(i))?2:i),a=(i=void 0===n?s.decimalPoint:n,o=void 0===o?s.thousandsSep:o,s=0>t?"-":"",3<(n=String(e(t=gt(t).toFixed(r)))).length?n.length%3:0);return s+(a?n.substr(0,a)+o:"")+n.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+o)+(r?i+gt(t-n).toFixed(r).slice(2):"")},j={init:function(t,e,i){e=e||"";var n,o,s,r=t.shift,a=-1<e.indexOf("C"),l=a?7:3,c=(e=e.split(" "),i=[].concat(i),function(t){for(n=t.length;n--;)"M"===t[n]&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])});if(a&&(c(e),c(i)),t.isArea&&(o=e.splice(e.length-6,6),s=i.splice(i.length-6,6)),r<=i.length/l&&e.length===i.length)for(;r--;)i=[].concat(i).splice(0,l).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)r=[].concat(e).splice(e.length-l,l),a&&(r[l-6]=r[l-2],r[l-5]=r[l-1]),e=e.concat(r);return o&&(e=e.concat(o),i=i.concat(s)),[e,i]},step:function(t,e,i,n){var o=[],s=t.length;if(1===i)o=n;else if(s===e.length&&1>i)for(;s--;)n=parseFloat(t[s]),o[s]=isNaN(n)?t[s]:i*parseFloat(e[s]-n)+n;else o=e;return o}};var Gt=lt.jQuery;lt.HighchartsAdapter=lt.HighchartsAdapter||Gt&&{init:function(t){var e=Gt.fx;Gt.extend(Gt.easing,{easeOutQuad:function(t,e,i,n,o){return-n*(e/=o)*(e-2)+i}}),Gt.each(["cur","_default","width","height","opacity"],function(t,i){var n,o=e.step;"cur"===i?o=e.prototype:"_default"===i&&Gt.Tween&&(o=Gt.Tween.propHooks[i],i="set"),(n=o[i])&&(o[i]=function(e){var o;if("align"!==(e=t?e:this).prop)return(o=e.elem).attr?o.attr(e.prop,"cur"===i?L:e.now):n.apply(this,arguments)})}),Vt(Gt.cssHooks.opacity,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),this.addAnimSetter("d",function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){var i,n=t.length;for(i=0;i<n;i++)if(!1===e.call(t[i],t[i],i,t))return i},Gt.fn.highcharts=function(){var t,e,n="Chart",o=arguments;return this[0]&&(i(o[0])&&(n=o[0],o=Array.prototype.slice.call(o,1)),(t=o[0])!==L&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new rt[n](t,o[1]),e=this),t===L&&(e=Lt[h(this[0],"data-highcharts-chart")])),e}},addAnimSetter:function(t,e){Gt.Tween?Gt.Tween.propHooks[t]={set:e}:Gt.fx.step[t]=e},getScript:Gt.getScript,inArray:Gt.inArray,adapterRun:function(t,e){return Gt(t)[e]()},grep:Gt.grep,map:function(t,e){for(var i=[],n=0,o=t.length;n<o;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return Gt(t).offset()},addEvent:function(t,e,i){Gt(t).bind(e,i)},removeEvent:function(t,e,i){var n=at.removeEventListener?"removeEventListener":"detachEvent";at[n]&&t&&!t[n]&&(t[n]=function(){}),Gt(t).unbind(e,i)},fireEvent:function(t,e,i,n){var o,s=Gt.Event(e),r="detached"+e;!kt&&i&&(delete i.layerX,delete i.layerY,delete i.returnValue),zt(s,i),t[e]&&(t[r]=t[e],t[e]=null),Gt.each(["preventDefault","stopPropagation"],function(t,e){var i=s[e];s[e]=function(){try{i.call(s)}catch(t){"preventDefault"===e&&(o=!0)}}}),Gt(t).trigger(s),t[r]&&(t[e]=t[r],t[r]=null),n&&!s.isDefaultPrevented()&&!o&&n(s)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===L&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,e,i){var n=Gt(t);t.style||(t.style={}),e.d&&(t.toD=e.d,e.d=1),n.stop(),e.opacity!==L&&t.attr&&(e.opacity+="px"),t.hasAnim=1,n.animate(e,i)},stop:function(t){t.hasAnim&&Gt(t).stop()}};var Yt=lt.HighchartsAdapter,Xt=Yt||{};Yt&&Yt.init.call(Yt,j);var Ut=Xt.adapterRun,qt=Xt.getScript,Kt=Xt.inArray,Qt=rt.each=Xt.each,Zt=Xt.grep,Jt=Xt.offset,te=Xt.map,ee=Xt.addEvent,ie=Xt.removeEvent,ne=Xt.fireEvent,oe=Xt.washMouseEvent,se=Xt.animate,re=Xt.stop,ae=(F={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.7/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":rt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:_t,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Et?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}}).plotOptions,le=ae.line;_();var ce=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,he=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,de=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ue=function(i){var n,o,r=[];return i&&i.stops?o=te(i.stops,function(t){return ue(t[1])}):(n=ce.exec(i))?r=[e(n[1]),e(n[2]),e(n[3]),parseFloat(n[4],10)]:(n=he.exec(i))?r=[e(n[1],16),e(n[2],16),e(n[3],16),1]:(n=de.exec(i))&&(r=[e(n[1]),e(n[2]),e(n[3]),1]),{get:function(e){var n;return o?((n=t(i)).stops=[].concat(n.stops),Qt(o,function(t,i){n.stops[i]=[n.stops[i][0],t.get(e)]})):n=r&&!isNaN(r[0])?"rgb"===e?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===e?r[3]:"rgba("+r.join(",")+")":i,n},brighten:function(t){if(o)Qt(o,function(e){e.brighten(t)});else if(s(t)&&0!==t){var i;for(i=0;3>i;i++)r[i]+=e(255*t),0>r[i]&&(r[i]=0),255<r[i]&&(r[i]=255)}return this},rgba:r,setOpacity:function(t){return r[3]=t,this},raw:i}};A.prototype={opacity:1,textProps:"fontSize fontWeight fontFamily fontStyle color lineHeight width textDecoration textShadow".split(" "),init:function(t,e){this.element="span"===e?p(e):at.createElementNS(Pt,e),this.renderer=t},animate:function(e,i,n){return i=Nt(i,B,!0),re(this),i?(i=t(i,{}),n&&(i.complete=n),se(this,e,i)):(this.attr(e),n&&n()),this},colorGradient:function(e,i,n){var s,r,a,l,h,d,u,p,f,g,m=this.renderer,v=[];if(e.linearGradient?r="linearGradient":e.radialGradient&&(r="radialGradient"),r){for(g in a=e[r],l=m.gradients,d=e.stops,f=n.radialReference,o(a)&&(e[r]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&f&&!c(a.gradientUnits)&&(a=t(a,{cx:f[0]-f[2]/2+a.cx*f[2],cy:f[1]-f[2]/2+a.cy*f[2],r:a.r*f[2],gradientUnits:"userSpaceOnUse"})),a)"id"!==g&&v.push(g,a[g]);for(g in d)v.push(d[g]);l[v=v.join(",")]?e=l[v].attr("id"):(a.id=e="highcharts-"+$t++,l[v]=h=m.createElement(r).attr(a).add(m.defs),h.stops=[],Qt(d,function(t){0===t[1].indexOf("rgba")?(s=ue(t[1]),u=s.get("rgb"),p=s.get("a")):(u=t[1],p=1),t=m.createElement("stop").attr({offset:t[0],"stop-color":u,"stop-opacity":p}).add(h),h.stops.push(t)})),n.setAttribute(i,"url("+m.url+"#"+e+")")}},applyTextShadow:function(t){var i,n=this.element,o=-1!==t.indexOf("contrast"),s={},r=this.renderer.forExport||n.style.textShadow!==L&&!kt;o&&(s.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),Tt&&(s.textRendering="geometricPrecision"),r?u(n,s):(this.fakeTS=!0,this.ySetter=this.xSetter,i=[].slice.call(n.getElementsByTagName("tspan")),Qt(t.split(/\s?,\s?/g),function(t){var o,s,r=n.firstChild;t=t.split(" ");o=t[t.length-1],(s=t[t.length-2])&&Qt(i,function(t,i){var a;0===i&&(t.setAttribute("x",n.getAttribute("x")),i=n.getAttribute("y"),t.setAttribute("y",i||0),null===i&&n.setAttribute("y",0)),h(a=t.cloneNode(1),{class:"highcharts-text-shadow",fill:o,stroke:o,"stroke-opacity":1/pt(e(s),3),"stroke-width":s,"stroke-linejoin":"round"}),n.insertBefore(a,r)})}))},attr:function(t,e){var i,n,o,s,r=this.element,a=this;if("string"==typeof t&&e!==L&&(i=t,(t={})[i]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,r);else{for(i in t)n=t[i],s=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(o||(this.symbolAttr(t),o=!0),s=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),s||(this[i+"Setter"]||this._defaultSetter).call(this,n,i,r),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,n);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return a},updateShadows:function(t,e){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(t,"height"===t?pt(e-(i[n].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,i=h(e,"class")||"";return-1===i.indexOf(t)&&h(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;Qt("x y r start end width height innerR anchorX anchorY".split(" "),function(i){e[i]=Nt(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Rt)},crisp:function(t){var e,i,n={},o=t.strokeWidth||this.strokeWidth||0;for(e in i=ht(o)%2/2,t.x=dt(t.x||this.x||0)+i,t.y=dt(t.y||this.y||0)+i,t.width=dt((t.width||this.width||0)-2*i),t.height=dt((t.height||this.height||0)-2*i),t.strokeWidth=o,t)this[e]!==t[e]&&(this[e]=n[e]=t[e]);return n},css:function(t){var i,n,o=this.styles,s={},r=this.element,a="";if(i=!o,t&&t.color&&(t.fill=t.color),o)for(n in t)t[n]!==o[n]&&(s[n]=t[n],i=!0);if(i){if(i=this.textWidth=t&&t.width&&"text"===r.nodeName.toLowerCase()&&e(t.width)||this.textWidth,o&&(t=zt(o,s)),this.styles=t,i&&(Mt||!_t&&this.renderer.forExport)&&delete t.width,kt&&!_t)u(this.element,t);else{for(n in o=function(t,e){return"-"+e.toLowerCase()},t)a+=n.replace(/([A-Z])/g,o)+":"+t[n]+";";h(r,"style",a)}i&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var i=this,n=i.element;return H&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=N.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===xt.indexOf("Android")||1100<N.now()-(i.touchEventFired||0))&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,o=this.inverted,s=this.rotation,r=this.element;o&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],o?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+(r.getAttribute("x")||0)+" "+(r.getAttribute("y")||0)+")"),(c(i)||c(n))&&t.push("scale("+Nt(i,1)+" "+Nt(n,1)+")"),t.length&&r.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var o,s,r,a,c={};return r=(s=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||i(n))&&(this.alignTo=o=n||"renderer",l(r,this),r.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,o=this.alignTo),n=Nt(n,s[o],s),o=t.align,s=t.verticalAlign,r=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),"right"!==o&&"center"!==o||(r+=(n.width-(t.width||0))/{right:1,center:2}[o]),c[e?"translateX":"x"]=ht(r),"bottom"!==s&&"middle"!==s||(a+=(n.height-(t.height||0))/({bottom:1,middle:2}[s]||1)),c[e?"translateY":"y"]=ht(a),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t){var e,i,n=this.renderer,o=this.rotation,s=this.element,r=this.styles,a=o*bt;i=this.textStr;var l,c,h,d=s.style;if(i!==L&&(h=["",o||0,r&&r.fontSize,s.style.width].join(),h=""===i||Ft.test(i)?"num:"+i.toString().length+h:i+h),h&&!t&&(e=n.cache[h]),!e){if(s.namespaceURI===Pt||n.forExport){try{c=this.fakeTS&&function(t){Qt(s.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},St&&d.textShadow?(l=d.textShadow,d.textShadow=""):c&&c(Rt),e=s.getBBox?zt({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight},l?d.textShadow=l:c&&c("")}catch(t){}(!e||0>e.width)&&(e={width:0,height:0})}else e=this.htmlGetBBox();n.isSVG&&(t=e.width,i=e.height,kt&&r&&"11px"===r.fontSize&&"16.9"===i.toPrecision(3)&&(e.height=i=14),o&&(e.width=gt(i*vt(a))+gt(t*mt(a)),e.height=gt(i*mt(a))+gt(t*vt(a)))),n.cache[h]=e}return e},show:function(t){return t&&this.element.namespaceURI===Pt?this.element.removeAttribute("visibility"):this.attr({visibility:t?"inherit":"visible"}),this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},o=i.shadows,s=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,re(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),o&&Qt(o,function(t){i.safeRemoveChild(t)});s&&s.div&&0===s.div.childNodes.length;)n=s.parentGroup,i.safeRemoveChild(s.div),delete s.div,s=n;for(t in i.alignTo&&l(i.renderer.alignedObjects,i),i)delete i[t];return null},shadow:function(t,e,i){var n,o,s,r,a,l,c=[],d=this.element;if(t){for(r=Nt(t.width,3),a=(t.opacity||.15)/r,l=this.parentInverted?"(-1,-1)":"("+Nt(t.offsetX,1)+", "+Nt(t.offsetY,1)+")",n=1;n<=r;n++)s=2*r+1-2*n,h(o=d.cloneNode(0),{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":s,transform:"translate"+l,fill:Rt}),i&&(h(o,"height",pt(h(o,"height")-s,0)),o.cutHeight=s),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),c.push(o);this.shadows=c}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=Nt(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var i;if(t=t&&t.toLowerCase()){for(i=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;i--;)t[i]=e(t[i])*this["stroke-width"];t=t.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=at.createElementNS(Pt,"title"),this.element.appendChild(e)),e.appendChild(at.createTextNode(String(Nt(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},zIndexSetter:function(t,i){var n,o,s,r,a=this.renderer,l=this.parentGroup,d=(a=(l||a).element||a.box,this.element);if(n=this.added,c(t)&&(d.setAttribute(i,t),t=+t,this[i]===t&&(n=!1),this[i]=t),n){for((t=this.zIndex)&&l&&(l.handleZ=!0),l=a.childNodes,r=0;r<l.length&&!s;r++)o=h(n=l[r],"zIndex"),n!==d&&(e(o)>t||!c(t)&&c(o))&&(a.insertBefore(d,n),s=!0);s||a.appendChild(d)}return s},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},A.prototype.yGetter=A.prototype.xGetter,A.prototype.translateXSetter=A.prototype.translateYSetter=A.prototype.rotationSetter=A.prototype.verticalAlignSetter=A.prototype.scaleXSetter=A.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},A.prototype["stroke-widthSetter"]=A.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],A.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var pe,fe,ge,me,ve=function(){this.init.apply(this,arguments)};if(ve.prototype={Element:A,init:function(t,e,i,n,o){var s,r,a=location;s=(n=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n))).element,t.appendChild(s),-1===t.innerHTML.indexOf("xmlns")&&h(s,"xmlns",Pt),this.isSVG=!0,this.box=s,this.boxWrapper=n,this.alignedObjects=[],this.url=(St||Tt)&&at.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(at.createTextNode("Created with Highstock 2.1.7")),this.defs=this.createElement("defs").add(),this.forExport=o,this.gradients={},this.cache={},this.setSize(e,i,!1),St&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){u(t,{left:0,top:0}),r=t.getBoundingClientRect(),u(t,{left:ut(r.left)-r.left+"px",top:ut(r.top)-r.top+"px"})},e(),ee(lt,"resize",e))},getStyle:function(t){return this.style=zt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),C(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&ie(lt,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var i,n,o=t.element,s=this,r=s.forExport,a=Nt(t.textStr,"").toString(),l=-1!==a.indexOf("<"),c=o.childNodes,d=h(o,"x"),p=t.styles,f=t.textWidth,g=p&&p.lineHeight,m=p&&p.textShadow,v=p&&"ellipsis"===p.textOverflow,y=c.length,b=f&&!t.added&&this.box,x=function(t){return g?e(g):s.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:p&&p.fontSize||s.style.fontSize||12,t).h},w=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};y--;)o.removeChild(c[y]);l||m||v||-1!==a.indexOf(" ")?(i=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(o),""===(a=l?a.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[a])[a.length-1]&&a.pop(),Qt(a,function(e,a){var l,c=0;e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=e.split("|||"),Qt(l,function(e){if(""!==e||1===l.length){var g,m={},y=at.createElementNS(Pt,"tspan");if(i.test(e)&&h(y,"style",g=e.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),n.test(e)&&!r&&(h(y,"onclick",'location.href="'+e.match(n)[1]+'"'),u(y,{cursor:"pointer"}))," "!==(e=w(e.replace(/<(.|\n)*?>/g,"")||" "))){if(y.appendChild(at.createTextNode(e)),c?m.dx=0:a&&null!==d&&(m.x=d),h(y,m),o.appendChild(y),!c&&a&&(!_t&&r&&u(y,{display:"block"}),h(y,"dy",x(y))),f){m=e.replace(/([^\^])-/g,"$1- ").split(" ");for(var b,k,C,T=1<l.length||a||1<m.length&&"nowrap"!==p.whiteSpace,S=[],E=x(y),P=t.rotation,_=e,A=_.length;(T||v)&&(m.length||S.length);)t.rotation=0,C=(b=t.getBBox(!0)).width,!_t&&s.forExport&&(C=s.measureSpanWidth(y.firstChild.data,t.styles)),b=C>f,void 0===k&&(k=b),v&&k?(A/=2,""===_||!b&&.5>A?m=[]:(b&&(k=!0),m=[(_=e.substring(0,_.length+(b?-1:1)*ut(A)))+(3<f?"":"")],y.removeChild(y.firstChild))):b&&1!==m.length?(y.removeChild(y.firstChild),S.unshift(m.pop())):(m=S,S=[],m.length&&(0,h(y=at.createElementNS(Pt,"tspan"),{dy:E,x:d}),g&&h(y,"style",g),o.appendChild(y)),C>f&&(f=C)),m.length&&y.appendChild(at.createTextNode(m.join(" ").replace(/- /g,"-")));k&&t.attr("title",t.textStr),t.rotation=P}c++}}})}),b&&b.removeChild(o),m&&t.applyTextShadow&&t.applyTextShadow(m)):o.appendChild(at.createTextNode(w(a)))},getContrast:function(t){return 384<(t=ue(t).rgba)[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(e,i,n,o,s,r,a,l,c){var h,d,u,p,f,g,m=this.label(e,i,n,c,null,null,null,null,"button"),v=0;s=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e={x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},s);return u=s.style,delete s.style,r=t(s,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},r),p=r.style,delete r.style,a=t(s,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=t(s,{style:{color:"#CCC"}},l),g=l.style,delete l.style,ee(m.element,kt?"mouseover":"mouseenter",function(){3!==v&&m.attr(r).css(p)}),ee(m.element,kt?"mouseout":"mouseleave",function(){3!==v&&(h=[s,r,a][v],d=[u,p,f][v],m.attr(h).css(d))}),m.setState=function(t){(m.state=v=t)?2===t?m.attr(a).css(f):3===t&&m.attr(l).css(g):m.attr(s).css(u)},m.on("click",function(){3!==v&&o.call(m)}).attr(s).css(zt({cursor:"default"},u))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ht(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ht(t[2])+e%2/2),t},path:function(t){var e={fill:Rt};return o(t)?e.d=t:n(t)&&zt(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=n(t)?t:{x:t,y:e,r:i},(e=this.createElement("circle")).xSetter=function(t){this.element.setAttribute("cx",t)},e.ySetter=function(t){this.element.setAttribute("cy",t)},e.attr(t)},arc:function(t,e,i,o,s,r){return n(t)&&(e=t.y,i=t.r,o=t.innerR,s=t.start,r=t.end,t=t.x),(t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:o||0,start:s||0,end:r||0})).r=i,t},rect:function(t,e,i,o,s,r){s=n(t)?t.r:s;var a=this.createElement("rect");t=n(t)?t:t===L?{}:{x:t,y:e,width:pt(i,0),height:pt(o,0)};return r!==L&&(t.strokeWidth=r,t=a.crisp(t)),s&&(t.r=s),a.rSetter=function(t){h(this.element,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,o=n.length;for(this.width=t,this.height=e,this.boxWrapper[Nt(i,!0)?"animate":"attr"]({width:t,height:e});o--;)n[o].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,n,o){var s={preserveAspectRatio:Rt};return 1<arguments.length&&zt(s,{x:e,y:i,width:n,height:o}),(s=this.createElement("image").attr(s)).element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):s.element.setAttribute("hc-svg-href",t),s},symbol:function(t,e,i,n,o,s){var r,a,l,c,h=/^url\((.*?)\)$/;return(a=(a=this.symbols[t])&&a(ht(e),ht(i),n,o,s))?(r=this.path(a),zt(r,{symbolName:t,x:e,y:i,width:n,height:o}),s&&zt(r,s)):h.test(t)&&(c=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ht((n-e[0])/2),ht((o-e[1])/2)))},l=t.match(h)[1],t=Dt[l]||s&&s.width&&s.height&&[s.width,s.height],(r=this.image(l).attr({x:e,y:i})).isImg=!0,t?c(r,t):(r.attr({width:0,height:0}),p("img",{onload:function(){c(r,Dt[l]=[this.width,this.height])},src:l}))),r},symbols:{circle:function(t,e,i,n){var o=.166*i;return["M",t+i/2,e,"C",t+i+o,e,t+i+o,e+n,t+i/2,e+n,"C",t-o,e+n,t-o,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,o){var s=o.start,r=(i=o.r||i||n,o.end-.001),a=(n=o.innerR,o.open),l=mt(s),c=vt(s),h=mt(r);r=vt(r);return["M",t+i*l,e+i*c,"A",i,i,0,o=o.end-s<yt?0:1,1,t+i*h,e+i*r,a?"M":"L",t+n*h,e+n*r,"A",n,n,0,o,0,t+n*l,e+n*c,a?"":"Z"]},callout:function(t,e,i,n,o){var s,r=ft(o&&o.r||0,i,n),a=r+6,l=o&&o.anchorX;o=o&&o.anchorY;return s=["M",t+r,e,"L",t+i-r,e,"C",t+i,e,t+i,e,t+i,e+r,"L",t+i,e+n-r,"C",t+i,e+n,t+i,e+n,t+i-r,e+n,"L",t+r,e+n,"C",t,e+n,t,e+n,t,e+n-r,"L",t,e+r,"C",t,e,t,e,t+r,e],l&&l>i&&o>e+a&&o<e+n-a?s.splice(13,3,"L",t+i,o-6,t+i+6,o,t+i,o+6,t+i,e+n-r):l&&0>l&&o>e+a&&o<e+n-a?s.splice(33,3,"L",t,o+6,t-6,o,t,o-6,t,e+r):o&&o>n&&l>t+a&&l<t+i-a?s.splice(23,3,"L",l+6,e+n,l,e+n+6,l-6,e+n,t+r,e+n):o&&0>o&&l>t+a&&l<t+i-a&&s.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-r,e),s}},clipRect:function(t,e,i,n){var o="highcharts-"+$t++,s=this.createElement("clipPath").attr({id:o}).add(this.defs);return(t=this.rect(t,e,i,n,0).add(s)).id=o,t.clipPath=s,t.count=0,t},text:function(t,e,i,n){var o=Mt||!_t&&this.forExport,s={};return n&&!this.forExport?this.html(t,e,i):(s.x=Math.round(e||0),i&&(s.y=Math.round(i)),(t||0===t)&&(s.text=t),t=this.createElement("text").attr(s),o&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,o,s=i.getElementsByTagName("tspan"),r=i.getAttribute(e);for(o=0;o<s.length;o++)(n=s[o]).getAttribute(e)===r&&n.setAttribute(e,t);i.setAttribute(e,t)}),t)},fontMetrics:function(t,i){var n;t=t||this.style.fontSize;return i&&lt.getComputedStyle&&(i=i.element||i,t=(n=lt.getComputedStyle(i,""))&&n.fontSize),{h:n=24>(t=/px/.test(t)?e(t):/em/.test(t)?12*parseFloat(t):12)?t+3:ht(1.2*t),b:ht(.8*n),f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=pt(n*mt(e*bt),4)),{x:-t/3*vt(e*bt),y:n}},label:function(e,i,n,o,s,r,a,l,h){function d(){var t,e;t=T.element.style,g=(void 0===m||void 0===v||C.styles.textAlign)&&c(T.textStr)&&T.getBBox(),C.width=(m||g.width||0)+2*E+P,C.height=(v||g.height||0)+2*E,x=E+k.fontMetrics(t&&t.fontSize,T).b,w&&(f||(t=ht(-S*E)+_,e=(l?-x:0)+_,C.box=f=o?k.symbol(o,t,e,C.width,C.height,M):k.rect(t,e,C.width,C.height,0,M[Bt]),f.attr("fill",Rt).add(C)),f.isImg||f.attr(zt({width:ht(C.width),height:ht(C.height)},M)),M=null)}function u(){var t,e=(e=C.styles)&&e.textAlign,i=P+E*(1-S);t=l?0:x,c(m)&&g&&("center"===e||"right"===e)&&(i+={center:.5,right:1}[e]*(m-g.width)),i===T.x&&t===T.y||(T.attr("x",i),t!==L&&T.attr("y",t)),T.x=i,T.y=t}function p(t,e){f?f.attr(t,e):M[t]=e}var f,g,m,v,y,b,x,w,k=this,C=k.g(h),T=k.text("",0,0,a).attr({zIndex:1}),S=0,E=3,P=0,_=0,M={};C.onAdd=function(){T.add(C),C.attr({text:e||0===e?e:"",x:i,y:n}),f&&c(s)&&C.attr({anchorX:s,anchorY:r})},C.widthSetter=function(t){m=t},C.heightSetter=function(t){v=t},C.paddingSetter=function(t){c(t)&&t!==E&&(E=C.padding=t,u())},C.paddingLeftSetter=function(t){c(t)&&t!==P&&(P=t,u())},C.alignSetter=function(t){S={left:0,center:.5,right:1}[t]},C.textSetter=function(t){t!==L&&T.textSetter(t),d(),u()},C["stroke-widthSetter"]=function(t,e){t&&(w=!0),_=t%2/2,p(e,t)},C.strokeSetter=C.fillSetter=C.rSetter=function(t,e){"fill"===e&&t&&(w=!0),p(e,t)},C.anchorXSetter=function(t,e){s=t,p(e,ht(t)-_-y)},C.anchorYSetter=function(t,e){r=t,p(e,t-b)},C.xSetter=function(t){C.x=t,S&&(t-=S*((m||g.width)+E)),y=ht(t),C.attr("translateX",y)},C.ySetter=function(t){b=C.y=ht(t),C.attr("translateY",b)};var D=C.css;return zt(C,{css:function(e){if(e){var i={};e=t(e);Qt(C.textProps,function(t){e[t]!==L&&(i[t]=e[t],delete e[t])}),T.css(i)}return D.call(C,e)},getBBox:function(){return{width:g.width+2*E,height:g.height+2*E,x:g.x-E,y:g.y-E}},shadow:function(t){return f&&f.shadow(t),C},destroy:function(){ie(C.element,"mouseenter"),ie(C.element,"mouseleave"),T&&(T=T.destroy()),f&&(f=f.destroy()),A.prototype.destroy.call(C),C=k=d=u=p=null}})}},O=ve,zt(A.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=zt(this.styles,t),u(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,i=this.element,n=this.translateX||0,o=this.translateY||0,s=this.x||0,r=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],h=this.shadows,d=this.styles;if(u(i,{marginLeft:n,marginTop:o}),h&&Qt(h,function(t){u(t,{marginLeft:n+1,marginTop:o+1})}),this.inverted&&Qt(i.childNodes,function(e){t.invertChild(e,i)}),"SPAN"===i.tagName){var p,f=this.rotation,g=e(this.textWidth),m=[f,a,i.innerHTML,this.textWidth].join();m!==this.cTT&&(p=t.fontMetrics(i.style.fontSize).b,c(f)&&this.setSpanRotation(f,l,p),(h=Nt(this.elemWidth,i.offsetWidth))>g&&/[ \-]/.test(i.textContent||i.innerText)&&(u(i,{width:g+"px",display:"block",whiteSpace:d&&d.whiteSpace||"normal"}),h=g),this.getSpanCorrection(h,p,l,f,a)),u(i,{left:s+(this.xCorr||0)+"px",top:r+(this.yCorr||0)+"px"}),Tt&&(p=i.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},o=kt?"-ms-transform":Tt?"-webkit-transform":St?"MozTransform":wt?"-o-transform":"";n[o]=n.transform="rotate("+t+"deg)",n[o+(St?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",u(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),zt(ve.prototype,{html:function(t,e,i){var n=this.createElement("span"),o=n.element,s=n.renderer;return n.textSetter=function(t){t!==o.innerHTML&&delete this.bBox,o.innerHTML=this.textStr=t},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.htmlUpdateTransform()},n.attr({text:t,x:ht(e),y:ht(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.style.whiteSpace="nowrap",n.css=n.htmlCss,s.isSVG&&(n.add=function(t){var e,i=s.box.parentNode,r=[];if(this.parentGroup=t){if(!(e=t.div)){for(;t;)r.push(t),t=t.parentGroup;Qt(r.reverse(),function(t){var n,o=h(t.element,"class");o&&(o={className:o}),e=t.div=t.div||p(Ht,o,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},e||i),n=e.style,zt(t,{translateXSetter:function(e,i){n.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){n.top=e+"px",t[i]=e,t.doTransform=!0},visibilitySetter:function(t,e){n[e]=t}})})}}else e=i;return e.appendChild(o),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}}),!_t&&!Mt){fe={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],o=e===Ht;("shape"===e||o)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",o?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=p(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box;n=t?t.element||t:n;return t&&t.inverted&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=mt(t*bt),i=vt(t*bt);u(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):Rt})},getSpanCorrection:function(t,e,i,n,o){var s,r=n?mt(n*bt):1,a=n?vt(n*bt):0,l=Nt(this.elemHeight,this.element.offsetHeight);this.xCorr=0>r&&-t,this.yCorr=0>a&&-l,s=0>r*a,this.xCorr+=a*e*(s?1-i:i),this.yCorr-=r*e*(n?s?i:1-i:1),o&&"left"!==o&&(this.xCorr-=t*i*(0>r?-1:1),n&&(this.yCorr-=l*i*(0>a?-1:1)),u(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)s(t[e])?i[e]=ht(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(l(e=t.members,i),e.push(i),i.destroyClip=function(){l(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:Ct?"inherit":"rect(auto)"}),i.css(t)},css:A.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&T(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),A.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=lt.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,i){var n;return 9!==(n=(t=t.split(/[ ,]/)).length)&&11!==n||(t[n-4]=t[n-2]=e(t[n-2])-10*i),t.join(" ")},shadow:function(t,i,n){var o,s,r,a,l,c,h,d=[],u=this.element,f=this.renderer,g=u.style,m=u.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(c=Nt(t.width,3),h=(t.opacity||.15)/c,o=1;3>=o;o++)a=2*c+1-2*o,n&&(l=this.cutOffPath(m.value,a+.5)),r=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',u.style.cssText,'" />'],s=p(f.prepVML(r),null,{left:e(g.left)+Nt(t.offsetX,1),top:e(g.top)+Nt(t.offsetY,1)}),n&&(s.cutOff=a+1),r=['<stroke color="',t.color||"black",'" opacity="',h*o,'"/>'],p(f.prepVML(r),null,null,s),i?i.element.appendChild(s):u.parentNode.insertBefore(s,u),d.push(s);this.shadows=d}return this},updateShadows:It,setAttr:function(t,e){Ct?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||p(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows;t=t||[];if(this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled=t!==Rt,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},opacitySetter:It,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-ht(vt(t*bt)+1)+"px",i.top=ht(mt(t*bt))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,s(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&Qt(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,Ct||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},rt.VMLElement=fe=f(A,fe),fe.prototype.ySetter=fe.prototype.widthSetter=fe.prototype.heightSetter=fe.prototype.xSetter;var ye={Element:fe,isIE8:-1<xt.indexOf("MSIE 8.0"),init:function(t,e,i,n){var o;if(this.alignedObjects=[],o=(n=this.createElement(Ht).css(zt(this.getStyle(n),{position:"relative"}))).element,t.appendChild(n.element),this.isVML=!0,this.box=o,this.boxWrapper=n,this.cache={},this.setSize(e,i,!1),!at.namespaces.hcv){at.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{at.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(t){at.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,o){var s=this.createElement(),r=n(t);return zt(s,{members:[],count:0,left:(r?t.x:t)+1,top:(r?t.y:e)+1,width:(r?t.width:i)-1,height:(r?t.height:o)-1,getCSS:function(t){var e=(o=t.element).nodeName,i=(t=t.inverted,this.top-("shape"===e?o.offsetTop:0)),n=this.left,o=n+this.width,s=i+this.height;i={clip:"rect("+ht(t?n:i)+"px,"+ht(t?s:o)+"px,"+ht(t?o:s)+"px,"+ht(t?i:n)+"px)"};return!t&&Ct&&"DIV"===e&&zt(i,{width:o+"px",height:s+"px"}),i},updateClipping:function(){Qt(s.members,function(t){t.element&&t.css(s.getCSS(t))})}})},color:function(t,e,i,n){var o,s,r,a=this,l=/^rgba/,c=Rt;if(t&&t.linearGradient?r="gradient":t&&t.radialGradient&&(r="pattern"),r){var h,d,u,f,g,m,v,y,b=t.linearGradient||t.radialGradient,x="",w=(t=t.stops,[]),k=function(){s=['<fill colors="'+w.join(",")+'" opacity="',g,'" o:opacity2="',f,'" type="',r,'" ',x,'focus="100%" method="any" />'],p(a.prepVML(s),null,null,e)};if(u=t[0],y=t[t.length-1],0<u[0]&&t.unshift([0,u[1]]),1>y[0]&&t.push([1,y[1]]),Qt(t,function(t,e){l.test(t[1])?(o=ue(t[1]),h=o.get("rgb"),d=o.get("a")):(h=t[1],d=1),w.push(100*t[0]+"% "+h),e?(g=d,m=h):(f=d,v=h)}),"fill"===i)if("gradient"===r)i=b.x1||b[0]||0,t=b.y1||b[1]||0,u=b.x2||b[2]||0,b=b.y2||b[3]||0,x='angle="'+(90-180*ct.atan((b-t)/(u-i))/yt)+'"',k();else{var C,T=2*(c=b.r),S=2*c,E=b.cx,P=b.cy,_=e.radialReference;c=function(){_&&(C=n.getBBox(),E+=(_[0]-C.x)/C.width-.5,P+=(_[1]-C.y)/C.height-.5,T*=_[2]/C.width,S*=_[2]/C.height),x='src="'+F.global.VMLRadialGradientURL+'" size="'+T+","+S+'" origin="0.5,0.5" position="'+E+","+P+'" color2="'+v+'" ',k()};n.added?c():n.onAdd=c,c=m}else c=h}else l.test(t)&&"IMG"!==e.tagName?(o=ue(t),s=["<",i,' opacity="',o.get("a"),'"/>'],p(this.prepVML(s),null,null,e),c=o.get("rgb")):((c=e.getElementsByTagName(i)).length&&(c[0].opacity=1,c[0].type="solid"),c=t);return c},prepVML:function(t){var e=this.isIE8;t=t.join("");return e?t=-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);'):t=t.replace("<","<hcv:"),t},text:ve.prototype.html,path:function(t){var e={coordsize:"10 10"};return o(t)?e.d=t:n(t)&&zt(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var o=this.symbol("circle");return n(t)&&(i=t.r,e=t.y,t=t.x),o.isCircle=!0,o.r=i,o.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement(Ht).attr(e)},image:function(t,e,i,n,o){var s=this.createElement("img").attr({src:t});return 1<arguments.length&&s.attr({x:e,y:i,width:n,height:o}),s},createElement:function(t){return"rect"===t?this.symbol(t):ve.prototype.createElement.call(this,t)},invertChild:function(t,i){var n=this,o=i.style,s="IMG"===t.tagName&&t.style;u(t,{flip:"x",left:e(o.width)-(s?e(s.top):1),top:e(o.height)-(s?e(s.left):1),rotation:-90}),Qt(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,o){var s=o.start,r=o.end,a=o.r||i||n,l=(i=o.innerR,n=mt(s),vt(s)),c=mt(r),h=vt(r);return 0==r-s?["x"]:(s=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*l,t+a*c,e+a*h],o.open&&!i&&s.push("e","M",t,e),s.push("at",t-i,e-i,t+i,e+i,t+i*c,e+i*h,t+i*n,e+i*l,"x","e"),s.isArc=!0,s)},circle:function(t,e,i,n,o){return o&&(i=n=2*o.r),o&&o.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,o){return ve.prototype.symbols[c(o)&&o.r?"callout":"square"].call(0,t,e,i,n,o)}}};rt.VMLRenderer=pe=function(){this.init.apply(this,arguments)},pe.prototype=t(ve.prototype,ye),O=pe}if(ve.prototype.measureSpanWidth=function(t,e){var i,n=at.createElement("span");return i=at.createTextNode(t),n.appendChild(i),u(n,e),this.box.appendChild(n),i=n.offsetWidth,T(n),i},Mt){rt.CanVGRenderer=ge=function(){Pt="http://www.w3.org/1999/xhtml"},ge.prototype.symbols={};var be=function(){var t,e=xe.length;for(t=0;t<e;t++)xe[t]();xe=[]},xe=[];me={push:function(t,e){0===xe.length&&qt(e,be),xe.push(t)}},O=ge}M.prototype={addLabel:function(){var e,i=this.axis,n=i.options,o=i.chart,s=i.categories,r=i.names,l=this.pos,h=n.labels,d=l===(p=i.tickPositions)[0],u=l===p[p.length-1],p=(r=s?Nt(s[l],r[l],l):l,s=this.label,p.info);i.isDatetimeAxis&&p&&(e=n.dateTimeLabelFormats[p.higherRanks[l]||p.unitName]),this.isFirst=d,this.isLast=u,n=i.labelFormatter.call({axis:i,chart:o,isFirst:d,isLast:u,dateTimeLabelFormat:e,value:i.isLog?E(a(r)):r}),c(s)?s&&s.attr({text:n}):(this.labelLength=(this.label=s=c(n)&&h.enabled?o.renderer.text(n,0,0,h.useHTML).css(t(h.style)).add(i.labelGroup):null)&&s.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=t.x,o=i.chart.chartWidth,s=i.chart.spacing,r=Nt(i.labelLeft,ft(i.pos,s[3])),a=(s=Nt(i.labelRight,pt(i.pos+i.len,o-s[1])),this.label),l=this.rotation,c={left:0,center:.5,right:1}[i.labelAlign],h=a.getBBox().width,d=i.slotWidth,u=1,p={};l?0>l&&n-c*h<r?e=ht(n/mt(l*bt)-r):0<l&&n+c*h>s&&(e=ht((o-n)/mt(l*bt))):(o=n+(1-c)*h,n-c*h<r?d=t.x+d*(1-c)-r:o>s&&(d=s-t.x+d*c,u=-1),(d=ft(i.slotWidth,d))<i.slotWidth&&"center"===i.labelAlign&&(t.x+=u*(i.slotWidth-d-c*(i.slotWidth-ft(h,d)))),(h>d||i.autoRotation&&a.styles.width)&&(e=d)),e&&(p.width=e,i.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),a.css(p))},getPosition:function(t,e,i,n){var o=this.axis,s=o.chart,r=n&&s.oldChartHeight||s.chartHeight;return{x:t?o.translate(e+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&s.oldChartWidth||s.chartWidth)-o.right-o.left:0),y:t?r-o.bottom+o.offset-(o.opposite?o.height:0):r-o.translate(e+i,null,null,n)-o.transB}},getLabelPosition:function(t,e,i,n,o,s,r,a){var l=this.axis,c=l.transA,h=l.reversed,d=l.staggerLines,u=l.tickRotCorr||{x:0,y:0};i=Nt(o.y,u.y+(2===l.side?8:-i.getBBox().height/2)),t=t+o.x+u.x-(s&&n?s*c*(h?-1:1):0),e=e+i-(s&&!n?s*c*(h?1:-1):0);return d&&(e+=r/(a||1)%d*(l.labelOffset/d)),{x:t,y:ht(e)}},getMarkPath:function(t,e,i,n,o,s){return s.crispLine(["M",t,e,"L",t+(o?0:-i),e+(o?i:0)],n)},render:function(t,e,i){var n=this.axis,o=n.options,s=n.chart.renderer,r=n.horiz,a=this.type,l=this.label,c=this.pos,h=o.labels,d=this.gridLine,u=a?a+"Tick":"tick",p=o[(v=a?a+"Grid":"grid")+"LineWidth"],f=o[v+"LineColor"],g=o[v+"LineDashStyle"],m=o[u+"Length"],v=o[u+"Width"]||0,y=o[u+"Color"],b=o[u+"Position"],x=(u=this.mark,h.step),w=!0,k=n.tickmarkOffset,C=(T=this.getPosition(r,c,k,e)).x,T=T.y,S=r&&C===n.pos+n.len||!r&&T===n.pos?-1:1;i=Nt(i,1);this.isActive=!0,p&&(c=n.getPlotLinePath(c+k,p*S,e,!0),d===L&&(d={stroke:f,"stroke-width":p},g&&(d.dashstyle=g),a||(d.zIndex=1),e&&(d.opacity=0),this.gridLine=d=p?s.path(c).attr(d).add(n.gridGroup):null),!e&&d&&c)&&d[this.isNew?"attr":"animate"]({d:c,opacity:i}),v&&m&&("inside"===b&&(m=-m),n.opposite&&(m=-m),a=this.getMarkPath(C,T,m,v*S,r,s),u?u.animate({d:a,opacity:i}):this.mark=s.path(a).attr({stroke:y,"stroke-width":v,opacity:i}).add(n.axisGroup)),l&&!isNaN(C)&&(l.xy=T=this.getLabelPosition(C,T,l,r,h,k,t,x),this.isFirst&&!this.isLast&&!Nt(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Nt(o.showLastLabel,1)?w=!1:r&&!n.isRadial&&!h.step&&!h.rotation&&!e&&0!==i&&this.handleOverflow(T),x&&t%x&&(w=!1),w&&!isNaN(T.y)?(T.opacity=i,l[this.isNew?"attr":"animate"](T),this.isNew=!1):l.attr("y",-9999))},destroy:function(){C(this,this.axis)}},rt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},rt.PlotLineOrBand.prototype={render:function(){var e,i=this,n=i.axis,o=n.horiz,s=i.options,a=s.label,l=i.label,h=s.width,d=s.to,u=s.from,p=c(u)&&c(d),f=s.value,g=s.dashStyle,m=i.svgElem,v=[],y=s.color,b=s.zIndex,x=s.events,C={},T=n.chart.renderer;if(n.isLog&&(u=r(u),d=r(d),f=r(f)),h)v=n.getPlotLinePath(f,h),C={stroke:y,"stroke-width":h},g&&(C.dashstyle=g);else{if(!p)return;v=n.getPlotBandPath(u,d,s),y&&(C.fill=y),s.borderWidth&&(C.stroke=s.borderColor,C["stroke-width"]=s.borderWidth)}if(c(b)&&(C.zIndex=b),m)v?m.animate({d:v},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()},l&&(i.label=l=l.destroy()));else if(v&&v.length&&(i.svgElem=m=T.path(v).attr(C).add(),x))for(e in s=function(t){m.on(t,function(e){x[t].apply(i,[e])})},x)s(e);return a&&c(a.text)&&v&&v.length&&0<n.width&&0<n.height?(a=t({align:o&&p&&"center",x:o?!p&&4:10,verticalAlign:!o&&p&&"middle",y:o?p?16:10:p?6:-4,rotation:o&&!p&&90},a),l||(C={align:a.textAlign||a.align,rotation:a.rotation},c(b)&&(C.zIndex=b),i.label=l=T.text(a.text,0,0,a.useHTML).attr(C).css(a.style).add()),n=[v[1],v[4],p?v[6]:v[1]],p=[v[2],v[5],p?v[7]:v[2]],v=w(n),o=w(p),l.align(a,!1,{x:v,y:o,width:k(n)-v,height:k(p)-o}),l.show()):l&&l.hide(),i},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,C(this)}};var we=rt.Axis=function(){this.init.apply(this,arguments)};we.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return rt.numberFormat(this.total,-1)},style:t(ae.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,e){var i=e.isX;this.horiz=t.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var n=(s=this.options).type;this.labelFormatter=s.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=s.reversed,this.zoomEnabled=!1!==s.zoomEnabled,this.categories=s.categories||"category"===n,this.names=this.names||[],this.isLog="logarithmic"===n,this.isDatetimeAxis="datetime"===n,this.isLinked=c(s.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=s.minRange||s.maxZoom,this.range=s.range,this.offset=s.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=Nt(s.crosshair,d(t.options.tooltip.crosshairs)[i?0:1],!1);var o,s=this.options.events;for(o in-1===Kt(this,t.axes)&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===L&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,s)ee(this,o,s[o]);this.isLog&&(this.val2lin=r,this.lin2val=a)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(F[this.coll],e))},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,o=this.dateTimeLabelFormat,s=F.lang.numericSymbols,r=s&&s.length,a=e.options.labels.format;e=e.isLog?i:e.tickInterval;if(a)t=v(a,this);else if(n)t=i;else if(o)t=W(o,i);else if(r&&1e3<=e)for(;r--&&t===L;)e>=(n=Math.pow(1e3,r+1))&&0==10*i%n&&null!==s[r]&&(t=rt.numberFormat(i/n,-1)+s[r]);return t===L&&(t=1e4<=gt(i)?rt.numberFormat(i,-1):rt.numberFormat(i,-1,L,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null,t.buildStacks&&t.buildStacks(),Qt(t.series,function(i){var n,o;!i.visible&&e.options.chart.ignoreHiddenSeries||(n=i.options.threshold,t.hasVisibleSeries=!0,t.isLog&&0>=n&&(n=null),t.isXAxis?(n=i.xData).length&&(t.dataMin=ft(Nt(t.dataMin,n[0]),w(n)),t.dataMax=pt(Nt(t.dataMax,n[0]),k(n))):(i.getExtremes(),o=i.dataMax,c(i=i.dataMin)&&c(o)&&(t.dataMin=ft(Nt(t.dataMin,i),i),t.dataMax=pt(Nt(t.dataMax,o),o)),c(n)&&(t.dataMin>=n?(t.dataMin=n,t.ignoreMinPadding=!0):t.dataMax<n&&(t.dataMax=n,t.ignoreMaxPadding=!0))))})},translate:function(t,e,i,n,o,r){var a=this.linkedParent||this,l=1,c=0,h=n?a.oldTransA:a.transA,d=(n=n?a.oldMin:a.min,a.minPixelPadding);o=(a.doPostTranslate||a.isLog&&o)&&a.lin2val;return h||(h=a.transA),i&&(l*=-1,c=a.len),a.reversed&&(c-=(l*=-1)*(a.sector||a.len)),e?(t=(t=t*l+c-d)/h+n,o&&(t=a.lin2val(t))):(o&&(t=a.val2lin(t)),"between"===r&&(r=.5),t=l*(t-n)*h+c+l*d+(s(r)?h*r*a.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,o){var s,r,a,l=this.chart,c=this.left,h=this.top,d=i&&l.oldChartHeight||l.chartHeight,u=i&&l.oldChartWidth||l.chartWidth;s=this.transB;var p=function(t,e,i){return(t<e||t>i)&&(n?t=ft(pt(e,t),i):a=!0),t};o=Nt(o,this.translate(t,null,null,i)),t=i=ht(o+s);return s=r=ht(d-o-s),isNaN(o)?a=!0:this.horiz?(s=h,r=d-this.bottom,t=i=p(t,c,c+this.width)):(t=c,i=u-this.right,s=r=p(s,h,h+this.height)),a&&!n?null:l.renderer.crispLine(["M",t,s,"L",i,r],e||1)},getLinearTickPositions:function(t,e,i){var n,o=E(dt(e/t)*t),r=E(ut(i/t)*t),a=[];if(e===i&&s(e))return[e];for(e=o;e<=r&&(a.push(e),(e=E(e+t))!==n);)n=e;return a},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,o=[],s=this.min,r=(t=this.max)-s;if(r&&r/n<this.len/3)if(this.isLog)for(e=i.length,t=1;t<e;t++)o=o.concat(this.getLogTickPositions(n,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)o=o.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),s,t,e.startOfWeek));else for(i=s+(i[0]-s)%n;i<=t;i+=n)o.push(i);return this.trimTicks(o),o},adjustForMinRange:function(){var t,e,i,n,o,s=this.options,r=this.min,a=this.max,l=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===L&&!this.isLog&&(c(s.min)||c(s.max)?this.minRange=null:(Qt(this.series,function(t){for(o=t.xData,i=t.xIncrement?1:o.length-1;0<i;i--)n=o[i]-o[i-1],(e===L||n<e)&&(e=n)}),this.minRange=ft(5*e,this.dataMax-this.dataMin))),a-r<this.minRange){var h=this.minRange;t=[r-(t=(h-a+r)/2),Nt(s.min,r-t)],l&&(t[2]=this.dataMin),a=[(r=k(t))+h,Nt(s.max,r+h)],l&&(a[2]=this.dataMax),(a=w(a))-r<h&&(t[0]=a-h,t[1]=Nt(s.min,a-h),r=k(t))}this.min=r,this.max=a},setAxisTranslation:function(t){var e,n=this,o=n.max-n.min,s=n.axisPointRange||0,r=0,a=0,l=n.linkedParent,h=!!n.categories,d=n.transA,u=n.isXAxis;(u||h||s)&&(l?(r=l.minPointOffset,a=l.pointRangePadding):Qt(n.series,function(t){var l=h?1:u?t.pointRange:n.axisPointRange||0,d=t.options.pointPlacement,p=t.closestPointRange;l>o&&(l=0),s=pt(s,l),n.single||(r=pt(r,i(d)?0:l/2),a=pt(a,"on"===d?0:l)),!t.noSharedTooltip&&c(p)&&(e=c(e)?ft(e,p):p)}),l=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=r*=l,n.pointRangePadding=a*=l,n.pointRange=ft(s,o),u&&(n.closestPointRange=e)),t&&(n.oldTransA=d),n.translationSlope=n.transA=d=n.len/(o+a||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=d*r},setTickInterval:function(t){var e=this,i=e.chart,n=e.options,o=e.isLog,a=e.isDatetimeAxis,l=e.isXAxis,h=e.isLinked,d=n.maxPadding,u=n.minPadding,p=n.tickInterval,f=n.tickPixelInterval,g=e.categories;!a&&!g&&!h&&this.getTickAmount(),h?(e.linkedParent=i[e.coll][n.linkedTo],i=e.linkedParent.getExtremes(),e.min=Nt(i.min,i.dataMin),e.max=Nt(i.max,i.dataMax),n.type!==e.linkedParent.options.type&&S(11,1)):(e.min=Nt(e.userMin,n.min,e.dataMin),e.max=Nt(e.userMax,n.max,e.dataMax)),o&&(!t&&0>=ft(e.min,Nt(e.dataMin,e.min))&&S(10,1),e.min=E(r(e.min)),e.max=E(r(e.max))),e.range&&c(e.max)&&(e.userMin=e.min=pt(e.min,e.max-e.range),e.userMax=e.max,e.range=null),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),g||e.axisPointRange||e.usePercentage||h||!c(e.min)||!c(e.max)||!(i=e.max-e.min)||(c(n.min)||c(e.userMin)||!u||!(0>e.dataMin)&&e.ignoreMinPadding||(e.min-=i*u),c(n.max)||c(e.userMax)||!d||!(0<e.dataMax)&&e.ignoreMaxPadding||(e.max+=i*d)),s(n.floor)&&(e.min=pt(e.min,n.floor)),s(n.ceiling)&&(e.max=ft(e.max,n.ceiling)),e.tickInterval=e.min===e.max||void 0===e.min||void 0===e.max?1:h&&!p&&f===e.linkedParent.options.tickPixelInterval?p=e.linkedParent.tickInterval:Nt(p,this.tickAmount?(e.max-e.min)/pt(this.tickAmount-1,1):void 0,g?1:(e.max-e.min)*f/pt(e.len,f)),l&&!t&&Qt(e.series,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)}),e.setAxisTranslation(!0),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.postProcessTickInterval&&(e.tickInterval=e.postProcessTickInterval(e.tickInterval)),e.pointRange&&(e.tickInterval=pt(e.pointRange,e.tickInterval)),t=Nt(n.minTickInterval,e.isDatetimeAxis&&e.closestPointRange),!p&&e.tickInterval<t&&(e.tickInterval=t),!a&&!o&&!p&&(e.tickInterval=b(e.tickInterval,null,y(e.tickInterval),Nt(n.allowDecimals,!(.5<e.tickInterval&&5>e.tickInterval&&1e3<e.max&&9999>e.max)),!!this.tickAmount)),!this.tickAmount&&this.len&&(e.tickInterval=e.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,o=i.tickPositioner,s=i.startOnTick,r=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=n&&n.slice(),!t&&(this.tickPositions=t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),o&&(o=o.apply(this,[this.min,this.max])))&&(this.tickPositions=t=o),this.isLinked||(this.trimTicks(t,s,r),this.min===this.max&&c(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,!n&&!o&&this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],o=t[t.length-1],s=this.minPointOffset||0;e?this.min=n:this.min-s>n&&t.shift(),i?this.max=o:this.max+s<o&&t.pop(),0===t.length&&c(n)&&t.push((o+n)/2)},getTickAmount:function(){var t,e={},i=this.options,n=i.tickAmount,o=i.tickPixelInterval;!c(i.tickInterval)&&this.len<o&&!this.isRadial&&!this.isLog&&i.startOnTick&&i.endOnTick&&(n=2),!n&&!1!==this.chart.options.chart.alignTicks&&!1!==i.alignTicks&&(Qt(this.chart[this.coll],function(i){var n=i.options,o=i.horiz;n=[o?n.left:n.top,o?n.width:n.height,n.pane].join();e[n]?i.series.length&&(t=!0):e[n]=1}),t&&(n=ut(this.len/o)+1)),4>n&&(this.finalTickAmt=n,n=5),this.tickAmount=n},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,o=e&&e.length;if(o<i){for(;e.length<i;)e.push(E(e[e.length-1]+t));this.transA*=(o-1)/(i-1),this.max=e[e.length-1]}else o>i&&(this.tickInterval*=2,this.setTickPositions());if(c(n)){for(t=i=e.length;t--;)(3===n&&1==t%2||2>=n&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=L}},setScale:function(){var t,e,i,n,o=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),n=this.len!==this.oldAxisLength,Qt(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),n||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in o)for(e in o[t])o[t][e].total=null,o[t][e].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis)for(t in this.oldStacks&&(o=this.stacks=this.oldStacks),o)for(e in o[t])o[t][e].cum=o[t][e].total},setExtremes:function(t,e,i,n,o){var s=this,r=s.chart;i=Nt(i,!0);Qt(s.series,function(t){delete t.kdTree}),o=zt(o,{min:t,max:e}),ne(s,"setExtremes",o,function(){s.userMin=t,s.userMax=e,s.eventArgs=o,s.isDirtyExtremes=!0,i&&r.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,o=this.options;return this.allowZoomOutside||(c(i)&&t<=ft(i,Nt(o.min,i))&&(t=L),c(n)&&e>=pt(n,Nt(o.max,n))&&(e=L)),this.displayBtn=t!==L||e!==L,this.setExtremes(t,e,!1,L,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=(r=this.options).offsetLeft||0,i=this.horiz,n=Nt(r.width,t.plotWidth-e+(r.offsetRight||0)),o=Nt(r.height,t.plotHeight),s=Nt(r.top,t.plotTop),r=Nt(r.left,t.plotLeft+e);(e=/%$/).test(o)&&(o=parseFloat(o)/100*t.plotHeight),e.test(s)&&(s=parseFloat(s)/100*t.plotHeight+t.plotTop),this.left=r,this.top=s,this.width=n,this.height=o,this.bottom=t.chartHeight-o-s,this.right=t.chartWidth-n-r,this.len=pt(i?n:o,0),this.pos=i?r:s},getExtremes:function(){var t=this.isLog;return{min:t?E(a(this.min)):this.min,max:t?E(a(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(i=this.isLog)?a(this.min):this.min,i=i?a(this.max):this.max;return null===t?t=0>i?i:e:e>t?t=e:i<t&&(t=i),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(Nt(t,0)-90*this.side+720)%360)&&165>t?"right":195<t&&345>t?"left":"center"},unsquish:function(){var t,e,i,n=this.ticks,o=this.options.labels,s=this.horiz,r=this.tickInterval,a=r,l=this.len/(((this.categories?1:0)+this.max-this.min)/r),h=o.rotation,d=this.chart.renderer.fontMetrics(o.style.fontSize,n[0]&&n[0].label),u=Number.MAX_VALUE,p=function(t){return(t=1<(t/=l||1)?ut(t):1)*r};return s?(i=c(h)?[h]:l<Nt(o.autoRotationLimit,80)&&!o.staggerLines&&!o.step&&o.autoRotation)&&Qt(i,function(i){var n;(i===h||i&&-90<=i&&90>=i)&&((n=(e=p(gt(d.h/vt(bt*i))))+gt(i/360))<u&&(u=n,t=i,a=e))}):a=p(d.h),this.autoRotation=i,this.labelRotation=t,a},renderUnsquish:function(){var e,n=this.chart,o=n.renderer,s=this.tickPositions,r=this.ticks,a=this.options.labels,l=this.horiz,c=n.margin,h=this.categories?s.length:s.length-1,d=this.slotWidth=l&&!a.step&&!a.rotation&&(this.staggerLines||1)*n.plotWidth/h||!l&&(c[3]&&c[3]-n.spacing[3]||.33*n.chartWidth),u=pt(1,ht(d-2*(a.padding||5))),p={},f=(c=o.fontMetrics(a.style.fontSize,r[0]&&r[0].label),h=a.style.textOverflow,0);if(i(a.rotation)||(p.rotation=a.rotation),this.autoRotation)Qt(s,function(t){(t=r[t])&&t.labelLength>f&&(f=t.labelLength)}),f>u&&f>c.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(d&&(e={width:u+"px"},!h))for(e.textOverflow="clip",d=s.length;!l&&d--;)u=s[d],(u=r[u].label)&&("ellipsis"===u.styles.textOverflow&&u.css({textOverflow:"clip"}),u.getBBox().height>this.len/s.length-(c.h-c.f)&&(u.specCss={textOverflow:"ellipsis"}));p.rotation&&(e={width:(f>.5*n.chartHeight?.33*n.chartHeight:n.chartHeight)+"px"},h||(e.textOverflow="ellipsis")),this.labelAlign=p.align=a.align||this.autoLabelAlign(this.labelRotation),Qt(s,function(i){var n=(i=r[i])&&i.label;n&&(e&&n.css(t(e,n.specCss)),delete n.specCss,n.attr(p),i.rotation=p.rotation)}),this.tickRotCorr=o.rotCorr(c.b,this.labelRotation||0,2===this.side)},hasData:function(){return this.hasVisibleSeries||c(this.min)&&c(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,n,o=this,s=(b=o.chart).renderer,r=o.options,a=o.tickPositions,l=o.ticks,h=o.horiz,d=o.side,u=b.inverted?[1,0,3,2][d]:d,p=0,f=0,g=r.title,m=r.labels,v=0,y=b.axisOffset,b=b.clipOffset,x=[-1,1,1,-1][d];if(t=o.hasData(),o.showAxis=e=t||Nt(r.showEmpty,!0),o.staggerLines=o.horiz&&m.staggerLines,o.axisGroup||(o.gridGroup=s.g("grid").attr({zIndex:r.gridZIndex||1}).add(),o.axisGroup=s.g("axis").attr({zIndex:r.zIndex||2}).add(),o.labelGroup=s.g("axis-labels").attr({zIndex:m.zIndex||7}).addClass("highcharts-"+o.coll.toLowerCase()+"-labels").add()),t||o.isLinked)Qt(a,function(t){l[t]?l[t].addLabel():l[t]=new M(o,t)}),o.renderUnsquish(),Qt(a,function(t){0!==d&&2!==d&&{1:"left",3:"right"}[d]!==o.labelAlign||(v=pt(l[t].getLabelSize(),v))}),o.staggerLines&&(v*=o.staggerLines,o.labelOffset=v);else for(n in l)l[n].destroy(),delete l[n];g&&g.text&&!1!==g.enabled&&(o.axisTitle||(o.axisTitle=s.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:g.textAlign||{low:"left",middle:"center",high:"right"}[g.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(g.style).add(o.axisGroup),o.axisTitle.isNew=!0),e&&(p=o.axisTitle.getBBox()[h?"height":"width"],f=c(i=g.offset)?0:Nt(g.margin,h?5:10)),o.axisTitle[e?"show":"hide"]()),o.offset=x*Nt(r.offset,y[d]),o.tickRotCorr=o.tickRotCorr||{x:0,y:0},s=2===d?o.tickRotCorr.y:0,h=v+f+(v&&x*(h?Nt(m.y,o.tickRotCorr.y+8):m.x)-s),o.axisTitleMargin=Nt(i,h),y[d]=pt(y[d],o.axisTitleMargin+p+x*o.offset,h),p=2*dt(r.lineWidth/2),r.offset&&(p=pt(0,p-r.offset)),b[u]=pt(b[u],p)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,o=this.horiz,s=this.left+(i?this.width:0)+n;n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",o?this.left:s,o?n:this.top,"L",o?e.chartWidth-this.right:s,o?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,i=this.left,n=this.top,o=this.len,s=this.options.title,r=t?i:n,a=this.opposite,l=this.offset,c=s.x||0,h=s.y||0,d=e(s.style.fontSize||12);o={low:r+(t?0:o),middle:r+o/2,high:r+(t?o:0)}[s.align],i=(t?n+this.height:i)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?d:0);return{x:t?o+c:i+(a?this.width:0)+l+c,y:t?i+h-(a?this.height:0)+l:o+h}},render:function(){var t,e,i,n=this,o=n.chart,s=o.renderer,r=n.options,l=n.isLog,h=n.isLinked,d=n.tickPositions,u=n.axisTitle,p=n.ticks,f=n.minorTicks,g=n.alternateBands,m=r.stackLabels,v=r.alternateGridColor,y=n.tickmarkOffset,b=r.lineWidth,x=o.hasRendered&&c(n.oldMin)&&!isNaN(n.oldMin),w=n.showAxis;n.labelEdge.length=0,n.overlap=!1,Qt([p,f,g],function(t){for(var e in t)t[e].isActive=!1}),(n.hasData()||h)&&(n.minorTickInterval&&!n.categories&&Qt(n.getMinorTickPositions(),function(t){f[t]||(f[t]=new M(n,t,"minor")),x&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),d.length&&(Qt(d,function(t,e){(!h||t>=n.min&&t<=n.max)&&(p[t]||(p[t]=new M(n,t)),x&&p[t].isNew&&p[t].render(e,!0,.1),p[t].render(e))}),y&&(0===n.min||n.single))&&(p[-1]||(p[-1]=new M(n,-1,null,!0)),p[-1].render(-1)),v&&Qt(d,function(t,o){0==o%2&&t<n.max&&(g[t]||(g[t]=new rt.PlotLineOrBand(n)),e=t+y,i=d[o+1]!==L?d[o+1]+y:n.max,g[t].options={from:l?a(e):e,to:l?a(i):i,color:v},g[t].render(),g[t].isActive=!0)}),n._addedPlotLB||(Qt((r.plotLines||[]).concat(r.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),Qt([p,f,g],function(t){var e,i,n=[],s=B?B.duration||500:0,r=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==g&&o.hasRendered&&s?s&&setTimeout(r,s):r()}),b&&(t=n.getLinePath(b),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=s.path(t).attr({stroke:r.lineColor,"stroke-width":b,zIndex:7}).add(n.axisGroup),n.axisLine[w?"show":"hide"]()),u&&w&&(u[u.isNew?"attr":"animate"](n.getTitlePosition()),u.isNew=!1),m&&m.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.render(),Qt(this.plotLinesAndBands,function(t){t.render()}),Qt(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i=this,n=i.stacks,o=i.plotLinesAndBands;for(e in t||ie(i),n)C(n[e]),n[e]=null;for(Qt([i.ticks,i.minorTicks,i.alternateBands],function(t){C(t)}),t=o.length;t--;)o[t].destroy();Qt("stackTotalGroup axisLine axisTitle axisGroup cross gridGroup labelGroup".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var i,n=this.crosshair,o=n.animation;!this.crosshair||!1===(c(e)||!Nt(this.crosshair.snap,!0))||e&&e.series&&e.series[this.coll]!==this?this.hideCrosshair():(Nt(n.snap,!0)?c(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,null===(i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:Nt(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,i)||null)?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[o?"animate":"attr"]({d:i},o):(o=this.categories&&!this.isRadial,o={"stroke-width":n.width||(o?this.transA:1),stroke:n.color||(o?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:n.zIndex||2},n.dashStyle&&(o.dashstyle=n.dashStyle),this.cross=this.chart.renderer.path(i).attr(o).add()))},hideCrosshair:function(){this.cross&&this.cross.hide()}},zt(we.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0);return n&&i&&n.toString()!==i.toString()?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new rt.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();Qt([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(o=e.length;o--;)e[o].id===t&&l(e,e[o])})}}),we.prototype.getTimeTicks=function(t,e,i,n){var o,s=[],r={},a=F.global.useUTC,l=new N(e-m(e)),h=t.unitRange,d=t.count;if(c(e)){l[J](h>=z.second?0:d*dt(l.getMilliseconds()/d)),h>=z.second&&l[tt](h>=z.minute?0:d*dt(l.getSeconds()/d)),h>=z.minute&&l[et](h>=z.hour?0:d*dt(l[X]()/d)),h>=z.hour&&l[it](h>=z.day?0:d*dt(l[U]()/d)),h>=z.day&&l[nt](h>=z.month?1:d*dt(l[K]()/d)),h>=z.month&&(l[ot](h>=z.year?0:d*dt(l[Q]()/d)),o=l[Z]()),h>=z.year&&l[st](o-o%d),h===z.week&&l[nt](l[K]()-l[q]()+Nt(n,1)),e=1,(G||Y)&&(l=l.getTime(),l=new N(l+m(l))),o=l[Z]();n=l.getTime();for(var u=l[Q](),p=l[K](),f=(z.day+(a?m(l):6e4*l.getTimezoneOffset()))%z.day;n<i;)s.push(n),n=h===z.year?V(o+e*d,0):h===z.month?V(o,u+e*d):a||h!==z.day&&h!==z.week?n+h*d:V(o,u,p+e*d*(h===z.day?1:7)),e++;s.push(n),Qt(Zt(s,function(t){return h<=z.hour&&t%z.day===f}),function(t){r[t]="day"})}return s.info=zt(t,{higherRanks:r,totalRange:h*d}),s},we.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],o=n[n.length-1],s=z[o[0]],r=o[1];for(i=0;i<n.length&&(o=n[i],s=z[o[0]],r=o[1],!(n[i+1]&&t<=(s*r[r.length-1]+z[n[i+1][0]])/2));i++);return s===z.year&&t<5*s&&(r=[1,2,5]),{unitRange:s,count:n=b(t/s,r,"year"===o[0]?pt(y(t/s),1):1),unitName:o[0]}},we.prototype.getLogTickPositions=function(t,e,i,n){var o=this.options,s=this.len,l=[];if(n||(this._minorAutoInterval=null),.5<=t)t=ht(t),l=this.getLinearTickPositions(t,e,i);else if(.08<=t){var c,h,d,u,p;for(s=dt(e),o=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<i+1&&!p;s++)for(h=o.length,c=0;c<h&&!p;c++)(d=r(a(s)*o[c]))>e&&(!n||u<=i)&&u!==L&&l.push(u),u>i&&(p=!0),u=d}else e=a(e),i=a(i),t=o[n?"minorTickInterval":"tickInterval"],t=b(t=Nt("auto"===t?null:t,this._minorAutoInterval,(i-e)*(o.tickPixelInterval/(n?5:1))/((n?s/this.tickPositions.length:s)||1)),null,y(t)),l=te(this.getLinearTickPositions(t,e,i),r),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),l};var ke,Ce=rt.Tooltip=function(){this.init.apply(this,arguments)};Ce.prototype={init:function(t,i){var n=i.borderWidth,o=i.style,s=e(o.padding);this.chart=t,this.options=i,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:s,fill:i.backgroundColor,"stroke-width":n,r:i.borderRadius,zIndex:8}).css(o).css({padding:0}).add().attr({y:-9999}),Mt||this.label.shadow(i.shadow),this.shared=i.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var o=this,s=o.now,r=!1!==o.options.animation&&!o.isHidden&&(1<gt(t-s.x)||1<gt(e-s.y)),a=o.followPointer||1<o.len;zt(s,{x:r?(2*s.x+t)/3:t,y:r?(s.y+e)/2:e,anchorX:a?L:r?(2*s.anchorX+i)/3:i,anchorY:a?L:r?(s.anchorY+n)/2:n}),o.label.attr(s),r&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,i,n)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),this.isHidden||(this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},Nt(t,this.options.hideDelay,500)))},getAnchor:function(t,e){var i,n,o,s=this.chart,r=s.inverted,a=s.plotTop,l=s.plotLeft,c=0,h=0;return i=(t=d(t))[0].tooltipPos,this.followPointer&&e&&(e.chartX===L&&(e=s.pointer.normalize(e)),i=[e.chartX-s.plotLeft,e.chartY-a]),i||(Qt(t,function(t){n=t.series.yAxis,o=t.series.xAxis,c+=t.plotX+(!r&&o?o.left-l:0),h+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!r&&n?n.top-a:0)}),c/=t.length,h/=t.length,i=[r?s.plotWidth-h:c,this.shared&&!r&&1<t.length&&e?e.chartY-a:r?s.plotHeight-c:h]),te(i,ht)},getPosition:function(t,e,i){var n,o=this.chart,s=this.distance,r={},a=i.h||0,l=["y",o.chartHeight,e,i.plotY+o.plotTop],c=["x",o.chartWidth,t,i.plotX+o.plotLeft],h=Nt(i.ttBelow,o.inverted&&!i.negative||!o.inverted&&i.negative),d=function(t){var e=l;l=c,c=e,n=t},u=function(){!1!==function(t,e,i,n){var o=i<n-s,l=n+s+i<e,c=n-s-i;n+=s;if(h&&l)r[t]=n;else if(!h&&o)r[t]=c;else if(o)r[t]=0>c-a?c:c-a;else{if(!l)return!1;r[t]=n+a+i>e?n:n+a}}.apply(0,l)?!1===function(t,e,i,n){if(n<s||n>e-s)return!1;r[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2}.apply(0,c)&&!n&&(d(!0),u()):n?r.x=r.y=0:(d(!0),u())};return(o.inverted||1<this.len)&&d(),u(),r},defaultFormatter:function(t){var e,i=this.points||d(this);return(e=(e=[t.tooltipFooterHeaderFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.tooltipFooterHeaderFormatter(i[0],!0)),e.join("")},refresh:function(t,e){var i,n,o,s,r=this.chart,a=this.label,l=this.options,c={},h=[];s=l.formatter||this.defaultFormatter;c=r.hoverPoints;var u,p=this.shared;clearTimeout(this.hideTimer),this.followPointer=d(t)[0].series.tooltipOptions.followPointer,i=(o=this.getAnchor(t,e))[0],n=o[1],!p||t.series&&t.series.noSharedTooltip?c=t.getLabelConfig():(r.hoverPoints=t,c&&Qt(c,function(t){t.setState()}),Qt(t,function(t){t.setState("hover"),h.push(t.getLabelConfig())}),(c={x:t[0].category,y:t[0].y}).points=h,this.len=h.length,t=t[0]),s=s.call(c,this),c=t.series,this.distance=Nt(c.tooltipOptions.distance,16),!1===s?this.hide():(this.isHidden&&(re(a),a.attr("opacity",1).show()),a.attr({text:s}),u=l.borderColor||t.color||c.color||"#606060",a.attr({stroke:u}),this.updatePosition({plotX:i,plotY:n,negative:t.negative,ttBelow:t.ttBelow,h:o[2]||0}),this.isHidden=!1),ne(r,"tooltipRefresh",{text:s,x:i+r.plotLeft,y:n+r.plotTop,borderColor:u})},updatePosition:function(t){var e=this.chart,i=this.label;i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(ht(i.x),ht(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var n,o,s,r=i&&i.closestPointRange,a={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(r){for(o in s=W("%m-%d %H:%M:%S.%L",t.x),z){if(r===z.week&&+W("%w",t.x)===i.options.startOfWeek&&"00:00:00.000"===s.substr(6)){o="week";break}if(z[o]>r){o=l;break}if(a[o]&&s.substr(a[o])!=="01-01 00:00:00.000".substr(a[o]))break;"week"!==o&&(l=o)}o&&(n=e[o])}else n=e.day;return n||e.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",n=t.series,o=n.tooltipOptions,r=o.xDateFormat,a=n.xAxis,l=a&&"datetime"===a.options.type&&s(t.key);i=o[i+"Format"];return l&&!r&&(r=this.getXDateFormat(t,o,a)),l&&r&&(i=i.replace("{point.key}","{point.key:"+r+"}")),v(i,{point:t,series:n})},bodyFormatter:function(t){return te(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}},H=at.documentElement.ontouchstart!==L;var Te=rt.Pointer=function(t,e){this.init(t,e)};if(Te.prototype={init:function(t,e){var i,n=(s=e.chart).events,o=Mt?"":s.zoomType,s=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=i&&!s||o&&s,this.zoomVert=o&&!s||i&&s,this.hasZoom=i||o,this.runChartClick=n&&!!n.click,this.pinchDown=[],this.lastValidTouch={},rt.Tooltip&&e.tooltip.enabled&&(t.tooltip=new Ce(t,e.tooltip),this.followTouchMove=Nt(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,e){var i,n;t=t||window.event;return(t=oe(t)).target||(t.target=t.srcElement),n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=Jt(this.chart.container)),n.pageX===L?(i=pt(t.x,t.clientX-e.left),n=t.y):(i=n.pageX-e.left,n=n.pageY-e.top),zt(t,{chartX:ht(i),chartY:ht(n)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Qt(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,i,n,o,s,r=this.chart,a=r.series,l=r.tooltip,c=!!l&&l.shared,h=r.hoverPoint,d=r.hoverSeries,u=r.chartWidth,p=[];if(!c&&!d)for(e=0;e<a.length;e++)!a[e].directTouch&&a[e].options.stickyTracking||(a=[]);if(!c&&d&&d.directTouch&&h?o=h:(Qt(a,function(e){i=e.noSharedTooltip&&c,n=!c&&e.directTouch,e.visible&&!i&&!n&&Nt(e.options.enableMouseTracking,!0)&&(s=e.searchPoint(t,!i&&1===e.kdDimensions))&&p.push(s)}),Qt(p,function(t){t&&"number"==typeof t.dist&&t.dist<u&&(u=t.dist,o=t)})),o&&(o!==this.prevKDPoint||l&&l.isHidden)){if(c&&!o.series.noSharedTooltip){for(e=p.length;e--;)(p[e].clientX!==o.clientX||p[e].series.noSharedTooltip)&&p.splice(e,1);p.length&&l&&l.refresh(p,t),Qt(p,function(e){e!==o&&e.onMouseOver(t)}),(d&&d.directTouch&&h||o).onMouseOver(t)}else l&&l.refresh(o,t),o.onMouseOver(t);this.prevKDPoint=o}else a=d&&d.tooltipOptions.followPointer,l&&a&&!l.isHidden&&(a=l.getAnchor([{}],t),l.updatePosition({plotX:a[0],plotY:a[1]}));l&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(t){Lt[ke]&&Lt[ke].pointer.onDocumentMouseMove(t)},ee(at,"mousemove",this._onDocumentMouseMove)),Qt(r.axes,function(e){e.drawCrosshair(t,Nt(o,h))})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,o=i.hoverPoint,s=i.hoverPoints,r=i.tooltip,a=r&&r.shared?s:o;(t=t&&r&&a)&&d(a)[0].plotX===L&&(t=!1),t?(r.refresh(a),o&&(o.setState(o.state,!0),Qt(i.axes,function(t){Nt(t.options.crosshair&&t.options.crosshair.snap,!0)?t.drawCrosshair(null,o):t.hideCrosshair()}))):(o&&o.onMouseOut(),s&&Qt(s,function(t){t.setState()}),n&&n.onMouseOut(),r&&r.hide(e),this._onDocumentMouseMove&&(ie(at,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Qt(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;Qt(n.series,function(o){i=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(e?n.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,o=t.chartX,s=t.chartY,r=this.zoomHor,a=this.zoomVert,l=i.plotLeft,c=i.plotTop,h=i.plotWidth,d=i.plotHeight,u=this.mouseDownX,p=this.mouseDownY,f=n.panKey&&t[n.panKey+"Key"];o<l?o=l:o>l+h&&(o=l+h),s<c?s=c:s>c+d&&(s=c+d),this.hasDragged=Math.sqrt(Math.pow(u-o,2)+Math.pow(p-s,2)),10<this.hasDragged&&(e=i.isInsidePlot(u-l,p-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!f&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(l,c,r?1:h,a?1:d,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&r&&(o-=u,this.selectionMarker.attr({width:gt(o),x:(0<o?0:o)+u})),this.selectionMarker&&a&&(o=s-p,this.selectionMarker.attr({height:gt(o),y:(0<o?0:o)+p})),e&&!this.selectionMarker&&n.panning&&i.pan(t,n.panning))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o,s={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},r=this.selectionMarker,a=r.attr?r.attr("x"):r.x,l=r.attr?r.attr("y"):r.y,h=r.attr?r.attr("width"):r.width,d=r.attr?r.attr("height"):r.height;(this.hasDragged||n)&&(Qt(i.axes,function(i){if(i.zoomEnabled&&c(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var r=i.horiz,u="touchend"===t.type?i.minPixelPadding:0,p=i.toValue((r?a:l)+u);r=i.toValue((r?a+h:l+d)-u);s[i.coll].push({axis:i,min:ft(p,r),max:pt(p,r)}),o=!0}}),o&&ne(i,"selection",s,function(t){i.zoom(zt(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(u(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){(t=this.normalize(t)).preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Lt[ke]&&Lt[ke].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i);i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=Lt[ke];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;ke=e.index,(t=this.normalize(t)).returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=h(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=(t=t.relatedTarget||t.toElement)&&t.point&&t.point.series;!e||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||i===e||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,o=e.plotTop;(t=this.normalize(t)).originalEvent=t,e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(ne(i.series,"click",zt(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(zt(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-o)&&ne(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},ee(e,"mouseleave",t.onContainerMouseLeave),1===Ot&&ee(at,"mouseup",t.onDocumentMouseUp),H&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Ot&&ee(at,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;for(t in ie(this.chart.container,"mouseleave",this.onContainerMouseLeave),Ot||(ie(at,"mouseup",this.onDocumentMouseUp),ie(at,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout),this)this[t]=null}},zt(rt.Pointer.prototype,{pinchTranslate:function(t,e,i,n,o,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,o,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,o,s)},pinchTranslateDirection:function(t,e,i,n,o,s,r,a){var l,c,h,d=this.chart,u=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=d["plot"+(t?"Left":"Top")],v=a||1,y=d.inverted,b=d.bounds[t?"h":"v"],x=1===e.length,w=e[0][f],k=i[0][f],C=!x&&e[1][f],T=!x&&i[1][f];(i=function(){!x&&20<gt(w-C)&&(v=a||gt(k-T)/gt(w-C)),c=(m-k)/v+w,l=d["plot"+(t?"Width":"Height")]/v})(),(e=c)<b.min?(e=b.min,h=!0):e+l>b.max&&(e=b.max-l,h=!0),h?(k-=.8*(k-r[u][0]),x||(T-=.8*(T-r[u][1])),i()):r[u]=[k,T],y||(s[u]=c-m,s[g]=l),s=y?1/v:v,o[g]=l,o[u]=e,n[y?t?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=s*m+(k-s*w)},pinch:function(t){var e=this,i=e.chart,n=e.pinchDown,o=t.touches,s=o.length,r=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,c={},h=1===s&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),d={};1<s&&(e.initiated=!0),a&&e.initiated&&!h&&t.preventDefault(),te(o,function(t){return e.normalize(t)}),"touchstart"===t.type?(Qt(o,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),r.x=[n[0].chartX,n[1]&&n[1].chartX],r.y=[n[0].chartY,n[1]&&n[1].chartY],Qt(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,o=t.toPixels(Nt(t.options.min,t.dataMin)),s=t.toPixels(Nt(t.options.max,t.dataMax)),r=ft(o,s);o=pt(o,s);e.min=ft(t.pos,r-n),e.max=pt(t.pos+t.len,o+n)}}),e.res=!0):n.length&&(l||(e.selectionMarker=l=zt({destroy:It},i.plotBox)),e.pinchTranslate(n,o,c,l,d,r),e.hasPinched=a,e.scaleGroups(c,d),!a&&e.followTouchMove&&1===s?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i=this.chart;ke=i.index,1===t.touches.length?(t=this.normalize(t),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&!i.openMenu?(e&&this.runPointActions(t),this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){Lt[ke]&&Lt[ke].pointer.drop(t)}}),lt.PointerEvent||lt.MSPointerEvent){var Se={},Ee=!!lt.PointerEvent,Pe=function(){var t,e=[];for(t in e.item=function(t){return this[t]},Se)Se.hasOwnProperty(t)&&e.push({pageX:Se[t].pageX,pageY:Se[t].pageY,target:Se[t].target});return e},_e=function(t,e,i,n){"touch"!==(t=t.originalEvent||t).pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Lt[ke]||(n(t),(n=Lt[ke].pointer)[e]({type:i,target:t.currentTarget,preventDefault:It,touches:Pe()}))};zt(Te.prototype,{onContainerPointerDown:function(t){_e(t,"onContainerTouchStart","touchstart",function(t){Se[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){_e(t,"onContainerTouchMove","touchmove",function(t){Se[t.pointerId]={pageX:t.pageX,pageY:t.pageY},Se[t.pointerId].target||(Se[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){_e(t,"onDocumentTouchEnd","touchend",function(t){delete Se[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,Ee?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,Ee?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(at,Ee?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Vt(Te.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&u(e.container,{"-ms-touch-action":Rt,"touch-action":Rt})}),Vt(Te.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(ee)}),Vt(Te.prototype,"destroy",function(t){this.batchMSEvents(ie),t.call(this)})}var Ae=rt.Legend=function(t,e){this.init(t,e)};Ae.prototype={init:function(e,i){var n=this,o=i.itemStyle,s=i.itemMarginTop||0;this.options=i,i.enabled&&(n.itemStyle=o,n.itemHiddenStyle=t(o,i.itemHiddenStyle),n.itemMarginTop=s,n.padding=o=Nt(i.padding,8),n.initialItemX=o,n.initialItemY=o-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.symbolWidth=Nt(i.symbolWidth,16),n.pages=[],n.render(),ee(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n=this.options,o=t.legendItem,s=t.legendLine,r=t.legendSymbol,a=this.itemHiddenStyle.color,l=(n=e?n.itemStyle.color:a,e?t.legendColor||t.color||"#CCC":a),c=(a=t.options&&t.options.marker,{fill:l});if(o&&o.css({fill:n,color:n}),s&&s.attr({stroke:l}),r){if(a&&r.isMarker)for(i in c.stroke=l,a=t.convertAttribs(a))(o=a[i])!==L&&(c[i]=o);r.attr(c)}},positionItem:function(t){var e=(i=this.options).symbolPadding,i=!i.rtl,n=(o=t._legendItemPos)[0],o=o[1],s=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(i?n:this.legendWidth-n-2*e-4,o),s&&(s.x=n,s.y=o)},destroyItem:function(t){var e=t.checkbox;Qt(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&T(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,Qt(this.allItems,function(o){var s,r=o.checkbox;r&&(s=e+r.y+(t||0)+3,u(r,{left:i.translateX+o.checkboxOffset+r.x-20+"px",top:s+"px",display:s>e-6&&s<e+n-6?"":Rt}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),i=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?v(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(e){var i=this.chart,n=i.renderer,o=this.options,s="horizontal"===o.layout,r=this.symbolWidth,a=o.symbolPadding,l=this.itemStyle,c=this.itemHiddenStyle,h=this.padding,d=s?Nt(o.itemDistance,20):0,u=!o.rtl,p=o.width,f=o.itemMarginBottom||0,g=this.itemMarginTop,m=this.initialItemX,v=e.legendItem,y=e.series&&e.series.drawLegendSymbol?e.series:e,b=y.options,x=(b=this.createCheckboxForItem&&b&&b.showCheckbox,o.useHTML);v||(e.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=v=n.text("",u?r+a:-a,this.baseline||0,x).css(t(e.visible?l:c)).attr({align:u?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(l.fontSize,v),this.baseline=this.fontMetrics.f+3+g,v.attr("y",this.baseline)),y.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,v,x,l,c),this.colorizeItem(e,e.visible),b&&this.createCheckboxForItem(e)),this.setText(e),n=v.getBBox(),r=e.checkboxOffset=o.itemWidth||e.legendItemWidth||r+a+n.width+d+(b?20:0),this.itemHeight=a=ht(e.legendItemHeight||n.height),s&&this.itemX-m+r>(p||i.chartWidth-2*h-m-o.x)&&(this.itemX=m,this.itemY+=g+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=pt(this.maxItemWidth,r),this.lastItemY=g+this.itemY+f,this.lastLineHeight=pt(a,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=r:(this.itemY+=g+a+f,this.lastLineHeight=a),this.offsetWidth=p||pt((s?this.itemX-m-d:r)+h,this.offsetWidth)},getAllItems:function(){var t=[];return Qt(this.chart.series,function(e){var i=e.options;Nt(i.showInLegend,!c(i.linkedTo)&&L,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,o=n.align[0]+n.verticalAlign[0]+n.layout[0];this.display&&!n.floating&&Qt([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,r){s.test(o)&&!c(t[r])&&(i[Wt[r]]=pt(i[Wt[r]],i.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*n[r%2?"x":"y"]+Nt(n.margin,12)+e[r]))})},render:function(){var t,e,i,n,o=this,s=o.chart,r=s.renderer,a=o.group,l=o.box,c=o.options,h=o.padding,d=c.borderWidth,u=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,a||(o.group=a=r.g("legend").attr({zIndex:7}).add(),o.contentGroup=r.g().attr({zIndex:1}).add(a),o.scrollGroup=r.g().add(o.contentGroup)),o.renderTitle(),x(t=o.getAllItems(),function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&t.reverse(),o.allItems=t,o.display=e=!!t.length,o.lastLineHeight=0,Qt(t,function(t){o.renderItem(t)}),i=(c.width||o.offsetWidth)+h,n=o.lastItemY+o.lastLineHeight+o.titleHeight,n=o.handleOverflow(n),n+=h,(d||u)&&(l?0<i&&0<n&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(o.box=l=r.rect(0,0,i,n,c.borderRadius,d||0).attr({stroke:c.borderColor,"stroke-width":d||0,fill:u||Rt}).add(a).shadow(c.shadow),l.isNew=!0),l[e?"show":"hide"]()),o.legendWidth=i,o.legendHeight=n,Qt(t,function(t){o.positionItem(t)}),e&&a.align(zt({width:i,height:n},c),!0,"spacingBox"),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,o=this.chart,s=o.renderer,r=this.options,a=r.y,l=(a=o.spacingBox.height+("top"===r.verticalAlign?-a:a)-this.padding,r.maxHeight),c=this.clipRect,h=r.navigation,d=Nt(h.animation,!0),u=h.arrowSize||12,p=this.nav,f=this.pages,g=this.padding,m=this.allItems,v=function(t){c.attr({height:t}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+g+"px,9999px,"+(g+t)+"px,0)")};return"horizontal"===r.layout&&(a/=2),l&&(a=ft(a,l)),f.length=0,t>a?(this.clipHeight=e=pt(a-20-this.titleHeight-g,0),this.currentPage=Nt(this.currentPage,1),this.fullHeight=t,Qt(m,function(t,n){var o=t._legendItemPos[1],s=ht(t.legendItem.getBBox().height),r=f.length;(!r||o-f[r-1]>e&&(i||o)!==f[r-1])&&(f.push(i||o),r++),n===m.length-1&&o+s-f[r-1]>e&&f.push(o),o!==i&&(i=o)}),c||(c=n.clipRect=s.clipRect(0,g,9999,0),n.contentGroup.clip(c)),v(e),p||(this.nav=p=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,u,u).on("click",function(){n.scroll(-1,d)}).add(p),this.pager=s.text("",15,10).css(h.style).add(p),this.down=s.symbol("triangle-down",0,0,u,u).on("click",function(){n.scroll(1,d)}).add(p)),n.scroll(0),t=a):p&&(v(o.chartHeight),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,o=this.currentPage+t,s=this.clipHeight,r=(a=this.options.navigation).activeColor,a=a.inactiveColor,l=this.pager,c=this.padding;o>n&&(o=n),0<o&&(e!==L&&P(e,this.chart),this.nav.attr({translateX:c,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===o?a:r}).css({cursor:1===o?"default":"pointer"}),l.attr({text:o+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===n?a:r}).css({cursor:o===n?"default":"pointer"}),i=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=o,this.positionCheckboxes(i))}};var Me=rt.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-i+1,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker;e=t.symbolWidth;var o,s=this.chart.renderer,r=this.legendGroup;t=t.baseline-ht(.3*t.fontMetrics.b);i.lineWidth&&(o={"stroke-width":i.lineWidth},i.dashStyle&&(o.dashstyle=i.dashStyle),this.legendLine=s.path(["M",0,t,"L",e,t]).attr(o).add(r)),n&&!1!==n.enabled&&(i=n.radius,this.legendSymbol=e=s.symbol(this.symbol,e/2-i,t-i,2*i,2*i).add(r),e.isMarker=!0)}};(/Trident\/7\.0/.test(xt)||St)&&Vt(Ae.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)});var De=rt.Chart=function(){this.init.apply(this,arguments)};De.prototype={callbacks:[],init:function(e,i){var n,o=e.series;e.series=null,(n=t(F,e)).series=e.series=o,this.userOptions=e,o=n.chart,this.margin=this.splashArray("margin",o),this.spacing=this.splashArray("spacing",o);var s=o.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var r,a=this;if(a.index=Lt.length,Lt.push(a),Ot++,!1!==o.reflow&&ee(a,"load",function(){a.initReflow()}),s)for(r in s)ee(a,r,s[r]);a.xAxis=[],a.yAxis=[],a.animation=!Mt&&Nt(o.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=jt[t.type||e.type||e.defaultSeriesType])||S(17,!0),(e=new e).init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t;t=i?t:e;return 0<=n&&n<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(t){var e,i,n=this.axes,o=this.series,s=this.pointer,r=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,h=o.length,d=h,u=this.renderer,p=u.isHidden(),f=[];for(P(t,this),p&&this.cloneRenderTo(),this.layOutTitles();d--;)if((t=o[d]).options.stacking&&(e=!0,t.isDirty)){i=!0;break}if(i)for(d=h;d--;)(t=o[d]).options.stacking&&(t.isDirty=!0);Qt(o,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),a=!0)}),a&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),e&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Qt(n,function(t){t.setScale()})),this.getMargins(),l&&(Qt(n,function(t){t.isDirty&&(c=!0)}),Qt(n,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,f.push(function(){ne(t,"afterSetExtremes",zt(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(c||e)&&t.redraw()})),c&&this.drawChartBox(),Qt(o,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),s&&s.reset(!0),u.draw(),ne(this,"redraw"),p&&this.cloneRenderTo(!0),Qt(f,function(t){t.call()})},get:function(t){var e,i,n=this.axes,o=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<o.length;e++)for(i=o[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=(i=this.options).xAxis=d(i.xAxis||{}),i=i.yAxis=d(i.yAxis||{});Qt(e,function(t,e){t.index=e,t.isX=!0}),Qt(i,function(t,e){t.index=e}),e=e.concat(i),Qt(e,function(e){new we(t,e)})},getSelectedPoints:function(){var t=[];return Qt(this.series,function(e){t=t.concat(Zt(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return Zt(this.series,function(t){return t.selected})},getStacks:function(){var t=this;Qt(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),Qt(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+Nt(e.options.stack,""))})},setTitle:function(e,i,n){var o,s=this,r=s.options;o=r.title=t(r.title,e),r=r.subtitle=t(r.subtitle,i),Qt([["title",e,o],["subtitle",i,r]],function(t){var e=t[0],i=s[e],n=t[1];t=t[2];i&&n&&(s[e]=i=i.destroy()),t&&t.text&&!i&&(s[e]=s.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),s.layOutTitles(n)},layOutTitles:function(t){var e=0,i=this.title,n=this.subtitle,o=(s=this.options).title,s=s.subtitle,r=this.renderer,a=this.spacingBox.width-44;i&&(i.css({width:(o.width||a)+"px"}).align(zt({y:r.fontMetrics(o.style.fontSize,i).b-3},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign&&(e=i.getBBox().height)),n&&(n.css({width:(s.width||a)+"px"}).align(zt({y:e+(o.margin-13)+r.fontMetrics(o.style.fontSize,n).b},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(e=ut(e+n.getBBox().height))),i=this.titleOffset!==e,this.titleOffset=e,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&Nt(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=(e=this.options.chart).width,e=e.height,i=this.renderToClone||this.renderTo;c(t)||(this.containerWidth=Ut(i,"width")),c(e)||(this.containerHeight=Ut(i,"height")),this.chartWidth=pt(0,t||this.containerWidth||600),this.chartHeight=pt(0,Nt(e,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),T(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),u(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),at.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var t,n,o,s,r=this.options.chart;this.renderTo=t=r.renderTo,s="highcharts-"+$t++,i(t)&&(this.renderTo=t=at.getElementById(t)),t||S(13,!0),n=e(h(t,"data-highcharts-chart")),!isNaN(n)&&Lt[n]&&Lt[n].hasRendered&&Lt[n].destroy(),h(t,"data-highcharts-chart",this.index),t.innerHTML="",!r.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,o=this.chartHeight,this.container=t=p(Ht,{className:"highcharts-container"+(r.className?" "+r.className:""),id:s},zt({position:"relative",overflow:"hidden",width:n+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=r.forExport?new ve(t,n,o,r.style,!0):new O(t,n,o,r.style),Mt&&this.renderer.create(this,t,n,o),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!c(i[0])&&(this.plotTop=pt(this.plotTop,n+this.options.title.margin+e[0])),this.legend.adjustMargins(i,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&Qt(t.axes,function(t){t.getOffset()}),Qt(Wt,function(n,o){c(i[o])||(t[n]+=e[o])}),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,o=i.width||Ut(n,"width"),s=i.height||Ut(n,"height");i=t?t.target:lt,n=function(){e.container&&(e.setSize(o,s,!1),e.hasUserSize=null)};e.hasUserSize||e.isPrinting||!o||!s||i!==lt&&i!==at||(o===e.containerWidth&&s===e.containerHeight||(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(n,100):n()),e.containerWidth=o,e.containerHeight=s)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};ee(lt,"resize",e),ee(t,"destroy",function(){ie(lt,"resize",e)})},setSize:function(t,e,i){var n,o,s,r=this;r.isResizing+=1,s=function(){r&&ne(r,"endResize",null,function(){r.isResizing-=1})},P(i,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,c(t)&&(r.chartWidth=n=pt(0,ht(t)),r.hasUserSize=!!n),c(e)&&(r.chartHeight=o=pt(0,ht(e))),(B?se:u)(r.container,{width:n+"px",height:o+"px"},B),r.setChartSize(!0),r.renderer.setSize(n,o,i),r.maxTicks=null,Qt(r.axes,function(t){t.isDirty=!0,t.setScale()}),Qt(r.series,function(t){t.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(i),r.oldChartHeight=null,ne(r,"resize"),!1===B?s():setTimeout(s,B&&B.duration||500)},setChartSize:function(t){var e,i,n,o,s=this.inverted,r=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,h=this.spacing,d=this.clipOffset;this.plotLeft=e=ht(this.plotLeft),this.plotTop=i=ht(this.plotTop),this.plotWidth=n=pt(0,ht(a-e-this.marginRight)),this.plotHeight=o=pt(0,ht(l-i-this.marginBottom)),this.plotSizeX=s?o:n,this.plotSizeY=s?n:o,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:h[3],y:h[0],width:a-h[3]-h[1],height:l-h[0]-h[2]},this.plotBox=r.plotBox={x:e,y:i,width:n,height:o},a=2*dt(this.plotBorderWidth/2),s=ut(pt(a,d[3])/2),r=ut(pt(a,d[0])/2),this.clipBox={x:s,y:r,width:dt(this.plotSizeX-pt(a,d[1])/2-s),height:pt(0,dt(this.plotSizeY-pt(a,d[2])/2-r))},t||Qt(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;Qt(Wt,function(e,i){t[e]=Nt(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,o=this.chartHeight,s=this.chartBackground,r=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,c=e.borderWidth||0,h=e.backgroundColor,d=e.plotBackgroundColor,u=e.plotBackgroundImage,p=e.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,x=this.clipBox;t=c+(e.shadow?8:0),(c||h)&&(s?s.animate(s.crisp({width:n-t,height:o-t})):(s={fill:h||Rt},c&&(s.stroke=e.borderColor,s["stroke-width"]=c),this.chartBackground=i.rect(t/2,t/2,n-t,o-t,e.borderRadius,c).attr(s).addClass("highcharts-background").add().shadow(e.shadow))),d&&(r?r.animate(y):this.plotBackground=i.rect(f,g,m,v,0).attr({fill:d}).add().shadow(e.plotShadow)),u&&(l?l.animate(y):this.plotBGImage=i.image(u,f,g,m,v).add()),b?b.animate({width:x.width,height:x.height}):this.clipRect=i.clipRect(x),p&&(a?a.animate(a.crisp({x:f,y:g,width:m,height:v,strokeWidth:-p})):this.plotBorder=i.rect(f,g,m,v,0,-p).attr({stroke:e.plotBorderColor,"stroke-width":p,fill:Rt,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,o=n.options.chart,s=n.options.series;Qt(["inverted","angular","polar"],function(r){for(t=jt[o.type||o.defaultSeriesType],i=n[r]||o[r]||t&&t.prototype[r],e=s&&s.length;!i&&e--;)(t=jt[s[e].type])&&t.prototype[r]&&(i=!0);n[r]=i})},linkSeries:function(){var t=this,e=t.series;Qt(e,function(t){t.linkedSeries.length=0}),Qt(e,function(e){var n=e.options.linkedTo;i(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&(n.linkedSeries.push(e),e.linkedParent=n)})},renderSeries:function(){Qt(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,i=t.options.labels;i.items&&Qt(i.items,function(n){var o=zt(i.style,n.style),s=e(o.left)+t.plotLeft,r=e(o.top)+t.plotTop+12;delete o.left,delete o.top,t.renderer.text(n.html,s,r).attr({zIndex:2}).css(o).add()})},render:function(){var t,e,i,n,o=this.axes,s=this.renderer,r=this.options;this.setTitle(),this.legend=new Ae(this,r.legend),this.getStacks(),this.getMargins(!0),this.setChartSize(),t=this.plotWidth,e=this.plotHeight-=13,Qt(o,function(t){t.setScale()}),this.getAxisMargins(),i=1.1<t/this.plotWidth,n=1.1<e/this.plotHeight,(i||n)&&(this.maxTicks=null,Qt(o,function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Qt(o,function(t){t.render()}),this.seriesGroup||(this.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(r.credits),this.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var t,e=this,i=e.axes,n=e.series,o=e.container,s=o&&o.parentNode;for(ne(e,"destroy"),Lt[e.index]=L,Ot--,e.renderTo.removeAttribute("data-highcharts-chart"),ie(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();for(t in Qt("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer scroller rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),o&&(o.innerHTML="",ie(o),s&&T(o)),e)delete e[t]},isReadyToRender:function(){var t=this;return!(!_t&&lt==lt.top&&"complete"!==at.readyState||Mt&&!lt.canvg)||(Mt?me.push(function(){t.firstRender()},t.options.global.canvasToolsURL):at.attachEvent("onreadystatechange",function(){at.detachEvent("onreadystatechange",t.firstRender),"complete"===at.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),ne(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Qt(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),ne(t,"beforeRender"),rt.Pointer&&(t.pointer=new Te(t,e)),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),Qt(t.callbacks,function(e){t.index!==L&&e.apply(t,[t])}),ne(t,"load"),t.cloneRenderTo(!0))},splashArray:function(t,e){var i=n(i=e[t])?i:[i,i,i,i];return[Nt(e[t+"Top"],i[0]),Nt(e[t+"Right"],i[1]),Nt(e[t+"Bottom"],i[2]),Nt(e[t+"Left"],i[3])]}};var $e=rt.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,n=this.chart,o=2*(i.slicedOffset||0),s=n.plotWidth-2*o,r=(n=n.plotHeight-2*o,i.center),a=(r=[Nt(r[0],"50%"),Nt(r[1],"50%"),i.size||"100%",i.innerSize||0],ft(s,n));for(t=0;4>t;++t)e=r[t],i=2>t||2===t&&/%$/.test(e),r[t]=(/%$/.test(e)?[s,n,a,r[2]][t]*parseFloat(e)/100:parseFloat(e))+(i?o:0);return r}},Ie=function(){};Ie.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length&&(t.colorCounter=0)),t.chart.pointCount++,this},applyOptions:function(t,e){var i=this.series,n=i.options.pointValKey||i.pointValKey;t=Ie.prototype.optionsToObject.call(this,t);return zt(this,t),this.options=this.options?zt(this.options,t):t,n&&(this.y=this[n]),this.x===L&&i&&(this.x=e===L?i.autoIncrement():e),this},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,s=n||i.pointArrayMap||["y"],r=s.length,a=0,l=0;if("number"==typeof t||null===t)e[s[0]]=t;else if(o(t))for(!n&&t.length>r&&("string"===(i=typeof t[0])?e.name=t[0]:"number"===i&&(e.x=t[0]),a++);l<r;)e[s[l++]]=t[a++];else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;for(t in e.pointCount--,i&&(this.setState(),l(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(ie(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e="graphic dataLabel dataLabelUpper group connector shadowGroup".split(" "),i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=Nt(i.valueDecimals,""),o=i.valuePrefix||"",s=i.valueSuffix||"";return Qt(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||s)&&(t=t.replace(e+"}",o+e+"}"+s)),t=t.replace(e+"}",e+":,."+n+"f}")}),v(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,o=this.series.options;(o.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),ne(this,t,e,i)}};var Le=rt.Series=function(){};Le.prototype={isCartesian:!0,type:"line",pointClass:Ie,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var i,n,o=this,s=t.series,r=function(t,e){return Nt(t.options.index,t._i)-Nt(e.options.index,e._i)};for(i in o.chart=t,o.options=e=o.setOptions(e),o.linkedSeries=[],o.bindAxes(),zt(o,{name:e.name,state:"",pointAttr:{},visible:!1!==e.visible,selected:!0===e.selected}),Mt&&(e.animation=!1),n=e.events)ee(o,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),Qt(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(e.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.push(o),o._i=s.length-1,x(s,r),this.yAxis&&x(this.yAxis.series,r),Qt(s,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;Qt(e.axisTypes||[],function(o){Qt(n[o],function(n){t=n.options,(i[o]===t.index||i[o]!==L&&i[o]===t.id||i[o]===L&&0===t.index)&&(n.series.push(e),e[o]=n,n.isDirty=!0)}),!e[o]&&e.optionalAxis!==o&&S(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments;Qt(i.parallelArrays,"number"==typeof e?function(n){var o="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=o}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit;i=Nt(i,e.pointStart,0);return this.pointInterval=t=Nt(this.pointInterval,e.pointInterval,1),"month"!==n&&"year"!==n||(e=new N(i),t=(e="month"===n?+e[ot](e[Q]()+t):+e[st](e[Z]()+t))-i),this.xIncrement=i+t,i},getSegments:function(){var t,e=-1,i=[],n=this.points,o=n.length;if(o)if(this.options.connectNulls){for(t=o;t--;)null===n[t].y&&n.splice(t,1);n.length&&(i=[n])}else Qt(n,function(t,s){null===t.y?(s>e+1&&i.push(n.slice(e+1,s)),e=s):s===o-1&&i.push(n.slice(e+1,s+1))});this.segments=i},setOptions:function(e){var i,n=(i=this.chart).options.plotOptions,o=(i=i.userOptions||{}).plotOptions||{},s=n[this.type];return this.userOptions=e,n=t(s,n.series,e),this.tooltipOptions=t(F.tooltip,F.plotOptions[this.type].tooltip,i.tooltip,o.series&&o.series.tooltip,o[this.type]&&o[this.type].tooltip,e.tooltip),null===s.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,e=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||e.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,color:n.negativeColor,fillColor:n.negativeFillColor}),e.length&&c(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(t,e,i){var n=this.userOptions,o="_"+t+"Index",s=t+"Counter";e||(c(n[o])?e=n[o]:(n[o]=e=this.chart[s]%i.length,this.chart[s]+=1),e=i[e]),this[t]=e},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||ae[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:Me.drawLineMarker,setData:function(t,e,n,r){var a,l=this,c=l.points,h=c&&c.length||0,d=l.options,u=l.chart,p=null,f=l.xAxis,g=f&&!!f.categories,m=d.turboThreshold,v=this.xData,y=this.yData,b=(a=l.pointArrayMap)&&a.length;if(a=(t=t||[]).length,e=Nt(e,!0),!1!==r&&a&&h===a&&!l.cropped&&!l.hasGroupedData&&l.visible)Qt(t,function(t,e){c[e].update&&c[e].update(t,!1,null,!1)});else{if(l.xIncrement=null,l.pointRange=g?1:d.pointRange,l.colorCounter=0,Qt(this.parallelArrays,function(t){l[t+"Data"].length=0}),m&&a>m){for(n=0;null===p&&n<a;)p=t[n],n++;if(s(p)){for(g=Nt(d.pointStart,0),d=Nt(d.pointInterval,1),n=0;n<a;n++)v[n]=g,y[n]=t[n],g+=d;l.xIncrement=g}else if(o(p))if(b)for(n=0;n<a;n++)d=t[n],v[n]=d[0],y[n]=d.slice(1,b+1);else for(n=0;n<a;n++)d=t[n],v[n]=d[0],y[n]=d[1];else S(12)}else for(n=0;n<a;n++)t[n]!==L&&(d={series:l},l.pointClass.prototype.applyOptions.apply(d,[t[n]]),l.updateParallelArrays(d,n),g&&d.name&&(f.names[d.x]=d.name));for(i(y[0])&&S(14,!0),l.data=[],l.options.data=t,n=h;n--;)c[n]&&c[n].destroy&&c[n].destroy();f&&(f.minRange=f.userMinRange),l.isDirty=l.isDirtyData=u.isDirtyBox=!0,n=!1}e&&u.redraw(n)},processData:function(t){var e,i=this.xData,n=this.yData,o=i.length;e=0;var s,r,a,l=this.xAxis,c=this.options;a=c.cropThreshold;var h,d,u=this.isCartesian;if(u&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(h=(t=l.getExtremes()).min,d=t.max),u&&this.sorted&&(!a||o>a||this.forceCrop)&&(i[o-1]<h||i[0]>d?(i=[],n=[]):(i[0]<h||i[o-1]>d)&&(i=(e=this.cropData(this.xData,this.yData,h,d)).xData,n=e.yData,e=e.start,s=!0)),a=i.length-1;0<=a;a--)0<(o=i[a]-i[a-1])&&(r===L||o<r)?r=o:0>o&&this.requireSorting&&S(15);this.cropped=s,this.cropStart=e,this.processedXData=i,this.processedYData=n,null===c.pointRange&&(this.pointRange=r||1),this.closestPointRange=r},cropData:function(t,e,i,n){var o,s=t.length,r=0,a=s,l=Nt(this.cropShoulder,1);for(o=0;o<s;o++)if(t[o]>=i){r=pt(0,o-l);break}for(;o<s;o++)if(t[o]>n){a=o+l;break}return{xData:t.slice(r,a),yData:e.slice(r,a),start:r,end:a}},generatePoints:function(){var t,e,i,n,o=this.options.data,s=this.data,r=this.processedXData,a=this.processedYData,l=this.pointClass,c=r.length,h=this.cropStart||0,u=this.hasGroupedData,p=[];for(!s&&!u&&((s=[]).length=o.length,s=this.data=s),n=0;n<c;n++)e=h+n,u?p[n]=(new l).init(this,[r[n]].concat(d(a[n]))):(s[e]?i=s[e]:o[e]!==L&&(s[e]=i=(new l).init(this,o[e],r[n])),p[n]=i),p[n].index=e;if(s&&(c!==(t=s.length)||u))for(n=0;n<t;n++)n===h&&!u&&(n+=c),s[n]&&(s[n].destroyElements(),s[n].plotX=L);this.data=s,this.points=p},getExtremes:function(t){var e,i,n,o,s,r=this.yAxis,a=this.processedXData,l=[],c=0,h=(e=this.xAxis.getExtremes()).min,d=e.max;for(e=(t=t||this.stackedYData||this.processedYData).length,s=0;s<e;s++)if(n=a[s],i=null!==(o=t[s])&&o!==L&&(!r.isLog||o.length||0<o),n=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(a[s+1]||n)>=h&&(a[s-1]||n)<=d,i&&n)if(i=o.length)for(;i--;)null!==o[i]&&(l[c++]=o[i]);else l[c++]=o;this.dataMin=w(l),this.dataMax=k(l)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e,i,n=(v=this.options).stacking,o=this.xAxis,r=o.categories,a=this.yAxis,l=this.points,h=l.length,d=!!this.modifyValue,u=v.pointPlacement,p="between"===u||s(u),f=v.threshold,g=v.startFromThreshold?f:0,m=Number.MAX_VALUE,v=0;v<h;v++){var y=l[v],b=y.x,x=y.y;e=y.low;var w=n&&a.stacks[(this.negStacks&&x<(g?0:f)?"-":"")+this.stackKey];a.isLog&&null!==x&&0>=x&&(y.y=x=null,S(10)),y.plotX=t=ft(pt(-1e5,o.translate(b,0,0,0,1,u,"flags"===this.type)),1e5),n&&this.visible&&w&&w[b]&&(e=(x=(w=w[b]).points[this.index+","+v])[0],x=x[1],e===g&&(e=Nt(f,a.min)),a.isLog&&0>=e&&(e=null),y.total=y.stackTotal=w.total,y.percentage=w.total&&y.y/w.total*100,y.stackY=x,w.setOffset(this.pointXOffset||0,this.barW||0)),y.yBottom=c(e)?a.translate(e,0,1,0,1):null,d&&(x=this.modifyValue(x,y)),y.plotY=e="number"==typeof x&&1/0!==x?ft(pt(-1e5,a.translate(x,0,1,0,1)),1e5):L,y.isInside=e!==L&&0<=e&&e<=a.len&&0<=t&&t<=o.len,y.clientX=p?o.translate(b,0,0,0,1):t,y.negative=y.y<(f||0),y.category=r&&r[y.x]!==L?r[y.x]:y.x,v&&(m=ft(m,gt(t-i))),i=t}this.closestPointRangePx=m,this.getSegments()},setClip:function(t){var e=this.chart,i=e.renderer,n=e.inverted,o=this.clipBox,s=o||e.clipBox,r=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height].join(),a=e[r],l=e[r+"m"];a||(t&&(s.width=0,e[r+"m"]=l=i.clipRect(-99,n?-e.plotLeft:-e.plotTop,99,n?e.chartWidth:e.chartHeight)),e[r]=a=i.clipRect(s)),t&&(a.count+=1),!1!==this.options.clip&&(this.group.clip(t||o?a:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=r),t||(a.count-=1,0>=a.count&&r&&e[r]&&(o||(e[r]=e[r].destroy()),e[r+"m"]&&(e[r+"m"]=e[r+"m"].destroy())))},animate:function(t){var e,i=this.chart,o=this.options.animation;o&&!n(o)&&(o=ae[this.type].animation),t?this.setClip(o):((t=i[e=this.sharedClipKey])&&t.animate({width:i.plotSizeX},o),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99},o),this.animate=null)},afterAnimate:function(){this.setClip(),ne(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,o,s,r,a,l,c,h,d,u=this.points,p=this.chart,f=this.options.marker,g=this.pointAttr[""],m=this.markerGroup,v=Nt(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(!1!==f.enabled||this._hasPointMarkers)for(n=u.length;n--;)o=u[n],e=dt(o.plotX),i=o.plotY,l=o.graphic,c=o.marker||{},h=!!o.marker,t=v&&c.enabled===L||c.enabled,d=o.isInside,t&&i!==L&&!isNaN(i)&&null!==o.y?(s=(t=o.pointAttr[o.selected?"select":""]||g).r,a=0===(r=Nt(c.symbol,this.symbol)).indexOf("url"),l?l[d?"show":"hide"](!0).animate(zt({x:e-s,y:i-s},l.symbolName?{width:2*s,height:2*s}:{})):d&&(0<s||a)&&(o.graphic=p.renderer.symbol(r,e-s,i-s,2*s,2*s,h?c:f).attr(t).add(m))):l&&(o.graphic=l.destroy())},convertAttribs:function(t,e,i,n){var o,s,r=this.pointAttrToOptions,a={};t=t||{},e=e||{},i=i||{},n=n||{};for(o in r)s=r[o],a[o]=Nt(t[s],e[o],i[o],n[o]);return a},getAttribs:function(){var t,e=this,i=e.options,n=ae[e.type].marker?i.marker:i,o=n.states,s=o.hover,r=e.color,a=e.options.negativeColor;t={stroke:r,fill:r};var l,h,d=e.points||[],u=[],p=e.pointAttrToOptions;h=e.hasPointSpecificOptions;var f=n.lineColor,g=n.fillColor;l=i.turboThreshold;var m,v=e.zones,y=e.zoneAxis||"y";if(i.marker?(s.radius=s.radius||n.radius+s.radiusPlus,s.lineWidth=s.lineWidth||n.lineWidth+s.lineWidthPlus):(s.color=s.color||ue(s.color||r).brighten(s.brightness).get(),s.negativeColor=s.negativeColor||ue(s.negativeColor||a).brighten(s.brightness).get()),u[""]=e.convertAttribs(n,t),Qt(["hover","select"],function(t){u[t]=e.convertAttribs(o[t],u[""])}),e.pointAttr=u,r=d.length,!l||r<l||h)for(;r--;){if((n=(l=d[r]).options&&l.options.marker||l.options)&&!1===n.enabled&&(n.radius=0),v.length){for(t=v[h=0];l[y]>=t.value;)t=v[++h];l.color=l.fillColor=t.color}if(h=i.colorByPoint||l.color,l.options)for(m in p)c(n[p[m]])&&(h=!0);h?(h=[],t=(o=(n=n||{}).states||{}).hover=o.hover||{},i.marker||(t.color=t.color||!l.options.color&&s[l.negative&&a?"negativeColor":"color"]||ue(l.color).brighten(t.brightness||s.brightness).get()),t={color:l.color},g||(t.fillColor=l.color),f||(t.lineColor=l.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,h[""]=e.convertAttribs(zt(t,n),u[""]),h.hover=e.convertAttribs(o.hover,u.hover,h[""]),h.select=e.convertAttribs(o.select,u.select,h[""])):h=u,l.pointAttr=h}},destroy:function(){var t,e,i,n,o=this,s=o.chart,r=/AppleWebKit\/533/.test(xt),a=o.data||[];for(ne(o,"destroy"),ie(o),Qt(o.axisTypes||[],function(t){(n=o[t])&&(l(n.series,o),n.isDirty=n.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),t=a.length;t--;)(e=a[t])&&e.destroy&&e.destroy();for(i in o.points=null,clearTimeout(o.animationTimeout),o)o[i]instanceof A&&!o[i].survive&&(t=r&&"group"===i?"hide":"destroy",o[i][t]());for(i in s.hoverSeries===o&&(s.hoverSeries=null),l(s.series,o),o)delete o[i]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return Qt(t,function(o,s){var r,a=o.plotX,l=o.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,o,s)):(i.push(s?"L":"M"),n&&s&&(r=t[s-1],"right"===n?i.push(r.plotX,l):"center"===n?i.push((r.plotX+a)/2,r.plotY,(r.plotX+a)/2,l):i.push(a,r.plotY)),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return Qt(e.segments,function(o){t=e.getSegmentPath(o),1<o.length?i=i.concat(t):n.push(o[0])}),e.singlePoints=n,e.graphPath=i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color,e.dashStyle]],n=e.lineWidth,o="square"!==e.linecap,s=this.getGraphPath(),r=this.fillGraph&&this.color||Rt;Qt(this.zones,function(n,o){i.push(["zoneGraph"+o,n.color||t.color,n.dashStyle||e.dashStyle])}),Qt(i,function(i,a){var l=i[0],c=t[l];c?(re(c),c.animate({d:s})):(n||r)&&s.length&&(c={stroke:i[1],"stroke-width":n,fill:r,zIndex:1},i[2]?c.dashstyle=i[2]:o&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(s).attr(c).add(t.group).shadow(2>a&&e.shadow))})},applyZones:function(){var t,e,i,n,o,s,r,a=this,l=this.chart,c=l.renderer,h=this.zones,d=this.clips||[],u=this.graph,p=this.area,f=pt(l.chartWidth,l.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],m=g.reversed,v=l.inverted,y=g.horiz,b=!1;h.length&&(u||p)&&(u&&u.hide(),p&&p.hide(),n=g.getExtremes(),Qt(h,function(h,x){t=m?y?l.plotWidth:0:y?0:g.toPixels(n.min),t=ft(pt(Nt(e,t),0),f),e=ft(pt(ht(g.toPixels(Nt(h.value,n.max),!0)),0),f),b&&(t=e=g.toPixels(n.max)),o=Math.abs(t-e),s=ft(t,e),r=pt(t,e),g.isXAxis?(i={x:v?r:s,y:0,width:o,height:f},y||(i.x=l.plotHeight-i.x)):(i={x:0,y:v?r:s,width:f,height:o},y&&(i.y=l.plotWidth-i.y)),l.inverted&&c.isVML&&(i=g.isXAxis?{x:0,y:m?s:r,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),d[x]?d[x].animate(i):(d[x]=c.clipRect(i),u&&a["zoneGraph"+x].clip(d[x]),p&&a["zoneArea"+x].clip(d[x])),b=h.value>n.max}),this.clips=d)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Qt(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(ee(i,"resize",t),ee(e,"destroy",function(){ie(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,o){var s=this[t],r=!s;return r&&(this[t]=s=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(o)),s[r?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,o=(t=n.animation)&&!!e.animate&&i.renderer.isSVG&&Nt(t.duration,500)||0,s=e.visible?"visible":"hidden",r=n.zIndex,a=e.hasRendered,l=i.seriesGroup;t=e.plotGroup("group","series",s,r,l),e.markerGroup=e.plotGroup("markerGroup","markers",s,r,l),o&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&i.inverted,e.drawGraph&&(e.drawGraph(),e.applyZones()),Qt(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),i.inverted&&e.invertGroups(),!1!==n.clip&&!e.sharedClipKey&&!a&&t.clip(i.clipRect),o&&e.animate(),a||(o?e.animationTimeout=setTimeout(function(){e.afterAnimate()},o):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.isDirty,n=this.group,o=this.xAxis,s=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:Nt(o&&o.left,t.plotLeft),translateY:Nt(s&&s.top,t.plotTop)})),this.translate(),this.render(),e&&ne(this,"updatedData"),(i||e)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,o=this.chart.inverted;return this.searchKDTree({clientX:o?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:o?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){function t(){var t=Zt(e.points,function(t){return null!==t.y});e.kdTree=function t(i,n,o){var s,r;if(r=i&&i.length)return s=e.kdAxisArray[n%o],i.sort(function(t,e){return t[s]-e[s]}),{point:i[r=Math.floor(r/2)],left:t(i.slice(0,r),n+1,o),right:t(i.slice(r+1),n+1,o)}}(t,i,i)}var e=this,i=e.kdDimensions;delete e.kdTree,e.options.kdSync?t():setTimeout(t)},searchKDTree:function(t,e){var i=this,n=this.kdAxisArray[0],o=this.kdAxisArray[1],s=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return function t(e,r,a,l){var h,d,u=r.point,p=i.kdAxisArray[a%l],f=u;return h=((d=c(e[n])&&c(u[n])?Math.pow(e[n]-u[n],2):null)||0)+((h=c(e[o])&&c(u[o])?Math.pow(e[o]-u[o],2):null)||0),u.dist=c(h)?Math.sqrt(h):Number.MAX_VALUE,u.distX=c(d)?Math.sqrt(d):Number.MAX_VALUE,d=0>(p=e[p]-u[p])?"right":"left",r[h=0>p?"left":"right"]&&(f=(h=t(e,r[h],a+1,l))[s]<f[s]?h:u),r[d]&&Math.sqrt(p*p)<f[s]&&(f=(e=t(e,r[d],a+1,l))[s]<f[s]?e:f),f}(t,this.kdTree,this.kdDimensions,this.kdDimensions)}},D.prototype={destroy:function(){C(this,this.axis)},render:function(t){var e=this.options,i=(i=e.format)?v(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=(r=this.axis).chart,n=i.inverted,o=r.reversed,s=(o=this.isNegative&&!o||!this.isNegative&&o,r.translate(r.usePercentage?100:this.total,0,0,0,1)),r=r.translate(0),a=(r=gt(s-r),i.xAxis[0].translate(this.x)+t),l=i.plotHeight;o={x:n?o?s:s-r:a,y:n?l-a-e:o?l-s-r:l-s,width:n?r:e,height:n?e:r};(n=this.label)&&(n.align(this.alignOptions,null,o),o=n.alignAttr,n[!1===this.options.crop||i.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},we.prototype.buildStacks=function(){var t=this.series,e=Nt(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)t[e?i:t.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<t.length;i++)t[i].setPercentStacks()}},we.prototype.renderStackTotals=function(){var t,e,i=this.chart,n=i.renderer,o=this.stacks,s=this.stackTotalGroup;for(t in s||(this.stackTotalGroup=s=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(i.plotLeft,i.plotTop),o)for(e in i=o[t])i[e].render(s)},Le.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,e,i,n,o,s,r=this.processedXData,a=this.processedYData,l=[],c=a.length,h=(p=this.options).threshold,d=p.startFromThreshold?h:0,u=p.stack,p=p.stacking,f=this.stackKey,g="-"+f,m=this.negStacks,v=this.yAxis,y=v.stacks,b=v.oldStacks;for(n=0;n<c;n++)o=r[n],s=a[n],i=this.index+","+n,y[e=(t=m&&s<(d?0:h))?g:f]||(y[e]={}),y[e][o]||(b[e]&&b[e][o]?(y[e][o]=b[e][o],y[e][o].total=null):y[e][o]=new D(v,v.options.stackLabels,t,o,u)),(e=y[e][o]).points[i]=[Nt(e.cum,d)],"percent"===p?(t=t?f:g,m&&y[t]&&y[t][o]?(t=y[t][o],e.total=t.total=pt(t.total,e.total)+gt(s)||0):e.total=E(e.total+(gt(s)||0))):e.total=E(e.total+(s||0)),e.cum=Nt(e.cum,d)+(s||0),e.points[i].push(e.cum),l[n]=e.cum;"percent"===p&&(v.usePercentage=!0),this.stackedYData=l,v.oldStacks={}}},Le.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,i=t.yAxis.stacks,n=t.processedXData;Qt([e,"-"+e],function(e){for(var o,s,r=n.length;r--;)o=n[r],(o=(s=i[e]&&i[e][o])&&s.points[t.index+","+r])&&(s=s.total?100/s.total:0,o[0]=E(o[0]*s),o[1]=E(o[1]*s),t.stackedYData[r]=o[1])})},zt(De.prototype,{addSeries:function(t,e,i){var n,o=this;return t&&(e=Nt(e,!0),ne(o,"addSeries",{options:t},function(){n=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),e&&o.redraw(i)})),n},addAxis:function(e,i,n,o){var s=i?"xAxis":"yAxis",r=this.options;new we(this,t(e,{index:this[s].length,isX:i})),r[s]=d(r[s]||{}),r[s].push(e),Nt(n,!0)&&this.redraw(o)},showLoading:function(t){var e=this,i=e.options,n=e.loadingDiv,o=i.loading,s=function(){n&&u(n,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};n||(e.loadingDiv=n=p(Ht,{className:"highcharts-loading"},zt(o.style,{zIndex:10,display:Rt}),e.container),e.loadingSpan=p("span",null,o.labelStyle,n),ee(e,"redraw",s)),e.loadingSpan.innerHTML=t||i.lang.loading,e.loadingShown||(u(n,{opacity:0,display:""}),se(n,{opacity:o.style.opacity},{duration:o.showDuration||0}),e.loadingShown=!0),s()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&se(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){u(e,{display:Rt})}}),this.loadingShown=!1}}),zt(Ie.prototype,{update:function(t,e,i,s){function r(){l.applyOptions(t),null===l.y&&h&&(l.graphic=h.destroy()),n(t)&&!o(t)&&(l.redraw=function(){h&&(t&&t.marker&&t.marker.symbol?l.graphic=h.destroy():h.attr(l.pointAttr[l.state||""])[!1===l.visible?"hide":"show"]()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),a=l.index,c.updateParallelArrays(l,a),p&&l.name&&(p[l.x]=l.name),u.data[a]=l.options,c.isDirty=c.isDirtyData=!0,!c.fixedBox&&c.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===u.legendType&&(d.isDirtyLegend=!0),e&&d.redraw(i)}var a,l=this,c=l.series,h=l.graphic,d=c.chart,u=c.options,p=c.xAxis&&c.xAxis.names;e=Nt(e,!0);!1===s?r():l.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(Kt(this,this.series.data),t,e)}}),zt(Le.prototype,{addPoint:function(t,e,i,n){var o,s=this,r=s.options,a=s.data,l=s.graph,c=s.area,h=s.chart,d=s.xAxis&&s.xAxis.names,u=l&&l.shift||0,p=["graph","area"],f=(l=r.data,s.xData);if(P(n,h),i){for(n=s.zones.length;n--;)p.push("zoneGraph"+n,"zoneArea"+n);Qt(p,function(t){s[t]&&(s[t].shift=u+1)})}if(c&&(c.isArea=!0),e=Nt(e,!0),c={series:s},s.pointClass.prototype.applyOptions.apply(c,[t]),p=c.x,n=f.length,s.requireSorting&&p<f[n-1])for(o=!0;n&&f[n-1]>p;)n--;s.updateParallelArrays(c,"splice",n,0,0),s.updateParallelArrays(c,n),d&&c.name&&(d[p]=c.name),l.splice(n,0,t),o&&(s.data.splice(n,0,null),s.processData()),"point"===r.legendType&&s.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),s.updateParallelArrays(c,"shift"),l.shift())),s.isDirty=!0,s.isDirtyData=!0,e&&(s.getAttribs(),h.redraw())},removePoint:function(t,e,i){var n=this,o=n.data,s=o[t],r=n.points,a=n.chart,l=function(){o.length===r.length&&r.splice(t,1),o.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(s||{series:n},"splice",t,1),s&&s.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};P(i,a),e=Nt(e,!0),s?s.firePointEvent("remove",null,l):l()},remove:function(t,e){var i=this,n=i.chart;t=Nt(t,!0);i.isRemoving||(i.isRemoving=!0,ne(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},update:function(e,i){var n,o=this,s=this.chart,r=this.userOptions,a=this.type,l=jt[a].prototype,c=["group","markerGroup","dataLabelsGroup"];for(n in(e.type&&e.type!==a||void 0!==e.zIndex)&&(c.length=0),Qt(c,function(t){c[t]=o[t],delete o[t]}),e=t(r,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1),l)this[n]=L;zt(this,jt[e.type||a].prototype),Qt(c,function(t){o[t]=c[t]}),this.init(s,e),s.linkSeries(),Nt(i,!0)&&s.redraw(!1)}}),zt(we.prototype,{update:function(e,i){var n=this.chart;e=n.options[this.coll][this.options.index]=t(this.userOptions,e);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=L,this.init(n,zt(e,{events:L})),n.isDirtyBox=!0,Nt(i,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,o=n.length;o--;)n[o]&&n[o].remove(!1);l(e.axes,this),l(e[i],this),e.options[i].splice(this.options.index,1),Qt(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,Nt(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var Oe=f(Le);jt.line=Oe,ae.area=t(le,{threshold:0});var He=f(Le,{type:"area",getSegments:function(){var t,e,i,n,o=this,s=[],r=[],a=[],l=this.xAxis,c=this.yAxis,h=c.stacks[this.stackKey],d={},u=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<u.length;i++)d[u[i].x]=u[i];for(n in h)null!==h[n].total&&a.push(+n);a.sort(function(t,e){return t-e}),Qt(a,function(n){var s,a=0;if(!p||d[n]&&null!==d[n].y)if(d[n])r.push(d[n]);else{for(i=o.index;i<=c.series.length;i++)if(s=h[n].points[i+","+n]){a=s[1];break}t=l.translate(n),e=c.toPixels(a,!0),r.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:It})}}),r.length&&s.push(r)}else Le.prototype.getSegments.call(this),s=this.segments;this.segments=s},getSegmentPath:function(t){var e,i=Le.prototype.getSegmentPath.call(this,t),n=[].concat(i),o=this.options;e=i.length;var s,r=this.yAxis.getThreshold(o.threshold);if(3===e&&n.push("L",i[1],i[2]),o.stacking&&!this.closedStacks)for(e=t.length-1;0<=e;e--)s=Nt(t[e].yBottom,r),e<t.length-1&&o.step&&n.push(t[e+1].plotX,s),n.push(t[e].plotX,s);else this.closeSegment(n,t,r);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e,i){t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Le.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=[["area",this.color,i.fillColor]];Qt(this.zones,function(e,o){n.push(["zoneArea"+o,e.color||t.color,e.fillColor||i.fillColor])}),Qt(n,function(n){var o=n[0],s=t[o];s?s.animate({d:e}):t[o]=t.chart.renderer.path(e).attr({fill:Nt(n[2],ue(n[1]).setOpacity(Nt(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:Me.drawRectangle});jt.area=He,ae.spline=t(le);var Re=f(Le,{type:"spline",getPointSpline:function(t,e,i){var n,o,s,r,a,l=e.plotX,c=e.plotY,h=t[i-1],d=t[i+1];h&&d&&(t=h.plotY,s=d.plotX,r=(1.5*c+(d=d.plotY))/2.5,r+=a=(r-(o=(1.5*c+t)/2.5))*((s=(1.5*l+s)/2.5)-l)/(s-(n=(1.5*l+h.plotX)/2.5))+c-r,(o+=a)>t&&o>c?r=2*c-(o=pt(t,c)):o<t&&o<c&&(r=2*c-(o=ft(t,c))),r>d&&r>c?o=2*c-(r=pt(d,c)):r<d&&r<c&&(o=2*c-(r=ft(d,c))),e.rightContX=s,e.rightContY=r);return i?(e=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,n||l,o||c,l,c],h.rightContX=h.rightContY=null):e=["M",l,c],e}});jt.spline=Re,ae.areaspline=t(ae.area);var Fe=He.prototype,We=f(Re,{type:"areaspline",closedStacks:!0,getSegmentPath:Fe.getSegmentPath,closeSegment:Fe.closeSegment,drawGraph:Fe.drawGraph,drawLegendSymbol:Me.drawRectangle});jt.areaspline=We,ae.column=t(le,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});var Be=f(Le,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Le.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Qt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,o=i.xAxis,s=i.yAxis,r=o.reversed,a={},l=0;!1===n.grouping?l=1:Qt(i.chart.series,function(n){var o=n.options,r=n.yAxis;n.type===i.type&&n.visible&&s.len===r.len&&s.pos===r.pos&&(o.stacking?(t=n.stackKey,a[t]===L&&(a[t]=l++),e=a[t]):!1!==o.grouping&&(e=l++),n.columnIndex=e)});var h=(o=ft(gt(o.transA)*(o.ordinalSlope||n.pointRange||o.closestPointRange||o.tickInterval||1),o.len))*n.groupPadding,d=(o-2*h)/l,u=(n=c(u=n.pointWidth)?(d-u)/2:d*n.pointPadding,Nt(u,d-2*n));return i.columnMetrics={width:u,offset:n+(h+((r?l-(i.columnIndex||0):i.columnIndex)||0)*d-o/2)*(r?-1:1)}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=Nt(i.borderWidth,2>t.closestPointRange*t.xAxis.transA?0:1),o=t.yAxis,s=t.translatedThreshold=o.getThreshold(i.threshold),r=Nt(i.minPointLength,5),a=t.getColumnMetrics(),l=a.width,c=t.barW=pt(l,1+2*n),h=t.pointXOffset=a.offset,d=-(n%2?.5:0),u=n%2?.5:1;e.inverted&&(s-=.5,e.renderer.isVML&&(u+=1)),i.pointPadding&&(c=ut(c)),Le.prototype.translate.apply(t),Qt(t.points,function(i){var n,a,p=Nt(i.yBottom,s),f=999+gt(p),g=(f=ft(pt(-f,i.plotY),o.len+f),i.plotX+h),m=c,v=ft(f,p);n=pt(f,p)-v,gt(n)<r&&r&&(n=r,a=!o.reversed&&!i.negative||o.reversed&&i.negative,v=ht(gt(v-s)>r?p-r:s-(a?r:0))),i.barX=g,i.pointWidth=l,m=ht(g+m)+d,m-=g=ht(g)+d,p=.5>gt(v),n=ft(ht(v+n)+u,9e4),n-=v=ht(v)+u,p&&(v-=1,n+=1),i.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-f,t.xAxis.len-g-m/2,n]:[g+m/2,f+o.pos-e.plotTop,n],i.shapeType="rect",i.shapeArgs={x:g,y:v,width:m,height:n}})},getSymbol:It,drawLegendSymbol:Me.drawRectangle,drawGraph:It,drawPoints:function(){var e,i,n=this,o=this.chart,s=n.options,r=o.renderer,a=s.animationLimit||250;Qt(n.points,function(l){var h=l.plotY,d=l.graphic;h===L||isNaN(h)||null===l.y?d&&(l.graphic=d.destroy()):(e=l.shapeArgs,h=c(n.borderWidth)?{"stroke-width":n.borderWidth}:{},i=l.pointAttr[l.selected?"select":""]||n.pointAttr[""],d?(re(d),d.attr(h)[o.pointCount<a?"animate":"attr"](t(e))):l.graphic=r[l.shapeType](e).attr(h).attr(i).add(n.group).shadow(s.shadow,null,s.stacking&&!s.borderRadius))})},animate:function(t){var e=this.yAxis,i=this.options,n=this.chart.inverted,o={};_t&&(t?(o.scaleY=.001,t=ft(e.pos+e.len,pt(e.pos,e.toPixels(i.threshold))),n?o.translateX=t-e.len:o.translateY=t,this.group.attr(o)):(o.scaleY=1,o[n?"translateX":"translateY"]=e.pos,this.group.animate(o,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Qt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Le.prototype.remove.apply(t,arguments)}});jt.column=Be,ae.bar=t(ae.column);var je=f(Be,{type:"bar",inverted:!0});jt.bar=je,ae.scatter=t(le,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}"></span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var ze=f(Le,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Le.prototype.drawGraph.call(this)}});jt.scatter=ze,ae.pie=t(le,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Ne={type:"pie",isCartesian:!1,pointClass:f(Ie,{init:function(){Ie.prototype.init.apply(this,arguments);var t,e=this;return zt(e,{visible:!1!==e.visible,name:Nt(e.name,"Slice")}),t=function(t){e.slice("select"===t.type)},ee(e,"select",t),ee(e,"unselect",t),e},setVisible:function(t,e){var i=this,n=i.series,o=n.chart,s=n.options.ignoreHiddenPoint;e=Nt(e,s);t!==i.visible&&(i.visible=i.options.visible=t=t===L?!i.visible:t,n.options.data[Kt(i,n.data)]=i.options,Qt(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&o.legend.colorizeItem(i,t),!t&&"hover"===i.state&&i.setState(""),s&&(n.isDirty=!0),e&&o.redraw())},slice:function(t,e,i){var n=this.series;P(i,n.chart),Nt(e,!0),this.sliced=this.options.sliced=t=c(t)?t:!this.sliced,n.options.data[Kt(this,n.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:It,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(Qt(i,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},setData:function(t,e,i,n){Le.prototype.setData.call(this,t,!1,i,n),this.processData(),this.generatePoints(),Nt(e,!0)&&this.chart.redraw(i)},updateTotals:function(){var t,e,i=0,n=this.points,o=n.length,s=this.options.ignoreHiddenPoint;for(t=0;t<o;t++)e=n[t],i+=s&&!e.visible?0:e.y;for(this.total=i,t=0;t<o;t++)(e=n[t]).percentage=0<i&&(e.visible||!s)?e.y/i*100:0,e.total=i},generatePoints:function(){Le.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,o,s,r=0,a=(p=this.options).slicedOffset,l=a+p.borderWidth,c=p.startAngle||0,h=this.startAngleRad=yt/180*(c-90),d=(c=(this.endAngleRad=yt/180*(Nt(p.endAngle,c+360)-90))-h,this.points),u=p.dataLabels.distance,p=p.ignoreHiddenPoint,f=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=ct.asin(ft((e-t[1])/(t[2]/2+u),1)),t[0]+(i?-1:1)*mt(n)*(t[2]/2+u)},o=0;o<f;o++)s=d[o],e=h+r*c,p&&!s.visible||(r+=s.percentage/100),i=h+r*c,s.shapeType="arc",s.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:ht(1e3*e)/1e3,end:ht(1e3*i)/1e3},(n=(i+e)/2)>1.5*yt?n-=2*yt:n<-yt/2&&(n+=2*yt),s.slicedTranslation={translateX:ht(mt(n)*a),translateY:ht(vt(n)*a)},e=mt(n)*t[2]/2,i=vt(n)*t[2]/2,s.tooltipPos=[t[0]+.7*e,t[1]+.7*i],s.half=n<-yt/2||n>yt/2?1:0,s.angle=n,l=ft(l,u/2),s.labelPos=[t[0]+e+mt(n)*u,t[1]+i+vt(n)*u,t[0]+e+mt(n)*l,t[1]+i+vt(n)*l,t[0]+e,t[1]+i,0>u?"center":s.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,o,s=this,r=s.chart.renderer,a=s.options.shadow;a&&!s.shadowGroup&&(s.shadowGroup=r.g("shadow").add(s.group)),Qt(s.points,function(l){e=l.graphic,n=l.shapeArgs,i=l.shadowGroup,a&&!i&&(i=l.shadowGroup=r.g("shadow").add(s.shadowGroup)),t=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),e?e.animate(zt(n,t)):(o={"stroke-linejoin":"round"},l.visible||(o.visibility="hidden"),l.graphic=e=r[l.shapeType](n).setRadialReference(s.center).attr(l.pointAttr[l.selected?"select":""]).attr(o).attr(t).add(s.group).shadow(a,i))})},searchPoint:It,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:Me.drawRectangle,getCenter:$e.getCenter,getSymbol:It};Ne=f(Le,Ne);jt.pie=Ne,Le.prototype.drawDataLabels=function(){var e,i,n,o,s=this,r=s.options,a=r.cursor,l=r.dataLabels,h=s.points,d=s.hasRendered||0,u=s.chart.renderer;(l.enabled||s._hasPointLabels)&&(s.dlProcessOptions&&s.dlProcessOptions(l),o=s.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),Nt(l.defer,!0)&&(o.attr({opacity:+d}),d||ee(s,"afterAnimate",function(){s.visible&&o.show(),o[r.animation?"animate":"attr"]({opacity:1},{duration:200})})),i=l,Qt(h,function(h){var d,p,f,g,m=h.dataLabel,y=h.connector,b=!0,x={};if(e=h.dlOptions||h.options&&h.options.dataLabels,d=Nt(e&&e.enabled,i.enabled),m&&!d)h.dataLabel=m.destroy();else if(d){if(g=(l=t(i,e)).style,d=l.rotation,p=h.getLabelConfig(),n=l.format?v(l.format,p):l.formatter.call(p,l),g.color=Nt(l.color,g.color,s.color,"black"),m)c(n)?(m.attr({text:n}),b=!1):(h.dataLabel=m=m.destroy(),y&&(h.connector=y.destroy()));else if(c(n)){for(f in m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:d,padding:l.padding,zIndex:1},"contrast"===g.color&&(x.color=l.inside||0>l.distance||r.stacking?u.getContrast(h.color||s.color):"#000000"),a&&(x.cursor=a),m)m[f]===L&&delete m[f];m=h.dataLabel=u[d?"text":"label"](n,0,-999,l.shape,null,null,l.useHTML).attr(m).css(zt(g,x)).add(o).shadow(l.shadow)}m&&s.alignDataLabel(h,m,l,null,b)}}))},Le.prototype.alignDataLabel=function(t,e,i,n,o){var s=this.chart,r=s.inverted,a=Nt(t.plotX,-999),l=Nt(t.plotY,-999),c=e.getBBox(),h=s.renderer.fontMetrics(i.style.fontSize).b,d=this.visible&&(t.series.forceDL||s.isInsidePlot(a,ht(l),r)||n&&s.isInsidePlot(a,r?n.x+1:n.y+n.height-1,r));d&&(n=zt({x:r?s.plotWidth-l:a,y:ht(r?s.plotHeight-a:l),width:0,height:0},n),zt(i,{width:c.width,height:c.height}),i.rotation?(t=s.renderer.rotCorr(h,i.rotation),e[o?"attr":"animate"]({x:n.x+i.x+n.width/2+t.x,y:n.y+i.y+n.height/2}).attr({align:i.align})):(e.align(i,null,n),r=e.alignAttr,"justify"===Nt(i.overflow,"justify")?this.justifyDataLabel(e,i,r,c,n,o):Nt(i.crop,!0)&&(d=s.isInsidePlot(r.x,r.y)&&s.isInsidePlot(r.x+c.width,r.y+c.height)),i.shape&&e.attr({anchorX:t.plotX,anchorY:t.plotY}))),d||(e.attr({y:-999}),e.placed=!1)},Le.prototype.justifyDataLabel=function(t,e,i,n,o,s){var r,a,l=this.chart,c=e.align,h=e.verticalAlign,d=t.box?0:t.padding||0;0>(r=i.x+d)&&("right"===c?e.align="left":e.x=-r,a=!0),(r=i.x+n.width-d)>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-r,a=!0),0>(r=i.y+d)&&("bottom"===h?e.verticalAlign="top":e.y=-r,a=!0),(r=i.y+n.height-d)>l.plotHeight&&("top"===h?e.verticalAlign="bottom":e.y=l.plotHeight-r,a=!0),a&&(t.placed=!s,t.align(e,null,o))},jt.pie&&(jt.pie.prototype.drawDataLabels=function(){var t,e,i,n,o,s,r,a,l,c,h,d=this,u=d.data,p=d.chart,f=d.options.dataLabels,g=Nt(f.connectorPadding,10),m=Nt(f.connectorWidth,1),v=p.plotWidth,y=p.plotHeight,b=Nt(f.softConnector,!0),x=f.distance,w=d.center,C=w[2]/2,T=w[1],S=0<x,E=[[],[]],P=[0,0,0,0],_=function(t,e){return e.y-t.y};if(d.visible&&(f.enabled||d._hasPointLabels)){for(Le.prototype.drawDataLabels.apply(d),Qt(u,function(t){t.dataLabel&&t.visible&&E[t.half].push(t)}),c=2;c--;){var A,M=[],D=[],$=E[c],I=$.length;if(I){for(d.sortByAngle($,c-.5),h=u=0;!u&&$[h];)u=$[h]&&$[h].dataLabel&&($[h].dataLabel.getBBox().height||21),h++;if(0<x){for(o=ft(T+C+x,p.plotHeight),h=pt(0,T-C-x);h<=o;h+=u)M.push(h);if(I>(o=M.length)){for((t=[].concat($)).sort(_),h=I;h--;)t[h].rank=h;for(h=I;h--;)$[h].rank>=o&&$.splice(h,1);I=$.length}for(h=0;h<I;h++){var L,O;for(t=$[h],s=t.labelPos,t=9999,O=0;O<o;O++)(L=gt(M[O]-s[1]))<t&&(t=L,A=O);if(A<h&&null!==M[h])A=h;else for(o<I-h+A&&null!==M[h]&&(A=o-I+h);null===M[A];)A++;D.push({i:A,y:M[A]}),M[A]=null}D.sort(_)}for(h=0;h<I;h++)t=$[h],s=t.labelPos,n=t.dataLabel,l=!1===t.visible?"hidden":"inherit",t=s[1],0<x?(A=(o=D.pop()).i,(t>(a=o.y)&&null!==M[A+1]||t<a&&null!==M[A-1])&&(a=ft(pt(0,t),p.plotHeight))):a=t,r=f.justify?w[0]+(c?-1:1)*(C+x):d.getX(a===T-C-x||a===T+C+x?t:a,c),n._attr={visibility:l,align:s[6]},n._pos={x:r+f.x+({left:g,right:-g}[s[6]]||0),y:a+f.y-10},n.connX=r,n.connY=a,null===this.options.size&&(o=n.width,r-o<g?P[3]=pt(ht(o-r+g),P[3]):r+o>v-g&&(P[1]=pt(ht(r+o-v+g),P[1])),0>a-u/2?P[0]=pt(ht(u/2-a),P[0]):a+u/2>y&&(P[2]=pt(ht(a+u/2-y),P[2])))}}(0===k(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),S&&m&&Qt(this.points,function(t){e=t.connector,s=t.labelPos,(n=t.dataLabel)&&n._pos&&t.visible?(l=n._attr.visibility,r=n.connX,a=n.connY,i=b?["M",r+("left"===s[6]?5:-5),a,"C",r,a,2*s[2]-s[4],2*s[3]-s[5],s[2],s[3],"L",s[4],s[5]]:["M",r+("left"===s[6]?5:-5),a,"L",s[2],s[3],"L",s[4],s[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=d.chart.renderer.path(i).attr({"stroke-width":m,stroke:f.connectorColor||t.color||"#606060",visibility:l}).add(d.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},jt.pie.prototype.placeDataLabels=function(){Qt(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},jt.pie.prototype.alignDataLabel=It,jt.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,o=n.center,s=n.minSize||80,r=s;return null!==o[0]?r=pt(i[2]-pt(t[1],t[3]),s):(r=pt(i[2]-t[1]-t[3],s),i[0]+=(t[3]-t[1])/2),null!==o[1]?r=pt(ft(r,i[2]-pt(t[0],t[2])),s):(r=pt(ft(r,i[2]-t[0]-t[2]),s),i[1]+=(t[0]-t[2])/2),r<i[2]?(i[2]=r,i[3]=/%$/.test(n.innerSize||0)?r*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),this.translate(i),Qt(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),jt.column&&(jt.column.prototype.alignDataLabel=function(e,i,n,o,s){var r=this.chart.inverted,a=e.series,l=e.dlBox||e.shapeArgs,c=Nt(e.below,e.plotY>Nt(this.translatedThreshold,a.yAxis.len)),h=Nt(n.inside,!!this.options.stacking);l&&(o=t(l),r&&(o={x:a.yAxis.len-o.y-o.height,y:a.xAxis.len-o.x-o.width,width:o.height,height:o.width}),h||(r?(o.x+=c?0:o.width,o.width=0):(o.y+=c?o.height:0,o.height=0))),n.align=Nt(n.align,!r||h?"center":c?"right":"left"),n.verticalAlign=Nt(n.verticalAlign,r||h?"middle":c?"top":"bottom"),Le.prototype.alignDataLabel.call(this,e,i,n,o,s)});var Ve=rt.Chart,Ge=rt.each,Ye=rt.pick,Xe=HighchartsAdapter.addEvent;Ve.prototype.callbacks.push(function(t){function e(){var e=[];Ge(t.series,function(t){var i=t.options.dataLabels;(i.enabled||t._hasPointLabels)&&!i.allowOverlap&&t.visible&&Ge(t.points,function(t){t.dataLabel&&(t.dataLabel.labelrank=Ye(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t.dataLabel))})}),t.hideOverlappingLabels(e)}e(),Xe(t,"redraw",e)}),Ve.prototype.hideOverlappingLabels=function(t){var e,i,n,o,s=t.length;for(i=0;i<s;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return e.labelrank-t.labelrank}),i=0;i<s;i++)for(n=t[i],e=i+1;e<s;++e)o=t[e],n&&o&&n.placed&&o.placed&&0!==n.newOpacity&&0!==o.newOpacity&&!(o.alignAttr.x>n.alignAttr.x+n.width||o.alignAttr.x+o.width<n.alignAttr.x||o.alignAttr.y>n.alignAttr.y+n.height||o.alignAttr.y+o.height<n.alignAttr.y)&&((n.labelrank<o.labelrank?n:o).newOpacity=0);for(i=0;i<s;i++)(e=t[i])&&(e.oldOpacity!==e.newOpacity&&e.placed&&(e.alignAttr.opacity=e.newOpacity,e[e.isOld&&e.newOpacity?"animate":"attr"](e.alignAttr)),e.isOld=!0)};var Ue=rt.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,o=n&&{cursor:n},s=function(t){for(var i,n=t.target;n&&!i;)i=n.point,n=n.parentNode;i!==L&&i!==e.hoverPoint&&i.onMouseOver(t)};Qt(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Qt(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(o),H)&&t[e].on("touchstart",s)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,o=[].concat(n?e.areaPath:e.graphPath),s=o.length,r=e.chart,a=r.pointer,l=r.renderer,c=r.options.tooltip.snap,h=e.tracker,d=(u=i.cursor)&&{cursor:u},u=e.singlePoints,p=function(){r.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(_t?1e-4:.002)+")";if(s&&!n)for(t=s+1;t--;)"M"===o[t]&&o.splice(t+1,0,o[t+1]-c,o[t+2],"L"),(t&&"M"===o[t]||t===s)&&o.splice(t,0,"L",o[t-2]+c,o[t-1]);for(t=0;t<u.length;t++)s=u[t],o.push("M",s.plotX-c,s.plotY,"L",s.plotX+c,s.plotY);h?h.attr({d:o}):(e.tracker=l.path(o).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:n?f:Rt,"stroke-width":i.lineWidth+(n?0:2*c),zIndex:2}).add(e.group),Qt([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(d),H&&t.on("touchstart",p)}))}};jt.column&&(Be.prototype.drawTracker=Ue.drawTrackerPoint),jt.pie&&(jt.pie.prototype.drawTracker=Ue.drawTrackerPoint),jt.scatter&&(ze.prototype.drawTracker=Ue.drawTrackerPoint),zt(Ae.prototype,{setItemEvents:function(t,e,i,n,o){var s=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),e.css(s.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:o),t.setState()}).on("click",function(e){var i=function(){t.setVisible()};e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):ne(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=p("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),ee(t.checkbox,"click",function(e){ne(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),F.legend.itemStyle.cursor="pointer",zt(De.prototype,{showResetZoom:function(){var t=this,e=F.lang,i=t.options.chart.resetZoomButton,n=i.theme,o=n.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,s)},zoomOut:function(){var t=this;ne(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,o=this.pointer,s=!1;!t||t.resetSelection?Qt(this.axes,function(t){e=t.zoom()}):Qt(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;(o[n?"zoomX":"zoomY"]||o[n?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(s=!0))}),i=this.resetZoomButton,s&&!i?this.showResetZoom():!s&&n(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(Nt(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,n=this,o=n.hoverPoints;o&&Qt(o,function(t){t.setState()}),Qt("xy"===e?[1,0]:[1],function(e){var o=t[e?"chartX":"chartY"],s=n[e?"xAxis":"yAxis"][0],r=n[e?"mouseDownX":"mouseDownY"],a=(s.pointRange||0)/2,l=s.getExtremes(),c=s.toValue(r-o,!0)+a;a=s.toValue(r+n[e?"plotWidth":"plotHeight"]-o,!0)-a,r=r>o;s.series.length&&(r||c>ft(l.dataMin,l.min))&&(!r||a<pt(l.dataMax,l.max))&&(s.setExtremes(c,a,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=o}),i&&n.redraw(!1),u(n.container,{cursor:"move"})}}),zt(Ie.prototype,{select:function(t,e){var i=this,n=i.series,o=n.chart;t=Nt(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[Kt(i,n.data)]=i.options,i.setState(t&&"select"),e||Qt(o.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[Kt(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series,i=e.chart,n=i.tooltip,o=i.hoverPoint;i.hoverSeries!==e&&e.onMouseOver(),o&&o!==this&&o.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),n&&(!n.shared||e.noSharedTooltip)&&n.refresh(this,t),this.setState("hover"),i.hoverPoint=this)},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==Kt(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,i=t(this.series.options.point,this.options).events;for(e in this.events=i,i)ee(this,e,i[e]);this.hasImportedEvents=!0}},setState:function(e,i){var n,o=this.plotX,s=this.plotY,r=this.series,a=r.options.states,l=ae[r.type].marker&&r.options.marker,c=l&&!l.enabled,h=l&&l.states[e],d=h&&!1===h.enabled,u=r.stateMarkerGraphic,p=this.marker||{},f=r.chart,g=r.halo;e=e||"";n=this.pointAttr[e]||r.pointAttr[e],e===this.state&&!i||this.selected&&"select"!==e||a[e]&&!1===a[e].enabled||e&&(d||c&&!1===h.enabled)||e&&p.states&&p.states[e]&&!1===p.states[e].enabled||(this.graphic?(l=l&&this.graphic.symbolName&&n.r,this.graphic.attr(t(n,l?{x:o-l,y:s-l,width:2*l,height:2*l}:{})),u&&u.hide()):(e&&h&&(l=h.radius,p=p.symbol||r.symbol,u&&u.currentSymbol!==p&&(u=u.destroy()),u?u[i?"animate":"attr"]({x:o-l,y:s-l}):p&&(r.stateMarkerGraphic=u=f.renderer.symbol(p,o-l,s-l,2*l,2*l).attr(n).add(r.markerGroup),u.currentSymbol=p)),u&&(u[e&&f.isInsidePlot(o,s,f.inverted)?"show":"hide"](),u.element.point=this)),(o=a[e]&&a[e].halo)&&o.size?(g||(r.halo=g=f.renderer.path().add(f.seriesGroup)),g.attr(zt({fill:ue(this.color||r.color).setOpacity(o.opacity).get()},o.attributes))[i?"animate":"attr"]({d:this.haloPath(o.size)})):g&&g.attr({d:[]}),this.state=e)},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),o=i.inverted;return i.renderer.symbols.circle(n.translateX+(o?e.yAxis.len-this.plotY:this.plotX)-t,n.translateY+(o?e.xAxis.len-this.plotX:this.plotY)-t,2*t,2*t)}}),zt(Le.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&ne(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&ne(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState()},setState:function(t){var e=this.options,i=this.graph,n=e.states,o=e.lineWidth;e=0,t=t||"";if(this.state!==t&&(this.state=t,(!n[t]||!1!==n[t].enabled)&&(t&&(o=n[t].lineWidth||o+(n[t].lineWidthPlus||0)),i&&!i.dashstyle)))for(t={"stroke-width":o},i.attr(t);this["zoneGraph"+e];)this["zoneGraph"+e].attr(t),e+=1},setVisible:function(t,e){var i,n=this,o=n.chart,s=n.legendItem,r=o.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.userOptions.visible=t===L?!a:t)?"show":"hide",Qt(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),o.hoverSeries!==n&&(o.hoverPoint&&o.hoverPoint.series)!==n||n.onMouseOut(),s&&o.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&Qt(o.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Qt(n.linkedSeries,function(e){e.setVisible(t,!1)}),r&&(o.isDirtyBox=!0),!1!==e&&o.redraw(),ne(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===L?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),ne(this,t?"select":"unselect")},drawTracker:Ue.drawTrackerGraph}),Vt(Le.prototype,"init",function(t){var e;t.apply(this,Array.prototype.slice.call(arguments,1)),(e=this.xAxis)&&e.options.ordinal&&ee(this,"updatedData",function(){delete e.ordinalIndex})}),Vt(we.prototype,"getTimeTicks",function(t,e,i,n,o,s,r,a){var l,h,d,u,p=0,f=0,g={},m=[],v=-Number.MAX_VALUE,y=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!s||3>s.length||i===L)return t.call(this,e,i,n,o);for(d=s.length;f<d;f++){if(u=f&&s[f-1]>n,s[f]<i&&(p=f),f===d-1||s[f+1]-s[f]>5*r||u){if(s[f]>v){for(l=t.call(this,e,s[p],s[f],o);l.length&&l[0]<=v;)l.shift();l.length&&(v=l[l.length-1]),m=m.concat(l)}p=f+1}if(u)break}if(t=l.info,a&&t.unitRange<=z.hour){for(f=m.length-1,p=1;p<f;p++)W("%d",m[p])!==W("%d",m[p-1])&&(g[m[p]]="day",h=!0);h&&(g[m[0]]="day"),t.higherRanks=g}if(m.info=t,a&&c(y)){var b;a=t=m.length,f=[];for(h=[];a--;)p=this.translate(m[a]),b&&(h[a]=b-p),f[a]=b=p;for(h.sort(),(h=h[dt(h.length/2)])<.6*y&&(h=null),a=m[t-1]>n?t-1:t,b=void 0;a--;)n=b-(p=f[a]),b&&n<.8*y&&(null===h||n<.8*h)?(g[m[a]]&&!g[m[a+1]]?(n=a+1,b=p):n=a,m.splice(n,1)):b=p}return m}),zt(we.prototype,{beforeSetTickPositions:function(){var t,e,i,n=[],o=!1,s=this.getExtremes(),r=s.min,a=s.max,l=this.isXAxis&&!!this.options.breaks;if((s=this.options.ordinal)||l){if(Qt(this.series,function(e,i){if(!1!==e.visible&&(!1!==e.takeOrdinalPosition||l)&&(n=n.concat(e.processedXData),t=n.length,n.sort(function(t,e){return t-e}),t))for(i=t-1;i--;)n[i]===n[i+1]&&n.splice(i,1)}),2<(t=n.length)){for(e=n[1]-n[0],i=t-1;i--&&!o;)n[i+1]-n[i]!==e&&(o=!0);!this.options.keepOrdinalPadding&&(n[0]-r>e||a-n[n.length-1]>e)&&(o=!0)}o?(this.ordinalPositions=n,e=this.val2lin(pt(r,n[0]),!0),i=pt(this.val2lin(ft(a,n[n.length-1]),!0),1),this.ordinalSlope=a=(a-r)/(i-e),this.ordinalOffset=r-e*a):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=L}this.doPostTranslate=s&&o||l,this.groupIntervalFactor=null},val2lin:function(t,e){var i=this.ordinalPositions;if(i){var n,o,s=i.length;for(n=s;n--;)if(i[n]===t){o=n;break}for(n=s-1;n--;)if(t>i[n]||0===n){o=n+(i=(t-i[n])/(i[n+1]-i[n]));break}return e?o:this.ordinalSlope*(o||0)+this.ordinalOffset}return t},lin2val:function(t,e){var i=this.ordinalPositions;if(i){var n,o,s=this.ordinalSlope,r=this.ordinalOffset,a=i.length-1;if(e)0>t?t=i[0]:t>a?t=i[a]:o=t-(a=dt(t));else for(;a--;)if(t>=(n=s*a+r)){o=(t-n)/((s=s*(a+1)+r)-n);break}return o!==L&&i[a]!==L?i[a]+(o?o*(i[a+1]-i[a]):0):t}return t},getExtendedPositions:function(){var t,e,i=this.chart,n=this.series[0].currentDataGrouping,o=this.ordinalIndex,s=n?n.count+n.unitName:"raw",r=this.getExtremes();return o||(o=this.ordinalIndex={}),o[s]||(t={series:[],getExtremes:function(){return{min:r.dataMin,max:r.dataMax}},options:{ordinal:!0},val2lin:we.prototype.val2lin},Qt(this.series,function(o){(e={xAxis:t,xData:o.xData,chart:i,destroyGroupedData:It}).options={dataGrouping:n?{enabled:!0,forced:!0,approximation:"open",units:[[n.unitName,[n.count]]]}:{enabled:!1}},o.processData.apply(e),t.series.push(e)}),this.beforeSetTickPositions.apply(t),o[s]=t.ordinalPositions),o[s]},getGroupIntervalFactor:function(t,e,i){var n=0,o=(i=i.processedXData).length,s=[],r=this.groupIntervalFactor;if(!r){for(;n<o-1;n++)s[n]=i[n+1]-i[n];s.sort(function(t,e){return t-e}),n=s[dt(o/2)],t=pt(t,i[0]),e=ft(e,i[o-1]),this.groupIntervalFactor=r=o*n/(e-t)}return r},postProcessTickInterval:function(t){var e=this.ordinalSlope;return e?this.options.breaks?this.closestPointRange:t/(e/this.closestPointRange):t}}),Vt(De.prototype,"pan",function(t,e){var i=this.xAxis[0],n=e.chartX,o=!1;if(i.options.ordinal&&i.series.length){var s,r=this.mouseDownX,a=i.getExtremes(),l=a.dataMax,c=a.min,h=a.max,d=this.hoverPoints,p=i.closestPointRange,f=(r=(r-n)/(i.translationSlope*(i.ordinalSlope||p)),{ordinalPositions:i.getExtendedPositions()}),g=(p=i.lin2val,i.val2lin);f.ordinalPositions?1<gt(r)&&(d&&Qt(d,function(t){t.setState()}),0>r?(d=f,s=i.ordinalPositions?i:f):(d=i.ordinalPositions?i:f,s=f),l>(f=s.ordinalPositions)[f.length-1]&&f.push(l),this.fixedRange=h-c,(r=i.toFixedRange(null,null,p.apply(d,[g.apply(d,[c,!0])+r,!0]),p.apply(s,[g.apply(s,[h,!0])+r,!0]))).min>=ft(a.dataMin,c)&&r.max<=pt(l,h)&&i.setExtremes(r.min,r.max,!0,!1,{trigger:"pan"}),this.mouseDownX=n,u(this.container,{cursor:"move"})):o=!0}else o=!0;o&&t.apply(this,Array.prototype.slice.call(arguments,1))}),Vt(Le.prototype,"getSegments",function(t){var e,i=this.options.gapSize,n=this.xAxis;t.apply(this,Array.prototype.slice.call(arguments,1)),i&&(e=this.segments,Qt(e,function(t,o){for(var s=t.length-1;s--;){if(t[s].x<n.min&&t[s+1].x>n.max){e.length=0;break}t[s+1].x-t[s].x>n.closestPointRange*i&&e.splice(o+1,0,t.splice(s+1,t.length-s))}}))});var qe=rt,Ke=qe.pick,Qe=qe.wrap,Ze=qe.extend,Je=HighchartsAdapter.fireEvent,ti=qe.Axis,ei=qe.Series;Ze(ti.prototype,{isInBreak:function(t,e){var i=t.repeat||1/0,n=t.from,o=t.to-t.from;i=e>=n?(e-n)%i:i-(n-e)%i;return t.inclusive?i<=o:i<o&&0!==i},isInAnyBreak:function(t,e){var i,n,o,s=this.options.breaks,r=s&&s.length;if(r){for(;r--;)this.isInBreak(s[r],t)&&(i=!0,n||(n=Ke(s[r].showPoints,!this.isXAxis)));o=i&&e?i&&!n:i}return o}}),Qe(ti.prototype,"setTickPositions",function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var e,i=this.tickPositions,n=this.tickPositions.info,o=[];if(!(n&&n.totalRange>=this.closestPointRange)){for(e=0;e<i.length;e++)this.isInAnyBreak(i[e])||o.push(i[e]);this.tickPositions=o,this.tickPositions.info=n}}}),Qe(ti.prototype,"init",function(t,e,i){if(i.breaks&&i.breaks.length&&(i.ordinal=!1),t.call(this,e,i),this.options.breaks){var n=this;n.doPostTranslate=!0,this.val2lin=function(t){var e,i,o=t;for(i=0;i<n.breakArray.length;i++)if((e=n.breakArray[i]).to<=t)o-=e.len;else{if(e.from>=t)break;if(n.isInBreak(e,t)){o-=t-e.from;break}}return o},this.lin2val=function(t){var e,i;for(i=0;i<n.breakArray.length&&!((e=n.breakArray[i]).from>=t);i++)e.to<t?t+=e.len:n.isInBreak(e,t)&&(t+=e.len);return t},this.setExtremes=function(t,e,i,n,o){for(;this.isInAnyBreak(t);)t-=this.closestPointRange;for(;this.isInAnyBreak(e);)e-=this.closestPointRange;ti.prototype.setExtremes.call(this,t,e,i,n,o)},this.setAxisTranslation=function(t){ti.prototype.setAxisTranslation.call(this,t);var e,i,o,s,r=n.options.breaks,a=(t=[],[]),l=0,c=n.userMin||n.min,h=n.userMax||n.max;for(s in r)e=(i=r[s]).repeat||1/0,n.isInBreak(i,c)&&(c+=i.to%e-c%e),n.isInBreak(i,h)&&(h-=h%e-i.from%e);for(s in r){for(o=(i=r[s]).from,e=i.repeat||1/0;o-e>c;)o-=e;for(;o<c;)o+=e;for(;o<h;o+=e)t.push({value:o,move:"in"}),t.push({value:o+(i.to-i.from),move:"out",size:i.breakSize})}for(s in t.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),r=0,o=c,t)1===(r+="in"===(i=t[s]).move?1:-1)&&"in"===i.move&&(o=i.value),0===r&&(a.push({from:o,to:i.value,len:i.value-o-(i.size||0)}),l+=i.value-o-(i.size||0));n.breakArray=a,Je(n,"afterBreaks"),n.transA*=(h-n.min)/(h-c-l),n.min=c,n.max=h}}}),Qe(ei.prototype,"generatePoints",function(t){t.apply(this,function(){return Array.prototype.slice.call(arguments,1)}(arguments));var e,i=this.xAxis,n=this.yAxis,o=this.points,s=o.length,r=this.options.connectNulls;if(i&&n&&(i.options.breaks||n.options.breaks))for(;s--;)null===(e=o[s]).y&&!1===r||!i.isInAnyBreak(e.x,!0)&&!n.isInAnyBreak(e.y,!0)||(o.splice(s,1),this.data[s]&&this.data[s].destroyElements())}),Qe(qe.seriesTypes.column.prototype,"drawPoints",function(t){t.apply(this);t=this.points;var e,i,n,o,s,r=this.yAxis,a=r.breakArray||[];for(n=0;n<t.length;n++)for(s=(e=t[n]).stackY||e.y,o=0;o<a.length&&!(s<(i=a[o]).from);o++)s>i.to?Je(r,"pointBreak",{point:e,brk:i}):Je(r,"pointInBreak",{point:e,brk:i})});var ii=Le.prototype,ni=Ce.prototype,oi=ii.processData,si=ii.generatePoints,ri=ii.destroy,ai=ni.tooltipFooterHeaderFormatter,li={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},ci={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},hi=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],di={sum:function(t){var e,i=t.length;if(!i&&t.hasNulls)e=null;else if(i)for(e=0;i--;)e+=t[i];return e},average:function(t){var e=t.length;return"number"==typeof(t=di.sum(t))&&e&&(t/=e),t},open:function(t){return t.length?t[0]:t.hasNulls?null:L},high:function(t){return t.length?k(t):t.hasNulls?null:L},low:function(t){return t.length?w(t):t.hasNulls?null:L},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:L},ohlc:function(t,e,i,n){if(t=di.open(t),e=di.high(e),i=di.low(i),n=di.close(n),"number"==typeof t||"number"==typeof e||"number"==typeof i||"number"==typeof n)return[t,e,i,n]},range:function(t,e){if(t=di.low(t),e=di.high(e),"number"==typeof t||"number"==typeof e)return[t,e]}};ii.groupData=function(t,e,i,n){var o,s,r,a=this.data,l=this.options.data,c=[],h=[],d=t.length,u=!!e,p=[[],[],[],[]],f=(n="function"==typeof n?n:di[n],this.pointArrayMap),g=f&&f.length;for(r=0;r<=d&&!(t[r]>=i[0]);r++);for(;r<=d;r++){for(;(i[1]!==L&&t[r]>=i[1]||r===d)&&(o=i.shift(),(s=n.apply(0,p))!==L&&(c.push(o),h.push(s)),p[0]=[],p[1]=[],p[2]=[],p[3]=[],r!==d););if(r===d)break;var m;if(f)for(o=this.cropStart+r,o=a&&a[o]||this.pointClass.prototype.applyOptions.apply({series:this},[l[o]]),s=0;s<g;s++)"number"==typeof(m=o[f[s]])?p[s].push(m):null===m&&(p[s].hasNulls=!0);else"number"==typeof(o=u?e[r]:null)?p[0].push(o):null===o&&(p[0].hasNulls=!0)}return[c,h]},ii.processData=function(){var t,e=this.chart,i=this.options,n=i.dataGrouping,o=!1!==this.allowDG&&n&&Nt(n.enabled,e.options._stock);if(this.forceCrop=o,this.groupPixelWidth=null,this.hasProcessed=!0,!1!==oi.apply(this,arguments)&&o){this.destroyGroupedData();var s=this.processedXData,r=this.processedYData,a=e.plotSizeX,l=(e=this.xAxis).options.ordinal,h=this.groupPixelWidth=e.getGroupPixelWidth&&e.getGroupPixelWidth();o=this.pointRange;if(h){t=!0,this.points=null;var d;o=(d=e.getExtremes()).min,a=h*((d=d.max)-o)/a*(l=l&&e.getGroupIntervalFactor(o,d,this)||1),h=e.getTimeTicks(e.normalizeTimeTickInterval(a,n.units||hi),o,d,e.options.startOfWeek,s,this.closestPointRange),s=(r=ii.groupData.apply(this,[s,r,h,n.approximation]))[0],r=r[1];if(n.smoothed){for(s[n=s.length-1]=d;n--&&0<n;)s[n]+=a/2;s[0]=o}this.currentDataGrouping=h.info,null===i.pointRange&&(this.pointRange=h.info.totalRange),this.closestPointRange=h.info.totalRange,c(s[0])&&s[0]<e.dataMin&&(e.min===e.dataMin&&(e.min=s[0]),e.dataMin=s[0]),this.processedXData=s,this.processedYData=r}else this.currentDataGrouping=null,this.pointRange=o;this.hasGroupedData=t}},ii.destroyGroupedData=function(){var t=this.groupedData;Qt(t||[],function(e,i){e&&(t[i]=e.destroy?e.destroy():null)}),this.groupedData=null},ii.generatePoints=function(){si.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},ni.tooltipFooterHeaderFormatter=function(t,e){var i,n=t.series,o=n.tooltipOptions,r=n.options.dataGrouping,a=o.xDateFormat,l=n.xAxis;return l&&"datetime"===l.options.type&&r&&s(t.key)?(n=n.currentDataGrouping,r=r.dateTimeLabelFormats,n?(l=r[n.unitName],1===n.count?a=l[0]:(a=l[1],i=l[2])):!a&&r&&(a=this.getXDateFormat(t,o,l)),a=W(a,t.key),i&&(a+=W(i,t.key+n.totalRange-1)),o=o[(e?"footer":"header")+"Format"].replace("{point.key}",a)):o=ai.call(this,t,e),o},ii.destroy=function(){for(var t=this.groupedData||[],e=t.length;e--;)t[e]&&t[e].destroy();ri.apply(this)},Vt(ii,"setOptions",function(e,i){var n=e.call(this,i),o=this.type,s=this.chart.options.plotOptions,r=ae[o].dataGrouping;return ci[o]&&(r||(r=t(li,ci[o])),n.dataGrouping=t(r,s.series&&s.series.dataGrouping,s[o].dataGrouping,i.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),n}),Vt(we.prototype,"setScale",function(t){t.call(this),Qt(this.series,function(t){t.hasProcessed=!1})}),we.prototype.getGroupPixelWidth=function(){var t,e,i=this.series,n=i.length,o=0,s=!1;for(t=n;t--;)(e=i[t].options.dataGrouping)&&(o=pt(o,e.groupPixelWidth));for(t=n;t--;)(e=i[t].options.dataGrouping)&&i[t].hasProcessed&&(n=(i[t].processedXData||i[t].data).length,(i[t].groupPixelWidth||n>this.chart.plotSizeX/o||n&&e.forced)&&(s=!0));return s?o:0},we.prototype.setDataGrouping=function(t,e){e=Nt(e,!0),t||(t={forced:!1,units:null}),this instanceof we?Qt(this.series,function(e){e.update({dataGrouping:t},!1)}):Qt(this.chart.options.series,function(e){e.dataGrouping=t})},ae.ohlc=t(ae.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});var ui=f(jt.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){jt.column.prototype.getAttribs.apply(this,arguments);var e=(i=this.options).states,i=i.upColor||this.color,n=t(this.pointAttr),o=this.upColorProp;n[""][o]=i,n.hover[o]=e.hover.upColor||i,n.select[o]=e.select.upColor||i,Qt(this.points,function(t){t.open<t.close&&!t.options.color&&(t.pointAttr=n)})},translate:function(){var t=this.yAxis;jt.column.prototype.translate.apply(this),Qt(this.points,function(e){null!==e.open&&(e.plotOpen=t.translate(e.open,0,1,0,1)),null!==e.close&&(e.plotClose=t.translate(e.close,0,1,0,1))})},drawPoints:function(){var t,e,i,n,o,s,r,a,l=this,c=l.chart;Qt(l.points,function(h){h.plotY!==L&&(r=h.graphic,t=h.pointAttr[h.selected?"selected":""]||l.pointAttr[""],n=t["stroke-width"]%2/2,a=ht(h.plotX)-n,o=ht(h.shapeArgs.width/2),s=["M",a,ht(h.yBottom),"L",a,ht(h.plotY)],null!==h.open&&(e=ht(h.plotOpen)+n,s.push("M",a,e,"L",a-o,e)),null!==h.close&&(i=ht(h.plotClose)+n,s.push("M",a,i,"L",a+o,i)),r?r.attr(t).animate({d:s}):h.graphic=c.renderer.path(s).attr(t).add(l.group))})},animate:null});jt.ohlc=ui,ae.candlestick=t(ae.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:ae.ohlc.tooltip,threshold:null,upColor:"white"});var pi=f(ui,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){jt.ohlc.prototype.getAttribs.apply(this,arguments);var e=this.options,i=e.states,n=e.upLineColor||e.lineColor,o=i.hover.upLineColor||n,s=i.select.upLineColor||n;Qt(this.points,function(e){e.open<e.close&&(e.lineColor&&(e.pointAttr=t(e.pointAttr),n=e.lineColor),e.pointAttr[""].stroke=n,e.pointAttr.hover.stroke=o,e.pointAttr.select.stroke=s)})},drawPoints:function(){var t,e,i,n,o,s,r,a,l,c,h,d,u=this,p=u.chart,f=u.pointAttr[""];Qt(u.points,function(g){c=g.graphic,g.plotY!==L&&(t=g.pointAttr[g.selected?"selected":""]||f,a=t["stroke-width"]%2/2,l=ht(g.plotX)-a,e=g.plotOpen,i=g.plotClose,n=ct.min(e,i),o=ct.max(e,i),d=ht(g.shapeArgs.width/2),s=ht(n)!==ht(g.plotY),r=o!==g.yBottom,n=ht(n)+a,o=ht(o)+a,h=["M",l-d,o,"L",l-d,n,"L",l+d,n,"L",l+d,o,"Z","M",l,n,"L",l,s?ht(g.plotY):n,"M",l,o,"L",l,r?ht(g.yBottom):o],c?c.attr(t).animate({d:h}):g.graphic=p.renderer.path(h).attr(t).add(u.group).shadow(u.options.shadow))})}});jt.candlestick=pi;var fi=ve.prototype.symbols;ae.flags=t(ae.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),jt.flags=f(jt.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:Le.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){jt.column.prototype.translate.apply(this);var t,e,i,n,o,s=this.chart,r=this.points,a=r.length-1,l=(t=(l=this.options.onSeries)&&s.get(l))&&t.options.step,c=t&&t.points,h=c&&c.length,d=this.xAxis,u=d.getExtremes();if(t&&t.visible&&h)for(t=t.currentDataGrouping,n=c[h-1].x+(t?t.totalRange:0),r.sort(function(t,e){return t.x-e.x});h--&&r[a]&&(t=r[a],!((i=c[h]).x<=t.x&&i.plotY!==L&&(t.x<=n&&(t.plotY=i.plotY,i.x<t.x&&!l&&(o=c[h+1])&&o.plotY!==L)&&(t.plotY+=(t.x-i.x)/(o.x-i.x)*(o.plotY-i.plotY)),h++,0>--a))););Qt(r,function(t,i){var n;t.plotY===L&&(t.x>=u.min&&t.x<=u.max?t.plotY=s.chartHeight-d.bottom-(d.opposite?d.height:0)+d.offset-s.plotTop:t.shapeArgs={}),(e=r[i-1])&&e.plotX===t.plotX&&(e.stackIndex===L&&(e.stackIndex=0),n=e.stackIndex+1),t.stackIndex=n})},drawPoints:function(){var e,i,n,o,s,r,a,l,c,h=this.pointAttr[""],d=this.points,u=this.chart.renderer,p=this.options,f=p.y;for(s=d.length;s--;)e=(r=d[s]).plotX>this.xAxis.len,i=r.plotX-Nt(r.lineWidth,p.lineWidth)%2,a=r.stackIndex,o=r.options.shape||p.shape,(n=r.plotY)!==L&&(n=r.plotY+f-(a!==L&&a*p.stackDistance)),l=a?L:r.plotX,c=a?L:r.plotY,a=r.graphic,n!==L&&0<=i&&!e?(e=r.pointAttr[r.selected?"select":""]||h,a?a.attr({x:i,y:n,r:e.r,anchorX:l,anchorY:c}):r.graphic=u.label(r.options.title||p.title||"A",i,n,o,l,c,p.useHTML).css(t(p.style,r.style)).attr(e).attr({align:"flag"===o?"left":"center",width:p.width,height:p.height}).add(this.markerGroup).shadow(p.shadow),r.tooltipPos=[i,n]):a&&(r.graphic=a.destroy())},drawTracker:function(){var t=this.points;Ue.drawTrackerPoint.apply(this),Qt(t,function(e){var i=e.graphic;i&&ee(i.element,"mouseover",function(){0<e.stackIndex&&!e.raised&&(e._y=i.y,i.attr({y:e._y-8}),e.raised=!0),Qt(t,function(t){t!==e&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:It,buildKDTree:It,setClip:It}),fi.flag=function(t,e,i,n,o){return["M",o&&o.anchorX||t,o&&o.anchorY||e,"L",t,e+n,t,e,t+i,e,t+i,e+n,t,e+n,"Z"]},Qt(["circle","square"],function(t){fi[t+"pin"]=function(e,i,n,o,s){var r=s&&s.anchorX;s=s&&s.anchorY;return"circle"===t&&o>n&&(e-=ht((o-n)/2),n=o),e=fi[t](e,i,n,o),r&&s&&e.push("M",r,i>s?i:i+o,"L",r,s),e}}),O===rt.VMLRenderer&&Qt(["flag","circlepin","squarepin"],function(t){pe.prototype.symbols[t]=fi[t]});var gi=[].concat(hi),mi=function(t){var e=Zt(arguments,function(t){return"number"==typeof t});if(e.length)return Math[t].apply(0,e)};gi[4]=["day",[1,2,3,4]],gi[5]=["week",[1,2,3]],zt(F,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:jt.areaspline===L?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:gi},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:Et?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:_t&&!Et}}),$.prototype={drawHandle:function(t,e){var i,n=this.chart,o=n.renderer,s=this.elementsToDestroy,r=this.handles,a={fill:(a=this.navigatorOptions.handles).backgroundColor,stroke:a.borderColor,"stroke-width":1};this.rendered||(r[e]=o.g("navigator-handle-"+["left","right"][e]).css({cursor:"ew-resize"}).attr({zIndex:4-e}).add(),i=o.rect(-4.5,0,9,16,0,1).attr(a).add(r[e]),s.push(i),i=o.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(a).add(r[e]),s.push(i)),r[e][n.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(t,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(t){var e,i=this.chart.renderer,n=this.elementsToDestroy,o=this.scrollbarButtons,s=this.scrollbarHeight,r=this.scrollbarOptions;this.rendered||(o[t]=i.g().add(this.scrollbarGroup),e=i.rect(-.5,-.5,s+1,s+1,r.buttonBorderRadius,r.buttonBorderWidth).attr({stroke:r.buttonBorderColor,"stroke-width":r.buttonBorderWidth,fill:r.buttonBackgroundColor}).add(o[t]),n.push(e),e=i.path(["M",s/2+(t?-1:1),s/2-3,"L",s/2+(t?-1:1),s/2+3,s/2+(t?2:-2),s/2]).attr({fill:r.buttonArrowColor}).add(o[t]),n.push(e)),t&&o[t].attr({translateX:this.scrollerWidth-s})},render:function(t,e,i,n){var o,s,r,a,l,h=this.chart,d=h.renderer,u=this.scrollbarGroup,p=this.navigatorGroup,f=this.scrollbar,g=(p=this.xAxis,this.scrollbarTrack),m=this.scrollbarHeight,v=this.scrollbarEnabled,y=this.navigatorOptions,b=this.scrollbarOptions,x=b.minWidth,w=this.height,k=this.top,C=this.navigatorEnabled,T=y.outlineWidth,S=T/2,E=0,P=this.outlineHeight,_=b.barBorderRadius,A=b.barBorderWidth,M=k+S;c(t)&&!isNaN(t)&&(this.navigatorLeft=o=Nt(p.left,h.plotLeft+m),this.navigatorWidth=s=Nt(p.len,h.plotWidth-2*m),this.scrollerLeft=r=o-m,this.scrollerWidth=a=a=s+2*m,p.getExtremes&&(l=this.getUnionExtremes(!0))&&(l.dataMin!==p.min||l.dataMax!==p.max)&&p.setExtremes(l.dataMin,l.dataMax,!0,!1),i=Nt(i,p.translate(t)),n=Nt(n,p.translate(e)),(isNaN(i)||1/0===gt(i))&&(i=0,n=a),p.translate(n,!0)-p.translate(i,!0)<h.xAxis[0].minRange||(this.zoomedMax=ft(pt(i,n),s),this.zoomedMin=pt(this.fixedWidth?this.zoomedMax-this.fixedWidth:ft(i,n),0),this.range=this.zoomedMax-this.zoomedMin,t=(i=ht(this.zoomedMax))-(e=ht(this.zoomedMin)),this.rendered||(C&&(this.navigatorGroup=p=d.g("navigator").attr({zIndex:3}).add(),this.leftShade=d.rect().attr({fill:y.maskFill}).add(p),y.maskInside?this.leftShade.css({cursor:"ew-resize "}):this.rightShade=d.rect().attr({fill:y.maskFill}).add(p),this.outline=d.path().attr({"stroke-width":T,stroke:y.outlineColor}).add(p)),v&&(this.scrollbarGroup=u=d.g("scrollbar").add(),f=b.trackBorderWidth,this.scrollbarTrack=g=d.rect().attr({x:0,y:-f%2/2,fill:b.trackBackgroundColor,stroke:b.trackBorderColor,"stroke-width":f,r:b.trackBorderRadius||0,height:m}).add(u),this.scrollbar=f=d.rect().attr({y:-A%2/2,height:m,fill:b.barBackgroundColor,stroke:b.barBorderColor,"stroke-width":A,r:_}).add(u),this.scrollbarRifles=d.path().attr({stroke:b.rifleColor,"stroke-width":1}).add(u))),h=h.isResizing?"animate":"attr",C&&(this.leftShade[h](y.maskInside?{x:o+e,y:k,width:i-e,height:w}:{x:o,y:k,width:e,height:w}),this.rightShade&&this.rightShade[h]({x:o+i,y:k,width:s-i,height:w}),this.outline[h]({d:["M",r,M,"L",o+e-S,M,o+e-S,M+P,"L",o+i-S,M+P,"L",o+i-S,M,r+a,M].concat(y.maskInside?["M",o+e+S,M,"L",o+i-S,M]:[])}),this.drawHandle(e+S,0),this.drawHandle(i+S,1)),v&&u&&(this.drawScrollbarButton(0),this.drawScrollbarButton(1),u[h]({translateX:r,translateY:ht(M+w)}),g[h]({width:a}),o=m+e,(s=t-A)<x&&(E=(x-s)/2,s=x,o-=E),this.scrollbarPad=E,f[h]({x:dt(o)+A%2/2,width:s}),x=m+e+t/2-.5,this.scrollbarRifles.attr({visibility:12<t?"visible":"hidden"})[h]({d:["M",x-3,m/4,"L",x-3,2*m/3,"M",x,m/4,"L",x,2*m/3,"M",x+3,m/4,"L",x+3,2*m/3]})),this.scrollbarPad=E,this.rendered=!0))},addEvents:function(){var t,e=this.chart.container,i=this.mouseDownHandler,n=this.mouseMoveHandler,o=this.mouseUpHandler;t=[[e,"mousedown",i],[e,"mousemove",n],[document,"mouseup",o]],H&&t.push([e,"touchstart",i],[e,"touchmove",n],[document,"touchend",o]),Qt(t,function(t){ee.apply(null,t)}),this._events=t},removeEvents:function(){Qt(this._events,function(t){ie.apply(null,t)}),this._events=L,this.navigatorEnabled&&this.baseSeries&&ie(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var e,i,n,o,s=this,r=s.chart,a=s.scrollbarHeight,l=s.navigatorOptions,c=s.height,h=s.top,d=s.baseSeries;s.mouseDownHandler=function(t){t=r.pointer.normalize(t);var i,o=s.zoomedMin,a=s.zoomedMax,l=s.top,h=s.scrollbarHeight,d=s.scrollerLeft,u=s.scrollerWidth,p=s.navigatorLeft,f=s.navigatorWidth,g=s.scrollbarPad,m=s.range,v=t.chartX,y=t.chartY,b=(t=r.xAxis[0],Et?10:7);y>l&&y<l+c+h&&((l=!s.scrollbarEnabled||y<l+c)&&ct.abs(v-o-p)<b?(s.grabbedLeft=!0,s.otherHandlePos=a,s.fixedExtreme=t.max,r.fixedRange=null):l&&ct.abs(v-a-p)<b?(s.grabbedRight=!0,s.otherHandlePos=o,s.fixedExtreme=t.min,r.fixedRange=null):v>p+o-g&&v<p+a+g?(s.grabbedCenter=v,s.fixedWidth=m,n=v-o):v>d&&v<d+u&&(0>(a=l?v-p-m/2:v<p?o-.2*m:v>d+u-h?o+.2*m:v<p+o?o-m:a)?a=0:a+m>=f&&(a=f-m,i=s.getUnionExtremes().dataMax),a!==o&&(s.fixedWidth=m,o=e.toFixedRange(a,a+m,null,i),t.setExtremes(o.min,o.max,!0,!1,{trigger:"navigator"}))))},s.mouseMoveHandler=function(t){var e,i=s.scrollbarHeight,a=s.navigatorLeft,l=s.navigatorWidth,c=s.scrollerLeft,h=s.scrollerWidth,d=s.range;0!==t.pageX&&((e=(t=r.pointer.normalize(t)).chartX)<a?e=a:e>c+h-i&&(e=c+h-i),s.grabbedLeft?(o=!0,s.render(0,0,e-a,s.otherHandlePos)):s.grabbedRight?(o=!0,s.render(0,0,s.otherHandlePos,e-a)):s.grabbedCenter&&(o=!0,e<n?e=n:e>l+n-d&&(e=l+n-d),s.render(0,0,e-n,e-n+d)),o&&s.scrollbarOptions.liveRedraw&&setTimeout(function(){s.mouseUpHandler(t)},0))},s.mouseUpHandler=function(t){var i,a;o&&(s.zoomedMin===s.otherHandlePos?i=s.fixedExtreme:s.zoomedMax===s.otherHandlePos&&(a=s.fixedExtreme),i=e.toFixedRange(s.zoomedMin,s.zoomedMax,i,a),r.xAxis[0].setExtremes(i.min,i.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:t})),"mousemove"!==t.type&&(s.grabbedLeft=s.grabbedRight=s.grabbedCenter=s.fixedWidth=s.fixedExtreme=s.otherHandlePos=o=n=null)};var u=r.xAxis.length,p=r.yAxis.length;r.extraBottomMargin=s.outlineHeight+l.margin,s.navigatorEnabled?(s.xAxis=e=new we(r,t({breaks:d&&d.xAxis.options.breaks,ordinal:d&&d.xAxis.options.ordinal},l.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:u,height:c,offset:0,offsetLeft:a,offsetRight:-a,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),s.yAxis=i=new we(r,t(l.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:c,offset:0,index:p,zoomEnabled:!1})),d||l.series.data?s.addBaseSeries():0===r.series.length&&Vt(r,"redraw",function(t,e){0<r.series.length&&!s.series&&(s.setBaseSeries(),r.redraw=t),t.call(r,e)})):s.xAxis=e={translate:function(t,e){var i=(s=r.xAxis[0]).getExtremes(),n=r.plotWidth-2*a,o=mi("min",s.options.min,i.dataMin),s=mi("max",s.options.max,i.dataMax)-o;return e?t*s/n+o:n*(t-o)/s},toFixedRange:we.prototype.toFixedRange},Vt(r,"getMargins",function(t){var n=this.legend,o=n.options;t.apply(this,[].slice.call(arguments,1)),s.top=h=s.navigatorOptions.top||this.chartHeight-s.height-s.scrollbarHeight-this.spacing[2]-("bottom"===o.verticalAlign&&o.enabled&&!o.floating?n.legendHeight+Nt(o.margin,10):0),e&&i&&(e.options.top=i.options.top=h,e.setAxisSize(),i.setAxisSize())}),s.addEvents()},getUnionExtremes:function(t){var e,i=this.chart.xAxis[0],n=this.xAxis,o=n.options,s=i.options;return t&&null===i.dataMin||(e={dataMin:Nt(o&&o.min,mi("min",s.min,i.dataMin,n.dataMin)),dataMax:Nt(o&&o.max,mi("max",s.max,i.dataMax,n.dataMax))}),e},setBaseSeries:function(t){var e=this.chart;t=t||e.options.navigator.baseSeries;this.series&&this.series.remove(),this.baseSeries=e.series[t]||"string"==typeof t&&e.get(t)||e.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var e,i=this.baseSeries,n=i?i.options:{},o=n.data,s=this.navigatorOptions.series;e=s.data,this.hasNavigatorData=!!e,(n=t(n,s,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0})).data=e||o,this.series=this.chart.initSeries(n),i&&!1!==this.navigatorOptions.adaptToUpdatedData&&(ee(i,"updatedData",this.updatedDataHandler),i.userOptions.events=zt(i.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var t,e,i,n,o,s=this.chart.scroller,r=s.baseSeries,a=r.xAxis,l=(d=a.getExtremes()).min,c=d.max,h=d.dataMin,d=d.dataMax,u=c-l,p=s.series;t=p.xData;var f=!!a.setExtremes;e=c>=t[t.length-1]-(this.closestPointRange||0),t=l<=h,s.hasNavigatorData||(p.options.pointStart=r.xData[0],p.setData(r.options.data,!1),o=!0),t&&(i=(n=h)+u),e&&(i=d,t||(n=pt(i-u,p.xData[0]))),f&&(t||e)?isNaN(n)||a.setExtremes(n,i,!0,!1,{trigger:"updatedData"}):(o&&this.chart.redraw(!1),s.render(pt(l,h),ft(c,d)))},destroy:function(){this.removeEvents(),Qt([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(t){t&&t.destroy&&t.destroy()}),this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null,Qt([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(t){C(t)})}},rt.Scroller=$,Vt(we.prototype,"zoom",function(t,e,i){var n,o=this.chart,s=(a=o.options).chart.zoomType,r=a.navigator,a=a.rangeSelector;return this.isXAxis&&(r&&r.enabled||a&&a.enabled)&&("x"===s?o.resetZoomButton="blocked":"y"===s?n=!1:"xy"===s&&(o=this.previousZoom,c(e)?this.previousZoom=[this.min,this.max]:o&&(e=o[0],i=o[1],delete this.previousZoom))),n!==L?n:t.call(this,e,i)}),Vt(De.prototype,"init",function(t,e,i){ee(this,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=new $(this))}),t.call(this,e,i)}),Vt(Le.prototype,"addPoint",function(t,e,i,s,r){var a=this.options.turboThreshold;a&&this.xData.length>a&&n(e)&&!o(e)&&this.chart.scroller&&S(20,!0),t.call(this,e,i,s,r)}),zt(F,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),F.lang=t(F.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),I.prototype={clickButton:function(t,e){var i,n,o,s,r,a=this,l=a.selected,c=a.chart,h=a.buttons,d=a.buttonOptions[t],u=c.xAxis[0],p=(b=c.scroller&&c.scroller.getUnionExtremes()||u||{}).dataMin,f=b.dataMax,g=u&&ht(ft(u.max,Nt(f,u.max))),m=new N(g),v=d.type,y=d.count,b=d._range,x=d.dataGrouping;if(null!==p&&null!==f&&t!==a.selected){if(x&&(this.forcedDataGrouping=!0,we.prototype.setDataGrouping.call(u||{chart:this.chart},x,!1)),"month"===v||"year"===v)m["set"+(i={month:"Month",year:"FullYear"}[v])](m["get"+i]()-y),i=m.getTime(),p=Nt(p,Number.MIN_VALUE),isNaN(i)||i<p?g=ft((i=p)+b,f):b=g-i;else if(b)i=pt(g-b,p),g=ft(i+b,f);else if("ytd"===v){if(!u)return void ee(c,"beforeRender",function(){a.clickButton(t)});f===L&&(p=Number.MAX_VALUE,f=Number.MIN_VALUE,Qt(c.series,function(t){t=t.xData,p=ft(t[0],p),f=pt(t[t.length-1],f)}),e=!1),o=(g=new N(f)).getFullYear(),i=o=pt(p||0,N.UTC(o,0,1)),g=g.getTime(),g=ft(f||g,g)}else"all"===v&&u&&(i=p,g=f);h[l]&&h[l].setState(0),h[t]&&h[t].setState(2),c.fixedRange=b,u?(u.setExtremes(i,g,Nt(e,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:d}),a.setSelected(t)):(n=c.options.xAxis[0],r=n.range,n.range=b,s=n.min,n.min=o,a.setSelected(t),ee(c,"load",function(){n.range=r,n.min=s}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var e=this,i=t.options.rangeSelector,n=i.buttons||[].concat(e.defaultButtons),o=i.selected,s=e.blurInputs=function(){var t=e.minInput,i=e.maxInput;t&&t.blur&&ne(t,"blur"),i&&i.blur&&ne(i,"blur")};e.chart=t,e.options=i,e.buttons=[],t.extraTopMargin=35,e.buttonOptions=n,ee(t.container,"mousedown",s),ee(t,"resize",s),Qt(n,e.computeButtonRange),o!==L&&n[o]&&this.clickButton(o,!1),ee(t,"load",function(){ee(t.xAxis[0],"setExtremes",function(i){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==i.trigger&&"updatedData"!==i.trigger&&e.forcedDataGrouping&&this.setDataGrouping(!1,!1)}),ee(t.xAxis[0],"afterSetExtremes",function(){e.updateButtonStates(!0)})})},updateButtonStates:function(t){var e=this,i=this.chart,n=i.xAxis[0],o=i.scroller&&i.scroller.getUnionExtremes()||n,s=o.dataMin,r=o.dataMax,a=e.selected,l=e.options.allButtonsEnabled,c=e.buttons;t&&i.fixedRange!==ht(n.max-n.min)&&(c[a]&&c[a].setState(0),e.setSelected(null)),Qt(e.buttonOptions,function(t,i){var o=t._range,h=o>r-s,d=o<n.minRange,u="all"===t.type&&n.max-n.min>=r-s&&2!==c[i].state,p="ytd"===t.type&&W("%Y",s)===W("%Y",r);o===ht(n.max-n.min)&&i!==a?(e.setSelected(i),c[i].setState(2)):!l&&(h||d||u||p)?c[i].setState(3):3===c[i].state&&c[i].setState(0)})},computeButtonRange:function(t){var e=t.type,i=t.count||1,n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};n[e]?t._range=n[e]*i:"month"!==e&&"year"!==e||(t._range=864e5*{month:30,year:365}[e]*i)},setInputValue:function(t,e){var i=this.chart.options.rangeSelector;c(e)&&(this[t+"Input"].HCTime=e),this[t+"Input"].value=W(i.inputEditDateFormat||"%Y-%m-%d",this[t+"Input"].HCTime),this[t+"DateBox"].attr({text:W(i.inputDateFormat||"%b %e, %Y",this[t+"Input"].HCTime)})},showInput:function(t){var e=this.inputGroup,i=this[t+"DateBox"];u(this[t+"Input"],{left:e.translateX+i.x+"px",top:e.translateY+"px",width:i.width-2+"px",height:i.height-2+"px",border:"2px solid silver"})},hideInput:function(t){document.activeElement===this[t+"Input"]&&(u(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t))},drawInput:function(i){var n,o,s=this,r=s.chart,a=r.renderer.style,l=r.renderer,c=r.options.rangeSelector,h=s.div,d="min"===i,u=this.inputGroup;this[i+"Label"]=o=l.label(F.lang[d?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(t(a,c.labelStyle)).add(u),u.offset+=o.width+5,this[i+"DateBox"]=l=l.label("",u.offset).attr({padding:2,width:c.inputBoxWidth||90,height:c.inputBoxHeight||17,stroke:c.inputBoxBorderColor||"silver","stroke-width":1}).css(t({textAlign:"center",color:"#444"},a,c.inputStyle)).on("click",function(){s.showInput(i),s[i+"Input"].focus()}).add(u),u.offset+=l.width+(d?10:0),this[i+"Input"]=n=p("input",{name:i,className:"highcharts-range-selector",type:"text"},zt({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:a.fontSize,fontFamily:a.fontFamily,top:r.plotTop+"px"},c.inputStyle),h),n.onfocus=function(){s.showInput(i)},n.onblur=function(){s.hideInput(i)},n.onchange=function(){var t=n.value,i=(c.inputDateParser||N.parse)(t),o=r.xAxis[0],a=o.dataMin,l=o.dataMax;isNaN(i)&&(i=t.split("-"),i=N.UTC(e(i[0]),e(i[1])-1,e(i[2]))),isNaN(i)||(F.global.useUTC||(i+=6e4*(new N).getTimezoneOffset()),d?i>s.maxInput.HCTime?i=L:i<a&&(i=a):i<s.minInput.HCTime?i=L:i>l&&(i=l),i!==L&&r.xAxis[0].setExtremes(d?i:o.min,d?o.max:i,L,L,{trigger:"rangeSelectorInput"}))}},getPosition:function(){var t=this.chart;return{buttonTop:t=Nt((t.options.rangeSelector.buttonPosition||{}).y,t.plotTop-t.axisOffset[0]-35),inputTop:t-10}},render:function(t,e){var i,n=this,o=n.chart,s=o.renderer,r=o.container,a=(d=o.options).exporting&&d.navigation&&d.navigation.buttonOptions,l=d.rangeSelector,h=n.buttons,d=F.lang,u=n.div,f=(u=n.inputGroup,l.buttonTheme),g=l.buttonPosition||{},m=l.inputEnabled,v=f&&f.states,y=o.plotLeft,b=this.getPosition(),x=n.group;n.rendered||(n.group=x=s.g("range-selector-buttons").add(),n.zoomText=s.text(d.rangeSelectorZoom,Nt(g.x,y),b.buttonTop+15).css(l.labelStyle).add(x),i=Nt(g.x,y)+n.zoomText.getBBox().width+5,Qt(n.buttonOptions,function(t,e){h[e]=s.button(t.text,i,b.buttonTop,function(){n.clickButton(e),n.isActive=!0},f,v&&v.hover,v&&v.select,v&&v.disabled).css({textAlign:"center"}).add(x),i+=h[e].width+Nt(l.buttonSpacing,5),n.selected===e&&h[e].setState(2)}),n.updateButtonStates(),!1!==m&&(n.div=u=p("div",null,{position:"relative",height:0,zIndex:1}),r.parentNode.insertBefore(u,r),n.inputGroup=u=s.g("input-group").add(),u.offset=0,n.drawInput("min"),n.drawInput("max"))),!1!==m&&(u.align(zt({y:b.inputTop,width:u.offset,x:a&&b.inputTop<(a.y||0)+a.height-o.spacing[0]?-40:0},l.inputPosition),!0,o.spacingBox),c(m)||(o=x.getBBox(),u[u.translateX<o.x+o.width+10?"hide":"show"]()),n.setInputValue("min",t),n.setInputValue("max",e)),n.rendered=!0},destroy:function(){var t,e=this.minInput,i=this.maxInput,n=this.chart,o=this.blurInputs;for(t in ie(n.container,"mousedown",o),ie(n,"resize",o),C(this.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null),this)this[t]&&"chart"!==t&&(this[t].destroy?this[t].destroy():this[t].nodeType&&T(this[t])),this[t]=null}},we.prototype.toFixedRange=function(t,e,i,n){var o=this.chart&&this.chart.fixedRange;t=Nt(i,this.translate(t,!0)),e=Nt(n,this.translate(e,!0));return.7<(i=o&&(e-t)/o)&&1.3>i&&(n?t=e-o:e=t+o),{min:t,max:e}},Vt(De.prototype,"init",function(t,e,i){ee(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new I(this))}),t.call(this,e,i)}),rt.RangeSelector=I,De.prototype.callbacks.push(function(t){function e(){s=t.xAxis[0].getExtremes(),r.render(s.min,s.max)}function i(){s=t.xAxis[0].getExtremes(),isNaN(s.min)||a.render(s.min,s.max)}function n(t){"navigator-drag"!==t.triggerOp&&r.render(t.min,t.max)}function o(t){a.render(t.min,t.max)}var s,r=t.scroller,a=t.rangeSelector;r&&(ee(t.xAxis[0],"afterSetExtremes",n),Vt(t,"drawChartBox",function(t){var i=this.isDirtyBox;t.call(this),i&&e()}),e()),a&&(ee(t.xAxis[0],"afterSetExtremes",o),ee(t,"resize",i),i()),ee(t,"destroy",function(){r&&ie(t.xAxis[0],"afterSetExtremes",n),a&&(ie(t,"resize",i),ie(t.xAxis[0],"afterSetExtremes",o))})}),rt.StockChart=function(e,i){var n=e.series,o=Nt(e.navigator&&e.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,s={marker:{enabled:!1,radius:2}},r={shadow:!1,borderWidth:0};return e.xAxis=te(d(e.xAxis||{}),function(e){return t({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null},o)}),e.yAxis=te(d(e.yAxis||{}),function(e){return t({labels:{y:-2},opposite:Nt(e.opposite,!0),showLastLabel:!1,title:{text:null}},e)}),e.series=null,(e=t({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:s,spline:s,area:s,areaspline:s,arearange:s,areasplinerange:s,column:r,columnrange:r,candlestick:r,ohlc:r}},e,{_stock:!0,chart:{inverted:!1}})).series=n,new De(e,i)},Vt(Te.prototype,"init",function(t,e,i){var n=i.chart.pinchType||"";t.call(this,e,i),this.pinchX=this.pinchHor=-1!==n.indexOf("x"),this.pinchY=this.pinchVert=-1!==n.indexOf("y"),this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),Vt(we.prototype,"autoLabelAlign",function(t){var e=this.chart,i=this.options,n=(e=e._labelPanes=e._labelPanes||{},this.options.labels);return this.chart.options._stock&&"yAxis"===this.coll&&(!e[i=i.top+","+i.height]&&n.enabled)?(15===n.x&&(n.x=0),void 0===n.align&&(n.align="right"),e[i]=1,"right"):t.call(this,[].slice.call(arguments,1))}),Vt(we.prototype,"getPlotLinePath",function(t,e,i,n,o,s){var r,a,l,h,d,u=this,p=this.isLinked&&!this.series?this.linkedParent.series:this.series,f=u.chart,g=f.renderer,m=u.left,v=u.top,y=[],b=[];return"colorAxis"===u.coll?t.apply(this,[].slice.call(arguments,1)):(b=u.isXAxis?c(u.options.yAxis)?[f.yAxis[u.options.yAxis]]:te(p,function(t){return t.yAxis}):c(u.options.xAxis)?[f.xAxis[u.options.xAxis]]:te(p,function(t){return t.xAxis}),Qt(u.isXAxis?f.yAxis:f.xAxis,function(t){if(!c(t.options.id)||-1===t.options.id.indexOf("navigator")){var e=t.isXAxis?"yAxis":"xAxis";e=c(t.options[e])?f[e][t.options[e]]:f[e][0];u===e&&b.push(t)}}),d=b.length?[]:[u.isXAxis?f.yAxis[0]:f.xAxis[0]],Qt(b,function(t){-1===Kt(t,d)&&d.push(t)}),s=Nt(s,u.translate(e,null,null,n)),isNaN(s)||(u.horiz?Qt(d,function(t){var e;a=t.pos,h=a+t.len,((r=l=ht(s+u.transB))<m||r>m+u.width)&&(o?r=l=ft(pt(m,r),m+u.width):e=!0),e||y.push("M",r,a,"L",l,h)}):Qt(d,function(t){var e;r=t.pos,l=r+t.len,((a=h=ht(v+u.height-s))<v||a>v+u.height)&&(o?a=h=ft(pt(v,a),u.top+u.height):e=!0),e||y.push("M",r,a,"L",l,h)})),0<y.length?g.crispPolyLine(y,i||1):null)}),we.prototype.getPlotBandPath=function(t,e){var i,n=this.getPlotLinePath(e,null,null,!0),o=this.getPlotLinePath(t,null,null,!0),s=[];if(o&&n&&o.toString()!==n.toString())for(i=0;i<o.length;i+=6)s.push("M",o[i+1],o[i+2],"L",o[i+4],o[i+5],n[i+4],n[i+5],n[i+1],n[i+2]);else s=null;return s},ve.prototype.crispPolyLine=function(t,e){var i;for(i=0;i<t.length;i+=6)t[i+1]===t[i+4]&&(t[i+1]=t[i+4]=ht(t[i+1])-e%2/2),t[i+2]===t[i+5]&&(t[i+2]=t[i+5]=ht(t[i+2])+e%2/2);return t},O===rt.VMLRenderer&&(pe.prototype.crispPolyLine=ve.prototype.crispPolyLine),Vt(we.prototype,"hideCrosshair",function(t,e){t.call(this,e),c(this.crossLabelArray)&&(c(e)?this.crossLabelArray[e]&&this.crossLabelArray[e].hide():Qt(this.crossLabelArray,function(t){t.hide()}))}),Vt(we.prototype,"drawCrosshair",function(t,e,i){var n,o;if(t.call(this,e,i),c(this.crosshair.label)&&this.crosshair.label.enabled&&c(i)){o=this.chart;var s=this.options.crosshair.label,r=this.isXAxis?"x":"y";n=this.horiz;var a,l=this.opposite,h=this.left,d=this.top,u=(t=this.crossLabel,s.format),p="";t||(t=this.crossLabel=o.renderer.label().attr({align:s.align||(n?"center":l?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center"),zIndex:12,height:n?16:L,fill:s.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:Nt(s.padding,2),stroke:s.borderColor||null,"stroke-width":s.borderWidth||0}).css(zt({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},s.style)).add()),n?(e=i.plotX+h,a=d+(l?0:this.height)):(e=l?this.width+h:0,a=i.plotY+d),a<d||a>d+this.height?this.hideCrosshair():(!u&&!s.formatter&&(this.isDatetimeAxis&&(p="%b %d, %Y"),u="{value"+(p?":"+p:"")+"}"),t.attr({text:u?v(u,{value:i[r]}):s.formatter.call(this,i[r]),x:e,y:a,visibility:"visible"}),i=t.getBBox(),n?("inside"===this.options.tickPosition&&!l||"inside"!==this.options.tickPosition&&l)&&(a=t.y-i.height):a=t.y-i.height/2,n?(n=h-i.x,o=h+this.width-i.x):(n="left"===this.labelAlign?h:0,o="right"===this.labelAlign?h+this.width:o.chartWidth),t.translateX<n&&(e+=n-t.translateX),t.translateX+i.width>=o&&(e-=t.translateX+i.width-o),t.attr({x:e,y:a,visibility:"visible"}))}});var vi=ii.init,yi=ii.processData,bi=Ie.prototype.tooltipFormatter;ii.init=function(){vi.apply(this,arguments),this.setCompare(this.options.compare)},ii.setCompare=function(t){this.modifyValue="value"===t||"percent"===t?function(e,i){var n=this.compareValue;return e!==L&&(e="value"===t?e-n:e=e/n*100-100,i&&(i.change=e)),e}:null,this.chart.hasRendered&&(this.isDirty=!0)},ii.processData=function(){var t,e,i,n=0;if(yi.apply(this,arguments),this.xAxis&&this.processedYData)for(t=this.processedXData,i=(e=this.processedYData).length;n<i;n++)if("number"==typeof e[n]&&t[n]>=this.xAxis.min){this.compareValue=e[n];break}},Vt(ii,"getExtremes",function(t){t.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),we.prototype.setCompare=function(t,e){this.isXAxis||(Qt(this.series,function(e){e.setCompare(t)}),Nt(e,!0)&&this.chart.redraw())},Ie.prototype.tooltipFormatter=function(t){return t=t.replace("{point.change}",(0<this.change?"+":"")+rt.numberFormat(this.change,Nt(this.series.tooltipOptions.changeDecimals,2))),bi.apply(this,[t])},Vt(Le.prototype,"render",function(e){this.chart.options._stock&&(!this.clipBox&&this.animate?(this.clipBox=t(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(re(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),e.call(this)}),zt(rt,{Color:ue,Point:Ie,Tick:M,Renderer:O,SVGElement:A,SVGRenderer:ve,arrayMin:w,arrayMax:k,charts:Lt,dateFormat:W,error:S,format:v,pathAnim:j,getOptions:function(){return F},hasBidiBug:At,isTouchDevice:Et,setOptions:function(e){return F=t(!0,F,e),_(),F},addEvent:ee,removeEvent:ie,createElement:p,discardElement:T,css:u,each:Qt,map:te,merge:t,splat:d,extendClass:f,pInt:e,svg:_t,canvas:Mt,vml:!_t&&!Mt,product:"Highstock",version:"2.1.7"})}(),function(t,e){function i(t,e,i){this.init.call(this,t,e,i)}var n=t.arrayMin,o=t.arrayMax,s=t.each,r=t.extend,a=t.merge,l=t.map,c=t.pick,h=t.pInt,d=t.getOptions().plotOptions,u=t.seriesTypes,p=t.extendClass,f=t.splat,g=t.wrap,m=t.Axis,v=t.Tick,y=t.Point,b=t.Pointer,x=t.CenteredSeriesMixin,w=t.TrackerMixin,k=t.Series,C=Math,T=C.round,S=C.floor,E=C.max,P=t.Color,_=function(){};r(i.prototype,{init:function(t,e,i){var n=this,o=n.defaultOptions;n.chart=e,n.options=t=a(o,e.angular?{background:{}}:void 0,t),(t=t.background)&&s([].concat(f(t)).reverse(),function(t){var e=t.backgroundColor,o=i.userOptions;t=a(n.defaultBackgroundOptions,t);e&&(t.backgroundColor=e),t.color=t.backgroundColor,i.options.plotBands.unshift(t),o.plotBands=o.plotBands||[],o.plotBands.unshift(t)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var A=m.prototype,M=(v=v.prototype,{getOffset:_,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:_,setCategories:_,setTitle:_}),D={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){(t=this.options=a(this.defaultOptions,this.defaultRadialOptions,t)).plotBands||(t.plotBands=[])},getOffset:function(){A.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=x.getCenter.call(this.pane)},getLinePath:function(t,e){var i=this.center;e=c(e,i[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+i[0],this.top+i[1],e,e,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){A.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},setAxisSize:function(){A.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=t.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*c(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):0,c(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var i=this.chart,n=this.center;t=this.startAngleRad+t;return{x:i.plotLeft+n[0]+Math.cos(t)*e,y:i.plotTop+n[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,i){var n,o=this.center,s=this.startAngleRad,r=o[2]/2,a=[c(i.outerRadius,"100%"),i.innerRadius,c(i.thickness,10)],d=/%$/,u=this.isCircular;return"polygon"===this.options.gridLineInterpolation?o=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(t=Math.max(t,this.min),e=Math.min(e,this.max),u||(a[0]=this.translate(t),a[1]=this.translate(e)),a=l(a,function(t){return d.test(t)&&(t=h(t,10)*r/100),t}),"circle"!==i.shape&&u?(t=s+this.translate(t),e=s+this.translate(e)):(t=-Math.PI/2,e=1.5*Math.PI,n=!0),o=this.chart.renderer.symbols.arc(this.left+o[0],this.top+o[1],a[0],a[0],{start:Math.min(t,e),end:Math.max(t,e),innerR:c(a[1],a[0]-a[2]),open:n})),o},getPlotLinePath:function(t,e){var i,n,o,r=this,a=r.center,l=r.chart,c=r.getPosition(t);return r.isCircular?o=["M",a[0]+l.plotLeft,a[1]+l.plotTop,"L",c.x,c.y]:"circle"===r.options.gridLineInterpolation?(t=r.translate(t))&&(o=r.getLinePath(0,t)):(s(l.xAxis,function(t){t.pane===r.pane&&(i=t)}),o=[],t=r.translate(t),a=i.tickPositions,i.autoConnect&&(a=a.concat([a[0]])),e&&(a=[].concat(a).reverse()),s(a,function(e,s){n=i.getPosition(e,t),o.push(s?"L":"M",n.x,n.y)})),o},getTitlePosition:function(){var t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}};g(A,"init",function(t,n,o){var s,l,h=n.angular,d=n.polar,u=o.isX,p=h&&u;l=n.options;var g=o.pane||0;h?(r(this,p?M:D),(s=!u)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):d&&(r(this,D),this.defaultRadialOptions=(s=u)?this.defaultRadialXOptions:a(this.defaultYAxisOptions,this.defaultRadialYOptions)),t.call(this,n,o),p||!h&&!d||(t=this.options,n.panes||(n.panes=[]),this.pane=g=n.panes[g]=n.panes[g]||new i(f(l.pane)[g],n,this),g=g.options,n.inverted=!1,l.chart.zoomType=null,this.startAngleRad=n=(g.startAngle-90)*Math.PI/180,this.endAngleRad=l=(c(g.endAngle,g.startAngle+360)-90)*Math.PI/180,this.offset=t.offset||0,(this.isCircular=s)&&o.max===e&&l-n==2*Math.PI&&(this.autoConnect=!0))}),g(v,"getPosition",function(t,e,i,n,o){var s=this.axis;return s.getPosition?s.getPosition(i):t.call(this,e,i,n,o)}),g(v,"getLabelPosition",function(t,e,i,n,o,s,r,a,l){var h=this.axis,d=s.y,u=20,p=s.align,f=(h.translate(this.pos)+h.startAngleRad+Math.PI/2)/Math.PI*180%360;return h.isRadial?(t=h.getPosition(this.pos,h.center[2]/2+c(s.distance,-25)),"auto"===s.rotation?n.attr({rotation:f}):null===d&&(d=h.chart.renderer.fontMetrics(n.styles.fontSize).b-n.getBBox().height/2),null===p&&(h.isCircular?(this.label.getBBox().width>h.len*h.tickInterval/(h.max-h.min)&&(u=0),p=f>u&&f<180-u?"left":f>180+u&&f<360-u?"right":"center"):p="center",n.attr({align:p})),t.x+=s.x,t.y+=d):t=t.call(this,e,i,n,o,s,r,a,l),t}),g(v,"getMarkPath",function(t,e,i,n,o,s,r){var a=this.axis;return a.isRadial?e=["M",e,i,"L",(t=a.getPosition(this.pos,a.center[2]/2+n)).x,t.y]:e=t.call(this,e,i,n,o,s,r),e}),d.arearange=a(d.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),u.arearange=p(u.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop},getSegments:function(){var t=this;s(t.points,function(e){t.options.connectNulls||null!==e.low&&null!==e.high?null===e.low&&null!==e.high&&(e.y=e.high):e.y=null}),k.prototype.getSegments.call(this)},translate:function(){var t=this,e=t.yAxis;u.area.prototype.translate.apply(t),s(t.points,function(t){var i=t.low,n=t.high,o=t.plotY;null===n&&null===i?t.y=null:null===i?(t.plotLow=t.plotY=null,t.plotHigh=e.translate(n,0,1,0,1)):null===n?(t.plotLow=o,t.plotHigh=null):(t.plotLow=o,t.plotHigh=e.translate(n,0,1,0,1))}),this.chart.polar&&s(this.points,function(e){t.highToXY(e)})},getSegmentPath:function(t){var e,i,n,o=[],s=t.length,r=k.prototype.getSegmentPath,a=(n=this.options).step;for(e=HighchartsAdapter.grep(t,function(t){return null!==t.plotLow});s--;)null!==(i=t[s]).plotHigh&&o.push({plotX:i.plotHighX||i.plotX,plotY:i.plotHigh});return t=r.call(this,e),a&&(!0===a&&(a="left"),n.step={left:"right",center:"center",right:"left"}[a]),o=r.call(this,o),n.step=a,n=[].concat(t,o),this.chart.polar||(o[0]="L"),this.areaPath=this.areaPath.concat(t,o),n},drawDataLabels:function(){var t,e,i,n=this.data,o=n.length,s=[],r=k.prototype,a=this.options.dataLabels,l=a.align,c=this.chart.inverted;if(a.enabled||this._hasPointLabels){for(t=o;t--;)(e=n[t])&&(i=e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,s[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=i,c?(l||(a.align=i?"right":"left"),a.x=a.xHigh):a.y=a.yHigh);for(r.drawDataLabels&&r.drawDataLabels.apply(this,arguments),t=o;t--;)(e=n[t])&&(i=e.plotHigh>e.plotLow,e.dataLabelUpper=e.dataLabel,e.dataLabel=s[t],e.y=e.low,e.plotY=e._plotY,e.below=!i,c?(l||(a.align=i?"left":"right"),a.x=a.xLow):a.y=a.yLow);r.drawDataLabels&&r.drawDataLabels.apply(this,arguments)}a.align=l},alignDataLabel:function(){u.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:_,getSymbol:_,drawPoints:_}),d.areasplinerange=a(d.arearange),u.areasplinerange=p(u.arearange,{type:"areasplinerange",getPointSpline:u.spline.prototype.getPointSpline});var $=u.column.prototype;d.columnrange=a(d.column,d.arearange,{lineWidth:1,pointRange:null}),u.columnrange=p(u.arearange,{type:"columnrange",translate:function(){var t,e=this,i=e.yAxis;$.translate.apply(e),s(e.points,function(n){var o,s=n.shapeArgs,r=e.options.minPointLength;n.tooltipPos=null,n.plotHigh=t=i.translate(n.high,0,1,0,1),n.plotLow=n.plotY,o=t,n=n.plotY-t,Math.abs(n)<r?(n+=r-=n,o-=r/2):0>n&&(o-=n*=-1),s.height=n,s.y=o})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:_,pointAttrToOptions:$.pointAttrToOptions,drawPoints:$.drawPoints,drawTracker:$.drawTracker,animate:$.animate,getColumnMetrics:$.getColumnMetrics}),d.gauge=a(d.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),w={type:"gauge",pointClass:p(y,{setState:function(t){this.state=t}}),angular:!0,drawGraph:_,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,e=this.options,i=t.center;this.generatePoints(),s(this.points,function(n){var o=a(e.dial,n.dial),s=h(c(o.radius,80))*i[2]/200,r=h(c(o.baseLength,70))*s/100,l=h(c(o.rearLength,10))*s/100,d=o.baseWidth||3,u=o.topWidth||1,p=e.overshoot,f=t.startAngleRad+t.translate(n.y,null,null,null,!0);p&&"number"==typeof p?(p=p/180*Math.PI,f=Math.max(t.startAngleRad-p,Math.min(t.endAngleRad+p,f))):!1===e.wrap&&(f=Math.max(t.startAngleRad,Math.min(t.endAngleRad,f))),f=180*f/Math.PI,n.shapeType="path",n.shapeArgs={d:o.path||["M",-l,-d/2,"L",r,-d/2,s,-u/2,s,u/2,r,d/2,-l,d/2,"z"],translateX:i[0],translateY:i[1],rotation:f},n.plotX=i[0],n.plotY=i[1]})},drawPoints:function(){var t=this,e=t.yAxis.center,i=t.pivot,n=t.options,o=n.pivot,r=t.chart.renderer;s(t.points,function(e){var i=e.graphic,o=e.shapeArgs,s=o.d,l=a(n.dial,e.dial);i?(i.animate(o),o.d=s):e.graphic=r[e.shapeType](o).attr({stroke:l.borderColor||"none","stroke-width":l.borderWidth||0,fill:l.backgroundColor||"black",rotation:o.rotation}).add(t.group)}),i?i.animate({translateX:e[0],translateY:e[1]}):t.pivot=r.circle(0,0,c(o.radius,5)).attr({"stroke-width":o.borderWidth||0,stroke:o.borderColor||"silver",fill:o.backgroundColor||"black"}).translate(e[0],e[1]).add(t.group)},animate:function(t){var e=this;t||(s(e.points,function(t){var i=t.graphic;i&&(i.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),i.animate({rotation:t.shapeArgs.rotation},e.options.animation))}),e.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),k.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){k.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),c(e,!0)&&this.chart.redraw()},drawTracker:w&&w.drawTrackerPoint},u.gauge=p(u.line,w),d.boxplot=a(d.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),u.boxplot=p(u.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:_,translate:function(){var t=this.yAxis,e=this.pointArrayMap;u.column.prototype.translate.apply(this),s(this.points,function(i){s(e,function(e){null!==i[e]&&(i[e+"Plot"]=t.translate(i[e],0,1,0,1))})})},drawPoints:function(){var t,i,n,o,r,a,l,h,d,u,p,f,g,m,v,y,b,x,w,k,C,E,P=this,_=P.points,A=P.options,M=P.chart.renderer,D=!1!==P.doQuartiles,$=parseInt(P.options.whiskerLength,10)/100;s(_,function(s){d=s.graphic,C=s.shapeArgs,p={},m={},y={},E=s.color||P.color,s.plotY!==e&&(t=s.pointAttr[s.selected?"selected":""],b=C.width,x=S(C.x),w=x+b,k=T(b/2),i=S(D?s.q1Plot:s.lowPlot),n=S(D?s.q3Plot:s.lowPlot),o=S(s.highPlot),r=S(s.lowPlot),p.stroke=s.stemColor||A.stemColor||E,p["stroke-width"]=c(s.stemWidth,A.stemWidth,A.lineWidth),p.dashstyle=s.stemDashStyle||A.stemDashStyle,m.stroke=s.whiskerColor||A.whiskerColor||E,m["stroke-width"]=c(s.whiskerWidth,A.whiskerWidth,A.lineWidth),y.stroke=s.medianColor||A.medianColor||E,y["stroke-width"]=c(s.medianWidth,A.medianWidth,A.lineWidth),l=p["stroke-width"]%2/2,u=["M",h=x+k+l,n,"L",h,o,"M",h,i,"L",h,r],D&&(l=t["stroke-width"]%2/2,h=S(h)+l,i=S(i)+l,n=S(n)+l,f=["M",x+=l,n,"L",x,i,"L",w+=l,i,"L",w,n,"L",x,n,"z"]),$&&(l=m["stroke-width"]%2/2,g=["M",h-k*$,o+=l,"L",h+k*$,o,"M",h-k*$,r+=l,"L",h+k*$,r]),l=y["stroke-width"]%2/2,a=T(s.medianPlot)+l,v=["M",x,a,"L",w,a],d?(s.stem.animate({d:u}),$&&s.whiskers.animate({d:g}),D&&s.box.animate({d:f}),s.medianShape.animate({d:v})):(s.graphic=d=M.g().add(P.group),s.stem=M.path(u).attr(p).add(d),$&&(s.whiskers=M.path(g).attr(m).add(d)),D&&(s.box=M.path(f).attr(t).add(d)),s.medianShape=M.path(v).attr(y).add(d)))})},setStackedPoints:_}),d.errorbar=a(d.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),u.errorbar=p(u.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:u.arearange?u.arearange.prototype.drawDataLabels:_,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||u.column.prototype.getColumnMetrics.call(this)}}),d.waterfall=a(d.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}}),u.waterfall=p(u.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",translate:function(){var t,e,i,n,o,s,r,a,l,c=this.options,h=this.yAxis,d=c.threshold,p=c.stacking;for(u.column.prototype.translate.apply(this),r=a=d,t=0,c=(e=this.points).length;t<c;t++)i=e[t],s=this.processedYData[t],n=i.shapeArgs,l=(o=p&&h.stacks[(this.negStacks&&s<d?"-":"")+this.stackKey])?o[i.x].points[this.index+","+t]:[0,s],i.isSum?i.y=s:i.isIntermediateSum&&(i.y=s-a),o=E(r,r+i.y)+l[0],n.y=h.translate(o,0,1),i.isSum?(n.y=h.translate(l[1],0,1),n.height=Math.min(h.translate(l[0],0,1),h.len)-n.y):i.isIntermediateSum?(n.y=h.translate(l[1],0,1),n.height=Math.min(h.translate(a,0,1),h.len)-n.y,a=l[1]):(0!==r&&(n.height=0<s?h.translate(r,0,1)-n.y:h.translate(r,0,1)-h.translate(r-s,0,1)),r+=s),0>n.height&&(n.y+=n.height,n.height*=-1),i.plotY=n.y=T(n.y)-this.borderWidth%2/2,n.height=E(T(n.height),.001),i.yBottom=n.y+n.height,n=i.plotY+(i.negative?n.height:0),this.chart.inverted?i.tooltipPos[0]=h.len-n:i.tooltipPos[1]=n},processData:function(t){var e,i,n,o,s,r,a,l=this.yData,c=this.options.data,h=l.length;for(n=i=o=s=this.options.threshold||0,a=0;a<h;a++)r=l[a],e=c&&c[a]?c[a]:{},"sum"===r||e.isSum?l[a]=n:"intermediateSum"===r||e.isIntermediateSum?l[a]=i:(n+=r,i+=r),o=Math.min(n,o),s=Math.max(n,s);k.prototype.processData.call(this,t),this.dataMin=o,this.dataMax=s},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},getAttribs:function(){u.column.prototype.getAttribs.apply(this,arguments);var e=this,i=(o=e.options).states,n=o.upColor||e.color,o=t.Color(n).brighten(.1).get(),r=a(e.pointAttr),l=e.upColorProp;r[""][l]=n,r.hover[l]=i.hover.upColor||o,r.select[l]=i.select.upColor||n,s(e.points,function(t){t.options.color||(0<t.y?(t.pointAttr=r,t.color=n):t.pointAttr=e.pointAttr)})},getGraphPath:function(){var t,e,i,n=this.data,o=n.length,s=T(this.options.lineWidth+this.borderWidth)%2/2,r=[];for(i=1;i<o;i++)e=n[i].shapeArgs,e=["M",(t=n[i-1].shapeArgs).x+t.width,t.y+s,"L",e.x,t.y+s],0>n[i-1].y&&(e[2]+=t.height,e[5]+=t.height),r=r.concat(e);return r},getExtremes:_,drawGraph:k.prototype.drawGraph}),d.polygon=a(d.scatter,{marker:{enabled:!1}}),u.polygon=p(u.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(t){return k.prototype.getSegmentPath.call(this,t).concat("z")},drawGraph:k.prototype.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle}),d.bubble=a(d.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),d=p(y,{haloPath:function(){return y.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1}),u.bubble=p(u.scatter,{type:"bubble",pointClass:d,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(t){var e=this.options.marker,i=c(e.fillOpacity,.5);t=t||e.fillColor||this.color;return 1!==i&&(t=P(t).setOpacity(i).get("rgba")),t},convertAttribs:function(){var t=k.prototype.convertAttribs.apply(this,arguments);return t.fill=this.applyOpacity(t.fill),t},getRadii:function(t,e,i,n){var o,s,r,a=this.zData,l=[],c="width"!==this.options.sizeBy;for(s=0,o=a.length;s<o;s++)r=0<(r=e-t)?(a[s]-t)/(e-t):.5,c&&0<=r&&(r=Math.sqrt(r)),l.push(C.ceil(i+r*(n-i))/2);this.radii=l},animate:function(t){var e=this.options.animation;t||(s(this.points,function(t){var i=t.graphic;t=t.shapeArgs;i&&t&&(i.attr("r",1),i.animate({r:t.r},e))}),this.animate=null)},translate:function(){var t,i,n,o=this.data,s=this.radii;for(u.scatter.prototype.translate.call(this),t=o.length;t--;)i=o[t],(n=s?s[t]:0)>=this.minPxSize/2?(i.shapeType="circle",i.shapeArgs={x:i.plotX,y:i.plotY,r:n},i.dlBox={x:i.plotX-n,y:i.plotY-n,width:2*n,height:2*n}):i.shapeArgs=i.plotY=i.dlBox=e},drawLegendSymbol:function(t,e){var i=h(t.itemStyle.fontSize)/2;e.legendSymbol=this.chart.renderer.circle(i,t.baseline-i,i).attr({zIndex:3}).add(e.legendGroup),e.legendSymbol.isMarker=!0},drawPoints:u.column.prototype.drawPoints,alignDataLabel:u.column.prototype.alignDataLabel,buildKDTree:_,applyZones:_}),m.prototype.beforePadding=function(){var t=this,i=this.len,r=this.chart,a=0,l=i,d=this.isXAxis,u=d?"xData":"yData",p=this.min,f={},g=C.min(r.plotWidth,r.plotHeight),m=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-p,b=i/y,x=[];s(this.series,function(e){var i=e.options;!e.bubblePadding||!e.visible&&r.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,x.push(e),d&&(s(["minSize","maxSize"],function(t){var e=i[t],n=/%$/.test(e);e=h(e);f[t]=n?g*e/100:e}),e.minPxSize=f.minSize,(e=e.zData).length&&(m=c(i.zMin,C.min(m,C.max(n(e),!1===i.displayNegative?i.zThreshold:-Number.MAX_VALUE))),v=c(i.zMax,C.max(v,o(e))))))}),s(x,function(t){var e,i=t[u],n=i.length;if(d&&t.getRadii(m,v,f.minSize,f.maxSize),0<y)for(;n--;)"number"==typeof i[n]&&(e=t.radii[n],a=Math.min((i[n]-p)*b-e,a),l=Math.max((i[n]-p)*b+e,l))}),x.length&&0<y&&c(this.options.min,this.userMin)===e&&c(this.options.max,this.userMax)===e&&(b*=(i+a-(l-=i))/i,this.min+=a/b,this.max+=l/b)};m=function(t,e,i){t.call(this,e,i),this.chart.polar&&(this.closeSegment=function(t){var e=this.xAxis.center;t.push("L",e[0],e[1])},this.closedStacks=!0)},p=function(t,e){var i=this.chart,n=this.options.animation,o=this.group,s=this.markerGroup,r=this.xAxis.center,a=i.plotLeft,l=i.plotTop;i.polar?i.renderer.isSVG&&(!0===n&&(n={}),e?(i={translateX:r[0]+a,translateY:r[1]+l,scaleX:.001,scaleY:.001},o.attr(i),s&&s.attr(i)):(i={translateX:a,translateY:l,scaleX:1,scaleY:1},o.animate(i,n),s&&s.animate(i,n),this.animate=null)):t.call(this,e)};var I=k.prototype;b=b.prototype;I.searchPointByAngle=function(t){var e=this.chart,i=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(t.chartX-i[0]-e.plotLeft,t.chartY-i[1]-e.plotTop)*(-180/Math.PI)})},g(I,"buildKDTree",function(t){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2),t.apply(this)}),I.toXY=function(t){var e,i=this.chart,n=t.plotX;e=t.plotY,t.rectPlotX=n,t.rectPlotY=e,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-e),t.plotX=t.polarPlotX=e.x-i.plotLeft,t.plotY=t.polarPlotY=e.y-i.plotTop,this.kdByAngle?(0>(i=(n/Math.PI*180+this.xAxis.pane.options.startAngle)%360)&&(i+=360),t.clientX=i):t.clientX=t.plotX},u.area&&g(u.area.prototype,"init",m),u.areaspline&&g(u.areaspline.prototype,"init",m),u.spline&&g(u.spline.prototype,"getPointSpline",function(t,e,i,n){var o,s,r,a,l,c,h;return this.chart.polar?(o=i.plotX,s=i.plotY,t=e[n-1],r=e[n+1],this.connectEnds&&(t||(t=e[e.length-2]),r||(r=e[1])),t&&r&&(a=t.plotX,l=t.plotY,e=r.plotX,c=r.plotY,a=(1.5*o+a)/2.5,l=(1.5*s+l)/2.5,r=(1.5*o+e)/2.5,h=(1.5*s+c)/2.5,e=Math.sqrt(Math.pow(a-o,2)+Math.pow(l-s,2)),c=Math.sqrt(Math.pow(r-o,2)+Math.pow(h-s,2)),a=Math.atan2(l-s,a-o),l=Math.atan2(h-s,r-o),h=Math.PI/2+(a+l)/2,Math.abs(a-h)>Math.PI/2&&(h-=Math.PI),a=o+Math.cos(h)*e,l=s+Math.sin(h)*e,r=o+Math.cos(Math.PI+h)*c,h=s+Math.sin(Math.PI+h)*c,i.rightContX=r,i.rightContY=h),n?(i=["C",t.rightContX||t.plotX,t.rightContY||t.plotY,a||o,l||s,o,s],t.rightContX=t.rightContY=null):i=["M",o,s]):i=t.call(this,e,i,n),i}),g(I,"translate",function(t){var e=this.chart;if(t.call(this),e.polar&&(this.kdByAngle=e.tooltip&&e.tooltip.shared,!this.preventPostTranslate))for(e=(t=this.points).length;e--;)this.toXY(t[e])}),g(I,"getSegmentPath",function(t,e){var i=this.points;return this.chart.polar&&!1!==this.options.connectEnds&&e[e.length-1]===i[i.length-1]&&null!==i[0].y&&(this.connectEnds=!0,e=[].concat(e,[i[0]])),t.call(this,e)}),g(I,"animate",p),u.column&&(g(m=u.column.prototype,"animate",p),g(m,"translate",function(t){var e,i,n=this.xAxis,o=this.yAxis.len,s=n.center,r=n.startAngleRad,a=this.chart.renderer;if(this.preventPostTranslate=!0,t.call(this),n.isRadial)for(i=(n=this.points).length;i--;)t=(e=n[i]).barX+r,e.shapeType="path",e.shapeArgs={d:a.symbols.arc(s[0],s[1],o-e.plotY,null,{start:t,end:t+e.pointWidth,innerR:o-c(e.yBottom,o)})},this.toXY(e),e.tooltipPos=[e.plotX,e.plotY],e.ttBelow=e.plotY>s[1]}),g(m,"alignDataLabel",function(t,e,i,n,o,s){this.chart.polar?(t=e.rectPlotX/Math.PI*180,null===n.align&&(n.align=20<t&&160>t?"left":200<t&&340>t?"right":"center"),null===n.verticalAlign&&(n.verticalAlign=45>t||315<t?"bottom":135<t&&225>t?"top":"middle"),I.alignDataLabel.call(this,e,i,n,o,s)):t.call(this,e,i,n,o,s)})),g(b,"getCoordinates",function(t,e){var i=this.chart,n={xAxis:[],yAxis:[]};return i.polar?s(i.axes,function(t){var o=t.isXAxis,s=t.center,r=e.chartX-s[0]-i.plotLeft;s=e.chartY-s[1]-i.plotTop;n[o?"xAxis":"yAxis"].push({axis:t,value:t.translate(o?Math.PI-Math.atan2(r,s):Math.sqrt(Math.pow(r,2)+Math.pow(s,2)),!0)})}):n=t.call(this,e),n})}(Highcharts),function(){var t=Math;Highcharts&&(Highcharts.SVGRenderer.prototype.symbols.alert=function(t,e,i,n){var o=n/4,s=i/2;return["M",t+s,e,"L",t+i,e+n,t,e+n,"Z","M",t+s,e+o,"L",t+s,e+3*o,"Z","M",t+s,e+3.3*o,"L",t+s,e+3.6*o,"Z"]},Highcharts.SVGRenderer.prototype.symbols.closeBtn=function(t,e,i,n){var o=parseInt(i/4);return["M",t,e,"L",t-i,e,t-i,e+n,t,e+n,"Z","M",t-o,e+o,"L",t-i+o,e+n-o,"Z","M",t-i+o,e+o,"L",t-o,e+n-o,"Z"]},Highcharts.SVGRenderer.prototype.symbols.configBtn=function(t,e,i,n){var o=parseInt(i/3);return["M",t,e,"L",t-i,e,t-i,e+n,t,e+n,"Z","M",t-o,e+o,"L",t-i+o,e+o,"Z","M",t-o,e+2*o,"L",t-i+o,e+2*o,"Z"]},Highcharts.SVGRenderer.prototype.symbols.perTriangleDown=function(t,e,i,n){return["M",t,e-=n/2,"L",t+i,e,t+i/2,e+n,"Z"]},Highcharts.SVGRenderer.prototype.symbols.perTriangle=function(t,e,i,n){return["M",t+i/2,e+=n/2,"L",t+i,e+n,t,e+n,"Z"]},Highcharts.SVGRenderer.prototype.symbols.longarrowright=function(t,e,i,n){var o=4*n,s=(t=t+(s=i/2),e=e+s,i/3);return["M",t,e,"L",t-n,e-(i=i/2),t-n,e-s,t-o,e-s,t-o,e+s,t-n,e+s,t-n,e+i,t,e,"Z"]},Highcharts.SVGRenderer.prototype.symbols.longarrowleft=function(t,e,i,n){var o=4*n,s=(t=t+(s=i/2),e=e+s,i/3);return["M",t,e,"L",t+n,e-(i=i/2),t+n,e-s,t+o,e-s,t+o,e+s,t+n,e+s,t+n,e+i,t,e,"Z"]},Highcharts.SVGRenderer.prototype.symbols.longarrowup=function(t,e,i,n){var o=4*n,s=(t=t+(s=i/2),e=e+s,i/3);return["M",t,e,"L",t-(i=i/2),e+n,t-s,e+n,t-s,e+o,t+s,e+o,t+s,e+n,t+i,e+n,t,e,"Z"]},Highcharts.SVGRenderer.prototype.symbols.longarrowdown=function(t,e,i,n){var o=4*n,s=(t=t+(s=i/2),e=e+s,i/3);return["M",t,e,"L",t-(i=i/2),e-n,t-s,e-n,t-s,e-o,t+s,e-o,t+s,e-n,t+i,e-n,t,e,"Z"]},Highcharts.SVGRenderer.prototype.symbols.arrowright=function(t,e,i,n){var o=2*n,s=(t=t+(s=i/2),e=e+s,i/3);return["M",t,e,"L",t-n,e-(i=i/2),t-n,e-s,t-o,e-s,t-o,e+s,t-n,e+s,t-n,e+i,t,e,"Z"]},Highcharts.SVGRenderer.prototype.symbols.arrowleft=function(t,e,i,n){var o=2*n,s=(t=t+(s=i/2),e=e+s,i/3);return["M",t,e,"L",t+n,e-(i=i/2),t+n,e-s,t+o,e-s,t+o,e+s,t+n,e+s,t+n,e+i,t,e,"Z"]},Highcharts.SVGRenderer.prototype.symbols.arrowup=function(t,e,i,n){var o=2*n,s=(t=t+(s=i/2),e=e+s,i/3);return["M",t,e,"L",t-(i=i/2),e+n,t-s,e+n,t-s,e+o,t+s,e+o,t+s,e+n,t+i,e+n,t,e,"Z"]},Highcharts.SVGRenderer.prototype.symbols.arrowdown=function(t,e,i,n){var o=2*n,s=(t=t+(s=i/2),e=e+s,i/3);return["M",t,e,"L",t-(i=i/2),e-n,t-s,e-n,t-s,e-o,t+s,e-o,t+s,e-n,t+i,e-n,t,e,"Z"]},Highcharts.SVGRenderer.prototype.symbols.arrowtip=function(e,i,n,o){var s=0>n?-1:1;return["M",e=e+(n=(n=t.abs(n))/2),i=i+n,"L",e-(n=3*n*s)*t.cos(o-.25),i-n*t.sin(o-.25),e-n*t.cos(o+.25),i-n*t.sin(o+.25),e,i,"Z"]},Highcharts.SVGRenderer.prototype.symbols.rightlast=function(t,e,i){return["M",t,e,"L",t+13,e-10,t+i-2,e-10,t+i-1,e-9,t+i,e-8,t+i,e+8,t+i-1,e+9,t+i-2,e+10,t+13,e+10,"Z"]},Highcharts.SVGRenderer.prototype.symbols.lastright=function(t,e,i){var n=i/2;return["M",t=t+n,e=e+n,"L",t+13,e-10,t+i-2,e-10,t+i-1,e-9,t+i,e-8,t+i,e+8,t+i-1,e+9,t+i-2,e+10,t+13,e+10,"Z"]},Highcharts.SVGRenderer.prototype.symbols.last=function(t,e,i){var n=i/2;return["M",t=t+n,e=e+n,"L",t-13,e-10,t-i+2,e-10,t-i+1,e-9,t-i,e-8,t-i,e+8,t-i+1,e+9,t-i+2,e+10,t-13,e+10,"Z"]},Highcharts.SVGRenderer.prototype.symbols.lowdash=function(t,e,i){var n=i/2;return["M",(t=t+n)-2*i,e=e+n,"L",t+2*i,e,"Z"]},Highcharts.SVGRenderer.prototype.symbols.updash=function(t,e,i){var n=i/2;return["M",(t=t+n)-2*i,e=e+n,"L",t+2*i,e,"Z"]},Highcharts.VMLRenderer&&(Highcharts.VMLRenderer.prototype.symbols.alert=Highcharts.SVGRenderer.prototype.symbols.alert,Highcharts.VMLRenderer.prototype.symbols.closeBtn=Highcharts.SVGRenderer.prototype.symbols.closeBtn,Highcharts.VMLRenderer.prototype.symbols.configBtn=Highcharts.SVGRenderer.prototype.symbols.configBtn,Highcharts.VMLRenderer.prototype.symbols.perTriangleDown=Highcharts.SVGRenderer.prototype.symbols.perTriangleDown,Highcharts.VMLRenderer.prototype.symbols.perTriangle=Highcharts.SVGRenderer.prototype.symbols.perTriangle,Highcharts.VMLRenderer.prototype.symbols.longarrowright=Highcharts.SVGRenderer.prototype.symbols.longarrowright,Highcharts.VMLRenderer.prototype.symbols.longarrowleft=Highcharts.SVGRenderer.prototype.symbols.longarrowleft,Highcharts.VMLRenderer.prototype.symbols.longarrowup=Highcharts.SVGRenderer.prototype.symbols.longarrowup,Highcharts.VMLRenderer.prototype.symbols.longarrowdown=Highcharts.SVGRenderer.prototype.symbols.longarrowdown,Highcharts.VMLRenderer.prototype.symbols.arrowright=Highcharts.SVGRenderer.prototype.symbols.arrowright,Highcharts.VMLRenderer.prototype.symbols.arrowleft=Highcharts.SVGRenderer.prototype.symbols.arrowleft,Highcharts.VMLRenderer.prototype.symbols.arrowup=Highcharts.SVGRenderer.prototype.symbols.arrowup,Highcharts.VMLRenderer.prototype.symbols.arrowdown=Highcharts.SVGRenderer.prototype.symbols.arrowdown,Highcharts.VMLRenderer.prototype.symbols.arrowtip=Highcharts.SVGRenderer.prototype.symbols.arrowtip,Highcharts.VMLRenderer.prototype.symbols.rightlast=Highcharts.SVGRenderer.prototype.symbols.rightlast,Highcharts.VMLRenderer.prototype.symbols.lastright=Highcharts.SVGRenderer.prototype.symbols.lastright,Highcharts.VMLRenderer.prototype.symbols.last=Highcharts.SVGRenderer.prototype.symbols.last,Highcharts.VMLRenderer.prototype.symbols.lowdash=Highcharts.SVGRenderer.prototype.symbols.lowdash,Highcharts.VMLRenderer.prototype.symbols.updash=Highcharts.SVGRenderer.prototype.symbols.updash))}(Highcharts),function(t){function e(t){var e=0==(t=new Date(t)).getUTCDay()?7:t.getUTCDay();for(t.setUTCDate(t.getUTCDate()+4-e),t=Math.floor((+t-new Date(t.getUTCFullYear(),0,1,-6))/864e5),t=1+Math.floor(t/7),void 0===(e=void 0)&&(e=10);parseInt(t,10)<e&&1<e;e/=10)t=(0).toString()+t;return t.toString()}var i=Math.round;t.extend(t.Series.prototype,{alignDataLabel:function(e,n,o,s,r){var a=this.chart,l=a.inverted,c=t.pick(e.plotX,-999),h=t.pick(e.plotY,-999),d=n.getBBox(),u=a.renderer.fontMetrics(o.style.fontSize).b,p=this.visible&&(e.series.forceDL||a.isInsidePlot(c,i(h),l)||s&&a.isInsidePlot(c,l?s.x+1:s.y+s.height-1,l));if(p)if(s=t.extend({x:l?a.plotWidth-h:c,y:i(l?a.plotHeight-c:h),width:0,height:0},s),t.extend(o,{width:d.width,height:d.height}),o.rotation)e=a.renderer.rotCorr(u,o.rotation),n[r?"attr":"animate"]({x:s.x+o.x+s.width/2+e.x,y:s.y+o.y+s.height/2}).attr({align:o.align});else{if(n.align(o,null,s),l=n.alignAttr,"financechart"===t.pick(o.overflow,"justify")){var f;c=o.align;0>(h=l.x)&&("right"===c?o.align="left":o.x=-h/2,f=!0),(h=l.x+d.width)>a.plotWidth&&("left"===c?o.align="right":o.x=(a.plotWidth-h)/2,f=!0),f&&(n.placed=!r,n.align(o,null,s))}else"justify"===t.pick(o.overflow,"justify")?this.justifyDataLabel(n,o,l,d,s,r):t.pick(o.crop,!0)&&(p=a.isInsidePlot(l.x,l.y)&&a.isInsidePlot(l.x+d.width,l.y+d.height));o.shape&&n.attr({anchorX:e.plotX,anchorY:e.plotY})}p||(n.attr({y:-999}),n.placed=!1)}}),t.extend(t.Chart.prototype,{hideOverlappingLabels:function(t){if(!this.userOptions.financechartConfig||this.userOptions.financechartConfig&&this.userOptions.financechartConfig.tuning.hideOverlappingLabels){var e,i,n,o,s=t.length;for(i=0;i<s;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return e.labelrank-t.labelrank}),i=0;i<s;i++)for(n=t[i],e=i+1;e<s;++e)o=t[e],n&&o&&n.placed&&o.placed&&0!==n.newOpacity&&0!==o.newOpacity&&!(o.alignAttr.x>n.alignAttr.x+n.width||o.alignAttr.x+o.width<n.alignAttr.x||o.alignAttr.y>n.alignAttr.y+n.height||o.alignAttr.y+o.height<n.alignAttr.y)&&((n.labelrank<o.labelrank?n:o).newOpacity=0);for(i=0;i<s;i++)(e=t[i])&&(e.oldOpacity!==e.newOpacity&&e.placed&&(e.alignAttr.opacity=e.newOpacity,e[e.isOld&&e.newOpacity?"animate":"attr"](e.alignAttr)),e.isOld=!0)}}}),t.dateFormats={V:e,W:e}}(Highcharts),function(t){function e(t){for(var e=t.length;e--;)"number"==typeof t[e]&&(t[e]=Math.round(t[e])-.5);return t}if(!/Node.js/.test(navigator.userAgent)){var i,n=t.Chart,o=t.addEvent,s=t.removeEvent,r=HighchartsAdapter.fireEvent,a=t.createElement,l=t.discardElement,c=t.css,h=t.merge,d=t.each,u=t.extend,p=t.splat,f=Math.max,g=document,m=window,v=t.isTouchDevice,y=t.Renderer.prototype.symbols,b=t.getOptions();b.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:v?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},b.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},t.post=function(t,e,i){var n;t=a("form",h({method:"post",action:t,enctype:"multipart/form-data"},i),{display:"none"},g.body);for(n in e)a("input",{type:"hidden",name:n,value:e[n]},null,t);t.submit(),l(t)},u(n.prototype,{getSVG:function(e){var i,n,o,s,r,c=this,f=h(c.options,e);return g.createElementNS||(g.createElementNS=function(t,e){return g.createElement(e)}),n=a("div",null,{position:"absolute",top:"-9999em",width:c.chartWidth+"px",height:c.chartHeight+"px"},g.body),o=c.renderTo.style.width,r=c.renderTo.style.height,o=f.exporting.sourceWidth||f.chart.width||/px$/.test(o)&&parseInt(o,10)||600,r=f.exporting.sourceHeight||f.chart.height||/px$/.test(r)&&parseInt(r,10)||400,u(f.chart,{animation:!1,renderTo:n,forExport:!0,width:o,height:r}),f.exporting.enabled=!1,f.series=[],d(c.series,function(t){(s=h(t.options,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible})).isInternal||f.series.push(s)}),e&&d(["xAxis","yAxis"],function(t){d(p(e[t]),function(e,i){f[t][i]=h(f[t][i],e)})}),i=new t.Chart(f,c.callback),d(["xAxis","yAxis"],function(t){d(c[t],function(e,n){var o=i[t][n],s=(r=e.getExtremes()).userMin,r=r.userMax;o&&(void 0!==s||void 0!==r)&&o.setExtremes(s,r,!0,!1)})}),o=i.container.innerHTML,f=null,i.destroy(),l(n),2===(o=(o=o.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"").replace(/&shy;/g,"").replace(/clippath/g,"clipPath").replace(/lineargradient/g,"linearGradient").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()})).replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")).match(/ xmlns="/g).length&&(o=o.replace(/xmlns="[^"]+"/,"")),o},getSVGForExport:function(t,e){var i=this.options.exporting;return this.getSVG(h({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))},exportChart:function(e,i){var n=this.getSVGForExport(e,i);e=h(this.options.exporting,e);t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,svg:n},e.formAttributes)},print:function(){var t=this,e=t.container,i=[],n=e.parentNode,o=g.body,s=o.childNodes;t.isPrinting||(t.isPrinting=!0,r(t,"beforePrint"),d(s,function(t,e){1===t.nodeType&&(i[e]=t.style.display,t.style.display="none")}),o.appendChild(e),k(e,!0),m.focus(),m.print(),setTimeout(function(){n.appendChild(e),d(s,function(t,e){1===t.nodeType&&(t.style.display=i[e])}),t.isPrinting=!1,C(),r(t,"afterPrint")},1e3))},contextMenu:function(t,e,i,n,r,l,h){var p,g,m,v=this,y=v.options.navigation,b=y.menuItemStyle,x=v.chartWidth,w=v.chartHeight,k="cache-"+t,C=v[k],T=f(r,l),S=function(e){v.pointer.inClass(e.target,t)||g()};C||(v[k]=C=a("div",{className:t},{position:"absolute",zIndex:1e3,padding:T+"px"},v.container),p=a("div",null,u({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},y.menuStyle),C),g=function(){c(C,{display:"none"}),h&&h.setState(0),v.openMenu=!1},o(C,"mouseleave",function(){m=setTimeout(g,500)}),o(C,"mouseenter",function(){clearTimeout(m)}),o(document,"mouseup",S),o(v,"destroy",function(){s(document,"mouseup",S)}),d(e,function(t){if(t){var e=t.separator?a("hr",null,null,p):a("div",{onmouseover:function(){c(this,y.menuItemHoverStyle)},onmouseout:function(){c(this,b)},onclick:function(){g(),t.onclick&&t.onclick.apply(v,arguments)},innerHTML:t.text||v.options.lang[t.textKey]},u({cursor:"pointer"},b),p);v.exportDivElements.push(e)}}),v.exportDivElements.push(p,C),v.exportMenuWidth=C.offsetWidth,v.exportMenuHeight=C.offsetHeight),e={display:"block"},i+v.exportMenuWidth>x?e.right=x-i-r-T+"px":e.left=i-T+"px",n+l+v.exportMenuHeight>w&&"top"!==h.alignOptions.verticalAlign?e.bottom=w-n-T+"px":e.top=n+l-T+"px",c(C,e),v.openMenu=!0},addButton:function(e){var n,o,s=this,r=s.renderer,a=h(s.options.navigation.buttonOptions,e),l=a.onclick,c=a.menuItems,d={stroke:a.symbolStroke,fill:a.symbolFill},p=a.symbolSize||12;if(s.btnCount||(s.btnCount=0),s.exportDivElements||(s.exportDivElements=[],s.exportSVGElements=[]),!1!==a.enabled){var f,g=a.theme,m=(v=g.states)&&v.hover,v=v&&v.select;delete g.states,l?f=function(){l.apply(s,arguments)}:c&&(f=function(){s.contextMenu(o.menuClassName,c,o.translateX,o.translateY,o.width,o.height,o),o.setState(2)}),a.text&&a.symbol?g.paddingLeft=t.pick(g.paddingLeft,25):a.text||u(g,{width:a.width,height:a.height,padding:0}),(o=r.button(a.text,0,0,f,g,m,v).attr({title:s.options.lang[a._titleKey],"stroke-linecap":"round"})).menuClassName=e.menuClassName||"highcharts-menu-"+s.btnCount++,a.symbol&&(n=r.symbol(a.symbol,a.symbolX-p/2,a.symbolY-p/2,p,p).attr(u(d,{"stroke-width":a.symbolStrokeWidth||1,zIndex:1})).add(o)),o.add().align(u(a,{width:o.width,x:t.pick(a.x,i)}),!0,"spacingBox"),i+=(o.width+a.buttonSpacing)*("right"===a.align?-1:1),s.exportSVGElements.push(o,n)}},destroyExport:function(t){var e,i;t=t.target;for(e=0;e<t.exportSVGElements.length;e++)(i=t.exportSVGElements[e])&&(i.onclick=i.ontouchstart=null,t.exportSVGElements[e]=i.destroy());for(e=0;e<t.exportDivElements.length;e++)i=t.exportDivElements[e],s(i,"mouseleave"),t.exportDivElements[e]=i.onmouseout=i.onmouseover=i.ontouchstart=i.onclick=null,l(i)}}),y.menu=function(t,e,i,n){return["M",t,e+2.5,"L",t+i,e+2.5,"M",t,e+n/2+.5,"L",t+i,e+n/2+.5,"M",t,e+n-1.5,"L",t+i,e+n-1.5]},y.exportIcon=function(t,i,n,o){return e(["M",t,i+n,"L",t+n,i+o,t+n,i+.8*o,t,i+.8*o,"Z","M",t+.5*n,i+.8*o,"L",t+.8*n,i+.4*o,t+.4*n,i+.4*o,t+.4*n,i,t+.6*n,i,t+.6*n,i+.4*o,t+.2*n,i+.4*o,"Z"])},y.printIcon=function(t,i,n,o){return e(["M",t,i+.7*o,"L",t+n,i+.7*o,t+n,i+.4*o,t,i+.4*o,"Z","M",t+.2*n,i+.4*o,"L",t+.2*n,i,t+.8*n,i,t+.8*n,i+.4*o,"Z","M",t+.2*n,i+.7*o,"L",t,i+o,t+n,i+o,t+.8*n,i+.7*o,"Z"])},n.prototype.callbacks.push(function(t){var e,n=t.options.exporting,s=n.buttons;if(i=0,!1!==n.enabled){for(e in s)t.addButton(s[e]);o(t,"destroy",t.destroyExport)}});var x=null,w=$("#rolochart-credits"),k=function(t,e){"none"==x||0>=w.length||((t&&"beforeprint"==t.type||!t)&&(t=$("#highcharts-0")[0]),x=w.css("display"),w.css("display","block"),t&&(e||"none"==x?t.appendChild(w[0]):t.appendChild(w.clone()[0])))},C=function(){0>=w.length||(w.css("display",x),x=null)};window.matchMedia&&(n=window.matchMedia("print"))&&n.addListener&&n.addListener(function(t){t.matches?k():C()}),window.onbeforeprint=k,window.onafterprint=C}}(Highcharts),function(t){if("function"==typeof define&&define.amd)define([],t);else if("object"==typeof exports){var e=require("fs");module.exports=t(),module.exports.css=function(){return e.readFileSync(__dirname+"/nouislider.min.css","utf8")}}else window.noUiSlider=t()}(function(){"use strict";function t(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.defaultView||i.parentWindow,o=i.documentElement,s=n.pageXOffset;return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(s=0),{top:e.top+n.pageYOffset-o.clientTop,left:e.left+s-o.clientLeft}}function e(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(t,e,i){s(t,e),setTimeout(function(){r(t,e)},i)}function n(t){return Math.max(Math.min(t,100),0)}function o(t){return Array.isArray(t)?t:[t]}function s(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function r(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}var a=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},l=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];function c(t,e){return 100/(e-t)}function h(t,e){return 100*e/(t[1]-t[0])}function d(t,e){for(var i=1;t>=e[i];)i+=1;return i}function u(t,e,i){if(i>=t.slice(-1)[0])return 100;var n,o,s,r,a=d(i,t);return n=t[a-1],o=t[a],s=e[a-1],r=e[a],s+function(t,e){return h(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}([n,o],i)/c(s,r)}function p(t,e,i,n){if(100===n)return n;var o,s,r=d(n,t);return i?n-(o=t[r-1])>((s=t[r])-o)/2?s:o:e[r-1]?t[r-1]+function(t,e){return Math.round(t/e)*e}(n-t[r-1],e[r-1]):n}function f(t,i,n){var o;if("number"==typeof i&&(i=[i]),"[object Array]"!==Object.prototype.toString.call(i))throw new Error("noUiSlider: 'range' contains invalid value.");if(!e(o="min"===t?0:"max"===t?100:parseFloat(t))||!e(i[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(o),n.xVal.push(i[0]),o?n.xSteps.push(!isNaN(i[1])&&i[1]):isNaN(i[1])||(n.xSteps[0]=i[1])}function g(t,e,i){if(!e)return!0;i.xSteps[t]=h([i.xVal[t],i.xVal[t+1]],e)/c(i.xPct[t],i.xPct[t+1])}function m(t,e,i,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=e,this.direction=i;var o,s=[];for(o in t)t.hasOwnProperty(o)&&s.push([t[o],o]);for(s.sort(function(t,e){return t[0]-e[0]}),o=0;o<s.length;o++)f(s[o][1],s[o][0],this);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)g(o,this.xNumSteps[o],this)}m.prototype.getMargin=function(t){return 2===this.xPct.length&&h(this.xVal,t)},m.prototype.toStepping=function(t){return t=u(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},m.prototype.fromStepping=function(t){return this.direction&&(t=100-t),e=function(t,e,i){if(i>=100)return t.slice(-1)[0];var n,o=d(i,e);return function(t,e){return e*(t[1]-t[0])/100+t[0]}([t[o-1],t[o]],(i-(n=e[o-1]))*c(n,e[o]))}(this.xVal,this.xPct,t),i=Math.pow(10,7),Number((Math.round(e*i)/i).toFixed(7));var e,i},m.prototype.getStep=function(t){return this.direction&&(t=100-t),t=p(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},m.prototype.getApplicableStep=function(t){var e=d(t,this.xPct),i=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-i],this.xNumSteps[e-i]]},m.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var v={to:function(t){return t.toFixed(2)},from:Number};function y(t,i){if(!e(i))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=i}function b(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new m(e,t.snap,t.dir,t.singleStep)}function x(t,e){if(e=o(e),!Array.isArray(e)||!e.length||e.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function w(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function k(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function C(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(!0===e&&2===t.handles)t.connect=3;else{if(!1!==e)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function T(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function S(t,i){if(!e(i))throw new Error("noUiSlider: 'margin' option must be numeric.");if(t.margin=t.spectrum.getMargin(i),!t.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function E(t,i){if(!e(i))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(i),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function P(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function _(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,n=e.indexOf("drag")>=0,o=e.indexOf("fixed")>=0,s=e.indexOf("snap")>=0;t.events={tap:i||s,drag:n,fixed:o,snap:s}}function A(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function M(t,e){var i=document.createElement("div"),n=document.createElement("div"),o=["-lower","-upper"];return t&&o.reverse(),s(n,l[3]),s(n,l[3]+o[e]),s(i,l[2]),i.appendChild(n),i}function D(e,c){var h,d,u,p,f,g,m,v,y,b=e,x=[-1,-1],w=c.spectrum,k=[],C={};function T(t,e,i){var n=["horizontal","vertical"][c.ort],o=document.createElement("div");function r(t,e,i){return'class="'+e+" "+e+"-"+n+" "+e+["-normal","-large","-sub"][i[1]]+'" style="'+c.style+": "+t+'%"'}return s(o,"noUi-pips"),s(o,"noUi-pips-"+n),Object.keys(t).forEach(function(n){var s,a;s=n,a=t[n],w.direction&&(s=100-s),a[1]=a[1]&&e?e(a[0],a[1]):a[1],o.innerHTML+="<div "+r(s,"noUi-marker",a)+"></div>",a[1]&&(o.innerHTML+="<div "+r(s,"noUi-value",a)+">"+i.to(a[0])+"</div>")}),o}function S(){return h["offset"+["Width","Height"][c.ort]]}function E(t,e){void 0!==e&&(e=Math.abs(e-c.dir)),Object.keys(C).forEach(function(i){var n=i.split(".")[0];t===n&&C[i].forEach(function(t){t(o(O()),e,P(Array.prototype.slice.call(k)))})})}function P(t){return 1===t.length?t[0]:c.dir?t.reverse():t}function _(t,e,i,n){var o=function(e){return!b.hasAttribute("disabled")&&(o=b,s=l[14],!void(o.classList?o.classList.contains(s):new RegExp("(^| )"+s+"( |$)","gi").test(o.className))&&(e=function(t){t.preventDefault();var e,i,n=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer"),r=t;return 0===t.type.indexOf("MSPointer")&&(s=!0),n&&(e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY),(o||s)&&(e=t.clientX+window.pageXOffset,i=t.clientY+window.pageYOffset),r.points=[e,i],r.cursor=o||s,r}(e),!(t===a.start&&void 0!==e.buttons&&e.buttons>1)&&(e.calcPoint=e.points[c.ort],void i(e,n))));var o,s},s=[];return t.split(" ").forEach(function(t){e.addEventListener(t,o,!1),s.push([t,o])}),s}function A(t,e){var i,o,s,r,a,l,c,h=e.handles||d,u=!1,p=100*(t.calcPoint-e.start)/S(),f=h[0]===d[0]?0:1;if(s=p,r=e.positions,a=h.length>1,l=s+r[0],c=s+r[1],i=a?(l<0&&(c+=Math.abs(l)),c>100&&(l-=c-100),[n(l),n(c)]):[l,c],u=L(h[0],i[f],1===h.length),h.length>1){if(u=L(h[1],i[f?0:1],!1)||u)for(o=0;o<e.handles.length;o++)E("slide",o)}else u&&E("slide",f)}function D(t,e){var i=h.getElementsByClassName(l[15]),n=e.handles[0]===d[0]?0:1;i.length&&r(i[0],l[15]),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var o=document.documentElement;o.noUiListeners.forEach(function(t){o.removeEventListener(t[0],t[1])}),r(b,l[12]),E("set",n),E("change",n)}function $(t,e){var i=document.documentElement;if(1===e.handles.length&&(s(e.handles[0].children[0],l[15]),e.handles[0].hasAttribute("disabled")))return!1;t.stopPropagation();var n=_(a.move,i,A,{start:t.calcPoint,handles:e.handles,positions:[x[0],x[d.length-1]]}),o=_(a.end,i,D,{handles:e.handles});if(i.noUiListeners=n.concat(o),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,d.length>1&&s(b,l[12]);var r=function(){return!1};document.body.noUiListener=r,document.body.addEventListener("selectstart",r,!1)}}function I(e){var n,o,s=e.calcPoint,r=0;if(e.stopPropagation(),d.forEach(function(e){r+=t(e)[c.style]}),n=s<r/2||1===d.length?0:1,o=100*(s-=t(h)[c.style])/S(),c.events.snap||i(b,l[14],300),d[n].hasAttribute("disabled"))return!1;L(d[n],o),E("slide",n),E("set",n),E("change",n),c.events.snap&&$(e,{handles:[d[r]]})}function L(t,e,i){var o=t!==d[0]?1:0,a=x[0]+c.margin,h=x[1]-c.margin,u=x[0]+c.limit,p=x[1]-c.limit;return d.length>1&&(e=o?Math.max(e,a):Math.min(e,h)),!1!==i&&c.limit&&d.length>1&&(e=o?Math.min(e,u):Math.max(e,p)),e=w.getStep(e),(e=n(parseFloat(e.toFixed(7))))!==x[o]&&(t.style[c.style]=e+"%",t.previousSibling||(r(t,l[17]),e>50&&s(t,l[17])),x[o]=e,k[o]=w.fromStepping(e),E("update",o),!0)}function O(){var t,e=[];for(t=0;t<c.handles;t+=1)e[t]=c.format.to(k[t]);return P(e)}if(b.noUiSlider)throw new Error("Slider was already initialized.");return h=function(t,e,i){s(i,l[0]),s(i,l[8+t]),s(i,l[4+e]);var n=document.createElement("div");return s(n,l[1]),i.appendChild(n),n}(c.dir,c.ort,b),d=function(t,e,i){var n,o=[];for(n=0;n<t;n+=1)o.push(i.appendChild(M(e,n)));return o}(c.handles,c.dir,h),function(t,e,i){switch(t){case 1:s(e,l[7]),s(i[0],l[6]);break;case 3:s(i[1],l[6]);case 2:s(i[0],l[7]);case 0:s(e,l[6])}}(c.connect,b,d),function(t){var e,i;if(!t.fixed)for(e=0;e<d.length;e+=1)_(a.start,d[e].children[0],$,{handles:[d[e]]});t.tap&&_(a.start,h,I,{handles:d}),t.drag&&(s((i=[h.getElementsByClassName(l[7])[0]])[0],l[10]),t.fixed&&i.push(d[i[0]===d[0]?1:0].children[0]),i.forEach(function(t){_(a.start,t,$,{handles:d})}))}(c.events),c.pips&&(u=c.pips,p=u.mode,f=u.density||1,g=u.filter||!1,m=function(t,e,i){if("range"===t||"steps"===t)return w.xVal;if("count"===t){var n,o=100/(e-1),s=0;for(e=[];(n=s++*o)<=100;)e.push(n);t="positions"}return"positions"===t?e.map(function(t){return w.fromStepping(i?w.getStep(t):t)}):"values"===t?i?e.map(function(t){return w.fromStepping(w.getStep(w.toStepping(t)))}):e:void 0}(p,u.values||!1,u.stepped||!1),v=function(t,e,i){var n,o=w.direction,s={},r=w.xVal[0],a=w.xVal[w.xVal.length-1],l=!1,c=!1,h=0;return w.direction=0,n=i.slice().sort(function(t,e){return t-e}),(i=n.filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==r&&(i.unshift(r),l=!0),i[i.length-1]!==a&&(i.push(a),c=!0),i.forEach(function(n,o){var r,a,d,u,p,f,g,m,v,y=n,b=i[o+1];if("steps"===e&&(r=w.xNumSteps[o]),r||(r=b-y),!1!==y&&void 0!==b)for(a=y;a<=b;a+=r){for(g=(p=(u=w.toStepping(a))-h)/t,v=p/(m=Math.round(g)),d=1;d<=m;d+=1)s[(h+d*v).toFixed(5)]=["x",0];f=i.indexOf(a)>-1?1:"steps"===e?2:0,!o&&l&&(f=0),a===b&&c||(s[u.toFixed(5)]=[a,f]),h=u}}),w.direction=o,s}(f,p,m),y=u.format||{to:Math.round},b.appendChild(T(v,g,y))),{destroy:function(){l.forEach(function(t){t&&r(b,t)}),b.innerHTML="",delete b.noUiSlider},steps:function(){return P(x.map(function(t,e){var i,n,o=w.getApplicableStep(t),s=(i=String(o[2]),(n=i.split(".")).length>1?n[1].length:0),r=k[e],a=100===t?null:o[2],l=Number((r-o[2]).toFixed(s));return[0===t?null:l>=o[1]?o[2]:o[0]||!1,a]}))},on:function(t,e){C[t]=C[t]||[],C[t].push(e),"update"===t.split(".")[0]&&d.forEach(function(t,e){E("update",e)})},off:function(t){var e=t.split(".")[0],i=t.substring(e.length);Object.keys(C).forEach(function(t){var n=t.split(".")[0],o=t.substring(n.length);e&&e!==n||i&&i!==o||delete C[t]})},get:O,set:function(t){var e,n,s=o(t);for(c.dir&&c.handles>1&&s.reverse(),c.animate&&-1!==x[0]&&i(b,l[14],300),e=d.length>1?3:1,1===s.length&&(e=1),function(t,e){var i,n,o;for(c.limit&&(t+=1),i=0;i<t;i+=1)null!==(o=e[n=i%2])&&!1!==o&&("number"==typeof o&&(o=String(o)),(!1===(o=c.format.from(o))||isNaN(o)||!1===L(d[n],w.toStepping(o),i===3-c.dir))&&E("update",n))}(e,s),n=0;n<d.length;n++)E("set",n)}}}return{create:function(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var i=function(t){var e,i={margin:0,limit:0,animate:!0,format:v};e={step:{r:!1,t:y},start:{r:!0,t:x},connect:{r:!0,t:C},direction:{r:!0,t:P},snap:{r:!1,t:w},animate:{r:!1,t:k},range:{r:!0,t:b},orientation:{r:!1,t:T},margin:{r:!1,t:S},limit:{r:!1,t:E},behaviour:{r:!0,t:_},format:{r:!1,t:A}};var n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(n).forEach(function(e){void 0===t[e]&&(t[e]=n[e])}),Object.keys(e).forEach(function(n){var o=e[n];if(void 0===t[n]){if(o.r)throw new Error("noUiSlider: '"+n+"' is required.");return!0}o.t(i,t[n])}),i.pips=t.pips,i.style=i.ort?"top":"left",i}(e),n=D(t,i);n.set(i.start),t.noUiSlider=n}}}),function(t){function e(n,o){return this instanceof e?(t.isPlainObject(n)?o=n:(o=o||{}).alias=n,this.el=void 0,this.opts=t.extend(!0,{},this.defaults,o),this.noMasksCache=o&&void 0!==o.definitions,this.userOptions=o||{},this.events={},void i(this.opts.alias,o,this.opts)):new e(n,o)}function i(e,n,o){var s=o.aliases[e];return s?(s.alias&&i(s.alias,void 0,o),t.extend(!0,o,s),t.extend(!0,o,n),!0):(null===o.mask&&(o.mask=e),!1)}function n(i,n){function o(e){function n(t,e,i,n){this.matches=[],this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function o(e,n,o){var s=i.definitions[n];o=void 0!==o?o:e.matches.length;var r=e.matches[o-1];if(s&&!m){s.placeholder=t.isFunction(s.placeholder)?s.placeholder(i):s.placeholder;for(var a=s.prevalidator,l=a?a.length:0,c=1;c<s.cardinality;c++){var h=l>=c?a[c-1]:[],d=h.validator,u=h.cardinality;e.matches.splice(o++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:u||1,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==(s.definitionSymbol||n),casing:s.casing,def:s.definitionSymbol||n,placeholder:s.placeholder,mask:n}),r=e.matches[o-1]}e.matches.splice(o++,0,{fn:s.validator?"string"==typeof s.validator?new RegExp(s.validator):new function(){this.test=s.validator}:new RegExp("."),cardinality:s.cardinality,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==(s.definitionSymbol||n),casing:s.casing,def:s.definitionSymbol||n,placeholder:s.placeholder,mask:n})}else e.matches.splice(o++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,mask:n}),m=!1}function s(t,e){t.isGroup&&(t.isGroup=!1,o(t,i.groupmarker.start,0),!0!==e&&o(t,i.groupmarker.end))}function r(t,e,i,n){e.matches.length>0&&(void 0===n||n)&&s(e.matches[e.matches.length-1]),o(e,t)}function a(){if(y.length>0){if(d=y[y.length-1],r(c,d,0,!d.isAlternator),d.isAlternator){u=y.pop();for(var t=0;t<u.matches.length;t++)u.matches[t].isGroup=!1;y.length>0?(d=y[y.length-1]).matches.push(u):v.matches.push(u)}}else r(c,v)}for(var l,c,h,d,u,p,f,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,m=!1,v=new n,y=[],b=[];l=g.exec(e);)if(c=l[0],m)a();else switch(c.charAt(0)){case i.escapeChar:m=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(void 0!==(h=y.pop()))if(y.length>0){if((d=y[y.length-1]).matches.push(h),d.isAlternator){u=y.pop();for(var x=0;x<u.matches.length;x++)u.matches[x].isGroup=!1;y.length>0?(d=y[y.length-1]).matches.push(u):v.matches.push(u)}}else v.matches.push(h);else a();break;case i.optionalmarker.start:y.push(new n(!1,!0));break;case i.groupmarker.start:y.push(new n(!0));break;case i.quantifiermarker.start:var w=new n(!1,!1,!0),k=(c=c.replace(/[{}]/g,"")).split(","),C=isNaN(k[0])?k[0]:parseInt(k[0]),T=1===k.length?C:isNaN(k[1])?k[1]:parseInt(k[1]);if(("*"===T||"+"===T)&&(C="*"===T?0:1),w.quantifier={min:C,max:T},y.length>0){var S=y[y.length-1].matches;(l=S.pop()).isGroup||((f=new n(!0)).matches.push(l),l=f),S.push(l),S.push(w)}else(l=v.matches.pop()).isGroup||((f=new n(!0)).matches.push(l),l=f),v.matches.push(l),v.matches.push(w);break;case i.alternatormarker:y.length>0?(d=y[y.length-1],p=d.matches.pop()):p=v.matches.pop(),p.isAlternator?y.push(p):((u=new n(!1,!1,!1,!0)).matches.push(p),y.push(u));break;default:a()}for(;y.length>0;)s(h=y.pop(),!0),v.matches.push(h);return v.matches.length>0&&(s(p=v.matches[v.matches.length-1]),b.push(v)),i.numericInput&&function t(e){for(var n in e.matches=e.matches.reverse(),e.matches){var o=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[o+1]&&e.matches[o+1].isGroup){var s=e.matches[n];e.matches.splice(n,1),e.matches.splice(o+1,0,s)}void 0!==e.matches[n].matches?e.matches[n]=t(e.matches[n]):e.matches[n]=((r=e.matches[n])===i.optionalmarker.start?r=i.optionalmarker.end:r===i.optionalmarker.end?r=i.optionalmarker.start:r===i.groupmarker.start?r=i.groupmarker.end:r===i.groupmarker.end&&(r=i.groupmarker.start),r)}var r;return e}(b[0]),b}function s(s,r){if(null!==s&&""!==s){if(1===s.length&&!1===i.greedy&&0!==i.repeat&&(i.placeholder=""),i.repeat>0||"*"===i.repeat||"+"===i.repeat){var a="*"===i.repeat?0:"+"===i.repeat?1:i.repeat;s=i.groupmarker.start+s+i.groupmarker.end+i.quantifiermarker.start+a+","+i.repeat+i.quantifiermarker.end}var l;return void 0===e.prototype.masksCache[s]||!0===n?(l={mask:s,maskToken:o(s),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r},!0!==n&&(e.prototype.masksCache[i.numericInput?s.split("").reverse().join(""):s]=l,l=t.extend(!0,{},e.prototype.masksCache[i.numericInput?s.split("").reverse().join(""):s]))):l=t.extend(!0,{},e.prototype.masksCache[i.numericInput?s.split("").reverse().join(""):s]),l}}function r(t){return t.toString()}var a;if(t.isFunction(i.mask)&&(i.mask=i.mask(i)),t.isArray(i.mask)){if(i.mask.length>1){i.keepStatic=null===i.keepStatic||i.keepStatic;var l="(";return t.each(i.numericInput?i.mask.reverse():i.mask,function(e,i){l.length>1&&(l+=")|("),l+=r(void 0===i.mask||t.isFunction(i.mask)?i:i.mask)}),s(l+=")",i.mask)}i.mask=i.mask.pop()}return i.mask&&(a=void 0===i.mask.mask||t.isFunction(i.mask.mask)?s(r(i.mask),i.mask):s(r(i.mask.mask),i.mask)),a}function o(i,n,s){function c(t,e,i){e=e||0;var n,o,r,a=[],l=0,c=u();do{if(!0===t&&h().validPositions[l]){var d=h().validPositions[l];o=d.match,n=d.locator.slice(),a.push(!0===i?d.input:$(l,o))}else o=(r=g(l,n,l-1)).match,n=r.locator.slice(),(!1===s.jitMasking||c>l||isFinite(s.jitMasking)&&s.jitMasking>l)&&a.push($(l,o));l++}while((void 0===nt||nt>l-1)&&null!==o.fn||null===o.fn&&""!==o.def||e>=l);return""===a[a.length-1]&&a.pop(),a}function h(){return n}function d(t){var e=h();e.buffer=void 0,!0!==t&&(e.tests={},e._buffer=void 0,e.validPositions={},e.p=0)}function u(t,e){var i=-1,n=-1,o=h().validPositions;for(var s in void 0===t&&(t=-1),o){var r=parseInt(s);o[r]&&(e||null!==o[r].match.fn)&&(t>=r&&(i=r),r>=t&&(n=r))}return-1!==i&&t-i>1||t>n?i:n}function p(e,i,n){if(s.insertMode&&void 0!==h().validPositions[e]&&void 0===n){var o,r=t.extend(!0,{},h().validPositions),a=u();for(o=e;a>=o;o++)delete h().validPositions[o];h().validPositions[e]=i;var l,c=!0,p=h().validPositions;for(o=l=e;a>=o;o++){var f=r[o];if(void 0!==f)for(var g=l,m=-1;g<P()&&(null==f.match.fn&&p[o]&&(!0===p[o].match.optionalQuantifier||!0===p[o].match.optionality)||null!=f.match.fn);){if(null===f.match.fn||!s.keepStatic&&p[o]&&(void 0!==p[o+1]&&b(o+1,p[o].locator.slice(),o).length>1||void 0!==p[o].alternation)?g++:g=_(l),v(g,f.match.def)){var y=S(g,f.input,!0,!0);c=!1!==y,l=y.caret||y.insert?u():g;break}if(c=null==f.match.fn,m===g)break;m=g}if(!c)break}if(!c)return h().validPositions=t.extend(!0,{},r),d(!0),!1}else h().validPositions[e]=i;return d(!0),!0}function f(t,e,i,n){function o(t){var e=h().validPositions[t];if(void 0!==e&&null===e.match.fn){var i=h().validPositions[t-1],n=h().validPositions[t+1];return void 0!==i&&void 0!==n}return!1}var r,a=t;for(h().p=t,r=a;e>r;r++)void 0!==h().validPositions[r]&&(!0===i||!o(r)&&!1!==s.canClearPosition(h(),r,u(),n,s))&&delete h().validPositions[r];for(d(!0),r=a+1;r<=u();){for(;void 0!==h().validPositions[a];)a++;var l=h().validPositions[a];if(a>r&&(r=a+1),void 0===h().validPositions[r]&&E(r)||void 0!==l)r++;else{var c=g(r);v(a,c.match.def)?!1!==S(a,c.input||$(r),!0)&&(delete h().validPositions[r],r++):E(r)||(r++,a--),a++}}var p=u(),f=P();for(!0!==n&&!0!==i&&void 0!==h().validPositions[p]&&h().validPositions[p].input===s.radixPoint&&delete h().validPositions[p],r=p+1;f>=r;r++)h().validPositions[r]&&delete h().validPositions[r];d(!0)}function g(t,e,i){var n=h().validPositions[t];if(void 0===n)for(var o=b(t,e,i),r=u(),a=h().validPositions[r]||b(0)[0],l=void 0!==a.alternation?a.locator[a.alternation].toString().split(","):[],c=0;c<o.length&&!((n=o[c]).match&&(s.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(void 0===a.alternation||a.alternation!==n.alternation||void 0!==n.locator[a.alternation]&&T(n.locator[a.alternation].toString().split(","),l)));c++);return n}function m(t){return h().validPositions[t]?h().validPositions[t].match:b(t)[0].match}function v(t,e){for(var i=!1,n=b(t),o=0;o<n.length;o++)if(n[o].match&&n[o].match.def===e){i=!0;break}return i}function y(e,i){var n,o;return(h().tests[e]||h().validPositions[e])&&t.each(h().tests[e]||[h().validPositions[e]],function(t,e){var s=e.alternation?e.locator[e.alternation].toString().indexOf(i):-1;(void 0===o||o>s)&&-1!==s&&(n=e,o=s)}),n}function b(e,i,n){function o(i,n,r,a){function c(r,a,f){function g(e,i){var n=0===t.inArray(e,i.matches);return n||t.each(i.matches,function(t,o){return(!0!==o.isQuantifier||!(n=g(e,i.matches[t-1])))&&void 0}),n}function m(t,e){var i=y(t,e);return i?i.locator.slice(i.alternation+1):[]}if(l>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+h().mask;if(l===e&&void 0===r.matches)return d.push({match:r,locator:a.reverse(),cd:p}),!0;if(void 0!==r.matches){if(r.isGroup&&f!==r){if(r=c(i.matches[t.inArray(r,i.matches)+1],a))return!0}else if(r.isOptional){var v=r;if(r=o(r,n,a,f)){if(!g(s=d[d.length-1].match,v))return!0;u=!0,l=e}}else if(r.isAlternator){var b,x=r,w=[],k=d.slice(),C=a.length,T=n.length>0?n.shift():-1;if(-1===T||"string"==typeof T){var S,E=l,P=n.slice(),_=[];if("string"==typeof T)_=T.split(",");else for(S=0;S<x.matches.length;S++)_.push(S);for(var A=0;A<_.length;A++){if(S=parseInt(_[A]),d=[],n=m(l,S),!0!==(r=c(x.matches[S]||i.matches[S],[S].concat(a),f)||r)&&void 0!==r&&_[_.length-1]<x.matches.length){var M=t.inArray(r,i.matches)+1;i.matches.length>M&&((r=c(i.matches[M],[M].concat(a.slice(1,a.length)),f))&&(_.push(M.toString()),t.each(d,function(t,e){e.alternation=a.length-1})))}b=d.slice(),l=E,d=[];for(var D=0;D<P.length;D++)n[D]=P[D];for(var $=0;$<b.length;$++){var I=b[$];I.alternation=I.alternation||C;for(var L=0;L<w.length;L++){var O=w[L];if(I.match.def===O.match.def&&("string"!=typeof T||-1!==t.inArray(I.locator[I.alternation].toString(),_))){I.match.mask===O.match.mask&&(b.splice($,1),$--),-1===O.locator[I.alternation].toString().indexOf(I.locator[I.alternation])&&(O.locator[I.alternation]=O.locator[I.alternation]+","+I.locator[I.alternation],O.alternation=I.alternation);break}}}w=w.concat(b)}"string"==typeof T&&(w=t.map(w,function(e,i){if(isFinite(i)){var n=e.alternation,o=e.locator[n].toString().split(",");e.locator[n]=void 0,e.alternation=void 0;for(var s=0;s<o.length;s++)-1!==t.inArray(o[s],_)&&(void 0!==e.locator[n]?(e.locator[n]+=",",e.locator[n]+=o[s]):e.locator[n]=parseInt(o[s]),e.alternation=n);if(void 0!==e.locator[n])return e}})),d=k.concat(w),l=e,u=d.length>0}else r=c(x.matches[T]||i.matches[T],[T].concat(a),f);if(r)return!0}else if(r.isQuantifier&&f!==i.matches[t.inArray(r,i.matches)-1])for(var H=r,R=n.length>0?n.shift():0;R<(isNaN(H.quantifier.max)?R+1:H.quantifier.max)&&e>=l;R++){var F=i.matches[t.inArray(H,i.matches)-1];if(r=c(F,[R].concat(a),F)){if((s=d[d.length-1].match).optionalQuantifier=R>H.quantifier.min-1,g(s,F)){if(R>H.quantifier.min-1){u=!0,l=e;break}return!0}return!0}}else if(r=o(r,n,a,f))return!0}else l++}for(var f=n.length>0?n.shift():0;f<i.matches.length;f++)if(!0!==i.matches[f].isQuantifier){var g=c(i.matches[f],[f].concat(r),a);if(g&&l===e)return g;if(l>e)break}}var s,r,a=h().maskToken,l=i?n:0,c=i||[0],d=[],u=!1,p=i?i.join(""):"";if(e>-1){if(void 0===i){for(var f,g=e-1;void 0===(f=h().validPositions[g]||h().tests[g])&&g>-1;)g--;void 0!==f&&g>-1&&(c=((r=f)[0]||r).locator.slice(),p=c.join(""),f=f[0]||f,l=g)}if(h().tests[e]&&h().tests[e][0].cd===p)return h().tests[e];for(var m=c.shift();m<a.length;m++){if(o(a[m],c,[m])&&l===e||l>e)break}}return(0===d.length||u)&&d.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),h().tests[e]=t.extend(!0,[],d),h().tests[e]}function x(){return void 0===h()._buffer&&(h()._buffer=c(!1,1)),h()._buffer}function w(t){if(void 0===h().buffer||!0===t){if(!0===t)for(var e in h().tests)void 0===h().validPositions[e]&&delete h().tests[e];h().buffer=c(!0,u(),!0)}return h().buffer}function k(t,e,i){var n;if(i=i,!0===t)d(),t=0,e=i.length;else for(n=t;e>n;n++)delete h().validPositions[n],delete h().tests[n];for(n=t;e>n;n++)d(!0),i[n]!==s.skipOptionalPartCharacter&&S(n,i[n],!0,!0)}function C(t,e){switch(e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t}function T(e,i){for(var n=s.greedy?i:i.slice(0,1),o=!1,r=0;r<e.length;r++)if(-1!==t.inArray(e[r],n)){o=!0;break}return o}function S(e,i,n,o){function r(e,i,n,o){var r=!1;return t.each(b(e),function(a,l){for(var c=l.match,g=i?1:0,m="",v=c.cardinality;v>g;v--)m+=M(e-(v-1));if(i&&(m+=i),w(!0),!1!==(r=null!=c.fn?c.fn.test(m,h(),e,n,s):(i===c.def||i===s.skipOptionalPartCharacter)&&""!==c.def&&{c:c.placeholder||c.def,pos:e})){var y=void 0!==r.c?r.c:i;y=y===s.skipOptionalPartCharacter&&null===c.fn?c.placeholder||c.def:y;var b=e,x=w();if(void 0!==r.remove&&(t.isArray(r.remove)||(r.remove=[r.remove]),t.each(r.remove.sort(function(t,e){return e-t}),function(t,e){f(e,e+1,!0)})),void 0!==r.insert&&(t.isArray(r.insert)||(r.insert=[r.insert]),t.each(r.insert.sort(function(t,e){return t-e}),function(t,e){S(e.pos,e.c,!1,o)})),r.refreshFromBuffer){var T=r.refreshFromBuffer;if(n=!0,k(!0===T?T:T.start,T.end,x),void 0===r.pos&&void 0===r.c)return r.pos=u(),!1;if((b=void 0!==r.pos?r.pos:e)!==e)return r=t.extend(r,S(b,y,!0,o)),!1}else if(!0!==r&&void 0!==r.pos&&r.pos!==e&&(b=r.pos,k(e,b,w().slice()),b!==e))return r=t.extend(r,S(b,y,!0)),!1;return(!0===r||void 0!==r.pos||void 0!==r.c)&&(a>0&&d(!0),p(b,t.extend({},l,{input:C(y,c)}),o)||(r=!1),!1)}}),r}function a(e,i){for(var n=h().validPositions[i].locator,o=n.length,s=e;i>s;s++)if(void 0===h().validPositions[s]&&!E(s,!0)){var r=b(s),a=r[0],l=-1;t.each(r,function(t,e){for(var i=0;o>i&&void 0!==e.locator[i]&&T(e.locator[i].toString().split(","),n[i].toString().split(","));i++)i>l&&(l=i,a=e)}),p(s,t.extend({},a,{input:a.match.placeholder||a.match.def}),!0)}}n=!0===n;for(var l=w(),c=e-1;c>-1&&!h().validPositions[c];c--);for(c++;e>c;c++)void 0===h().validPositions[c]&&((!E(c)||l[c]!==$(c))&&b(c).length>1||l[c]===s.radixPoint||"0"===l[c]&&t.inArray(s.radixPoint,l)<c)&&r(c,l[c],!0,o);var m=e,v=!1,x=t.extend(!0,{},h().validPositions);if(m<P()&&(v=r(m,i,n,o),(!n||!0===o)&&!1===v)){var A=h().validPositions[m];if(!A||null!==A.match.fn||A.match.def!==i&&i!==s.skipOptionalPartCharacter){if((s.insertMode||void 0===h().validPositions[_(m)])&&!E(m,!0)){var D;r(m,D=(D=g(m).match).placeholder||D.def,n,o);for(var I=m+1,L=_(m);L>=I;I++)if(!1!==(v=r(I,i,n,o))){a(m,I),m=I;break}}}else v={caret:_(m)}}if(!1===v&&s.keepStatic&&(v=function(e,i,n,o){for(var r,a,l,c,p,f,m=t.extend(!0,{},h().validPositions),v=t.extend(!0,{},h().tests),b=u();b>=0&&(!(c=h().validPositions[b])||void 0===c.alternation||(r=b,a=h().validPositions[r].alternation,g(r).locator[c.alternation]===c.locator[c.alternation]));b--);if(void 0!==a)for(var x in r=parseInt(r),h().validPositions)if(x=parseInt(x),c=h().validPositions[x],x>=r&&void 0!==c.alternation){var w;0===r?(w=[],t.each(h().tests[r],function(t,e){void 0!==e.locator[a]&&(w=w.concat(e.locator[a].toString().split(",")))})):w=h().validPositions[r].locator[a].toString().split(",");var k=void 0!==c.locator[a]?c.locator[a]:w[0];k.length>0&&(k=k.split(",")[0]);for(var C=0;C<w.length;C++){var T=[],E=0,P=0;if(k<w[C]){for(var _,A,M=x;M>=0;M--)if(void 0!==(_=h().validPositions[M])){var D=y(M,w[C]);h().validPositions[M].match.def!==D.match.def&&(T.push(h().validPositions[M].input),h().validPositions[M]=D,h().validPositions[M].input=$(M),null===h().validPositions[M].match.fn&&P++,_=D),A=_.locator[a],_.locator[a]=parseInt(w[C]);break}if(k!==_.locator[a]){for(p=x+1;p<u(void 0,!0)+1;p++)(f=h().validPositions[p])&&null!=f.match.fn?T.push(f.input):e>p&&E++,delete h().validPositions[p],delete h().tests[p];for(d(!0),s.keepStatic=!s.keepStatic,l=!0;T.length>0;){var I=T.shift();if(I!==s.skipOptionalPartCharacter&&!(l=S(u(void 0,!0)+1,I,!1,o)))break}if(_.alternation=a,_.locator[a]=A,l){var L=u(e)+1;for(p=x+1;p<u()+1;p++)(void 0===(f=h().validPositions[p])||null==f.match.fn)&&e>p&&P++;l=S((e+=P-E)>L?L:e,i,n,o)}if(s.keepStatic=!s.keepStatic,l)return l;d(),h().validPositions=t.extend(!0,{},m),h().tests=t.extend(!0,{},v)}}}break}return!1}(e,i,n,o)),!0===v&&(v={pos:m}),t.isFunction(s.postValidation)&&!1!==v&&!n&&!0!==o){var O=s.postValidation(w(!0),v,s);if(O){if(O.refreshFromBuffer){var H=O.refreshFromBuffer;k(!0===H?H:H.start,H.end,O.buffer),d(!0),v=O}}else d(!0),h().validPositions=t.extend(!0,{},x),v=!1}return v}function E(t,e){var i;return e?""==(i=g(t).match).def&&(i=m(t)):i=m(t),null!=i.fn?i.fn:!0!==e&&t>-1&&!s.keepStatic&&void 0===h().validPositions[t]&&b(t).length>2}function P(){var t;-1===(nt=void 0!==et?et.maxLength:void 0)&&(nt=void 0);var e,i=u(),n=h().validPositions[i],o=void 0!==n?n.locator.slice():void 0;for(e=i+1;void 0===n||null!==n.match.fn||null===n.match.fn&&""!==n.match.def;e++)o=(n=g(e,o,e-1)).locator.slice();return t=""!==m(e-1).def?e:e-1,void 0===nt||nt>t?t:nt}function _(t,e){var i=P();if(t>=i)return i;for(var n=t;++n<i&&(!0===e&&(!0!==m(n).newBlockMarker||!E(n))||!0!==e&&!E(n)&&(!0!==s.nojumps||s.nojumpsThreshold>n)););return n}function A(t,e){var i=t;if(0>=i)return 0;for(;--i>0&&(!0===e&&!0!==m(i).newBlockMarker||!0!==e&&!E(i)););return i}function M(t){return void 0===h().validPositions[t]?$(t):h().validPositions[t].input}function D(e,i,n,o,r){if(o&&t.isFunction(s.onBeforeWrite)){var a=s.onBeforeWrite(o,i,n,s);if(a){if(a.refreshFromBuffer){var l=a.refreshFromBuffer;k(!0===l?l:l.start,l.end,a.buffer||i),i=w(!0)}void 0!==n&&(n=void 0!==a.caret?a.caret:n)}}e.inputmask._valueSet(i.join("")),void 0===n||void 0!==o&&"blur"===o.type||O(e,n),!0===r&&(at=!0,t(e).trigger("input"))}function $(t,e){if(void 0!==(e=e||m(t)).placeholder)return e.placeholder;if(null===e.fn){if(t>-1&&!s.keepStatic&&void 0===h().validPositions[t]){var i,n=b(t),o=0;if(n.length>2)for(var r=0;r<n.length;r++)if(!0!==n[r].match.optionality&&!0!==n[r].match.optionalQuantifier&&(null===n[r].match.fn||void 0===i||!1!==n[r].match.fn.test(i.match.def,h(),t,!0,s))&&(o++,null===n[r].match.fn&&(i=n[r]),o>1))return s.placeholder.charAt(t%s.placeholder.length)}return e.def}return s.placeholder.charAt(t%s.placeholder.length)}function I(i,n,o,r){var a=r.slice(),l="",c=0;if(d(),h().p=_(-1),!o)if(!0!==s.autoUnmask){var p=x().slice(0,_(-1)).join(""),f=a.join("").match(new RegExp("^"+e.escapeRegex(p),"g"));f&&f.length>0&&(a.splice(0,f.length*p.length),c=_(c))}else c=_(c);t.each(a,function(e,n){if(void 0!==n){var r=new t.Event("keypress");r.which=n.charCodeAt(0),l+=n;var a=u(void 0,!0),d=h().validPositions[a],p=g(a+1,d?d.locator.slice():void 0,a);if(!function(){var t=!1,e=x().slice(c,_(c)).join("").indexOf(l);if(-1!==e&&!E(c)){t=!0;for(var i=x().slice(c,c+e),n=0;n<i.length;n++)if(" "!==i[n]){t=!1;break}}return t}()||o||s.autoUnmask){var f=o?e:null==p.match.fn&&p.match.optionality&&a+1<h().p?a+1:h().p;j.call(i,r,!0,!1,o,f),c=f+1,l=""}else j.call(i,r,!0,!1,!0,a+1)}}),n&&D(i,w(),document.activeElement===i?_(u(0)):void 0,new t.Event("checkval"))}function L(e){if(e&&void 0===e.inputmask)return e.value;var i=[],n=h().validPositions;for(var o in n)n[o].match&&null!=n[o].match.fn&&i.push(n[o].input);var r=0===i.length?null:(st?i.reverse():i).join("");if(null!==r){var a=(st?w().slice().reverse():w()).join("");t.isFunction(s.onUnMask)&&(r=s.onUnMask(a,r,s)||r)}return r}function O(t,e,i,n){function o(t){!0===n||!st||"number"!=typeof t||s.greedy&&""===s.placeholder||(t=w().join("").length-t);return t}var a;if("number"!=typeof e)return t.setSelectionRange?(e=t.selectionStart,i=t.selectionEnd):window.getSelection?((a=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode===t||a.commonAncestorContainer===t)&&(e=a.startOffset,i=a.endOffset):document.selection&&document.selection.createRange&&(i=(e=0-(a=document.selection.createRange()).duplicate().moveStart("character",-t.inputmask._valueGet().length))+a.text.length),{begin:o(e),end:o(i)};e=o(e),i="number"==typeof(i=o(i))?i:e;var l=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*i;if(t.scrollLeft=l>t.scrollWidth?l:0,r||!1!==s.insertMode||e!==i||i++,t.setSelectionRange)t.selectionStart=e,t.selectionEnd=i;else if(window.getSelection){if(a=document.createRange(),void 0===t.firstChild||null===t.firstChild){var c=document.createTextNode("");t.appendChild(c)}a.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),a.setEnd(t.firstChild,i<t.inputmask._valueGet().length?i:t.inputmask._valueGet().length),a.collapse(!0);var h=window.getSelection();h.removeAllRanges(),h.addRange(a)}else t.createTextRange&&((a=t.createTextRange()).collapse(!0),a.moveEnd("character",i),a.moveStart("character",e),a.select())}function H(e){var i,n,o=w(),s=o.length,r=u(),a={},l=h().validPositions[r],c=void 0!==l?l.locator.slice():void 0;for(i=r+1;i<o.length;i++)c=(n=g(i,c,i-1)).locator.slice(),a[i]=t.extend(!0,{},n);var d=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(i=s-1;i>r&&(((n=a[i]).match.optionality||n.match.optionalQuantifier||d&&(d!==a[i].locator[l.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[l.alternation]&&T(n.locator[l.alternation].toString().split(","),d.toString().split(","))&&""!==b(i)[0].def))&&o[i]===$(i,n.match));i--)s--;return e?{l:s,def:a[s]?a[s].match:void 0}:s}function R(t){for(var e=H(),i=t.length-1;i>e&&!E(i);i--);return t.splice(e,i+1-e),t}function F(e){if(t.isFunction(s.isComplete))return s.isComplete(e,s);if("*"!==s.repeat){var i=!1,n=H(!0),o=A(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var r=0;o>=r;r++){var a=g(r).match;if(null!==a.fn&&void 0===h().validPositions[r]&&!0!==a.optionality&&!0!==a.optionalQuantifier||null===a.fn&&e[r]!==$(r,a)){i=!1;break}}}return i}}function W(i,n,o,r){if((s.numericInput||st)&&(n===e.keyCode.BACKSPACE?n=e.keyCode.DELETE:n===e.keyCode.DELETE&&(n=e.keyCode.BACKSPACE),st)){var a=o.end;o.end=o.begin,o.begin=a}n===e.keyCode.BACKSPACE&&(o.end-o.begin<1||!1===s.insertMode)?(o.begin=A(o.begin),void 0===h().validPositions[o.begin]||h().validPositions[o.begin].input!==s.groupSeparator&&h().validPositions[o.begin].input!==s.radixPoint||o.begin--):n===e.keyCode.DELETE&&o.begin===o.end&&(o.end=E(o.end)?o.end+1:_(o.end)+1,void 0===h().validPositions[o.begin]||h().validPositions[o.begin].input!==s.groupSeparator&&h().validPositions[o.begin].input!==s.radixPoint||o.end++),f(o.begin,o.end,!1,r),!0!==r&&function(){if(s.keepStatic){d(!0);var e,n=[],o=t.extend(!0,{},h().validPositions);for(e=u();e>=0;e--){var r=h().validPositions[e];if(r&&(null!=r.match.fn&&n.push(r.input),delete h().validPositions[e],void 0!==r.alternation&&r.locator[r.alternation]===g(e).locator[r.alternation]))break}if(e>-1)for(;n.length>0;){h().p=_(u());var a=new t.Event("keypress");a.which=n.pop().charCodeAt(0),j.call(i,a,!0,!1,!1,h().p)}else h().validPositions=t.extend(!0,{},o)}}();var l=u(o.begin);l<o.begin?(-1===l&&d(),h().p=_(l)):!0!==r&&(h().p=o.begin)}function B(i){var n,o,r,a,c=this,d=t(c),p=i.keyCode,f=O(c);if(p===e.keyCode.BACKSPACE||p===e.keyCode.DELETE||l&&p===e.keyCode.BACKSPACE_SAFARI||i.ctrlKey&&p===e.keyCode.X&&(n="cut",o=document.createElement("input"),(a=(r="on"+n)in o)||(o.setAttribute(r,"return;"),a="function"==typeof o[r]),o=null,!a))i.preventDefault(),W(c,p,f),D(c,w(),h().p,i,tt!==w().join("")),c.inputmask._valueGet()===x().join("")?d.trigger("cleared"):!0===F(w())&&d.trigger("complete"),s.showTooltip&&(c.title=s.tooltip||h().mask);else if(p===e.keyCode.END||p===e.keyCode.PAGE_DOWN){i.preventDefault();var g=_(u());s.insertMode||g!==P()||i.shiftKey||g--,O(c,i.shiftKey?f.begin:g,g,!0)}else p===e.keyCode.HOME&&!i.shiftKey||p===e.keyCode.PAGE_UP?(i.preventDefault(),O(c,0,i.shiftKey?f.begin:0,!0)):(s.undoOnEscape&&p===e.keyCode.ESCAPE||90===p&&i.ctrlKey)&&!0!==i.altKey?(I(c,!0,!1,tt.split("")),d.trigger("click")):p!==e.keyCode.INSERT||i.shiftKey||i.ctrlKey?!0===s.tabThrough&&p===e.keyCode.TAB?(!0===i.shiftKey?(null===m(f.begin).fn&&(f.begin=_(f.begin)),f.end=A(f.begin,!0),f.begin=A(f.end,!0)):(f.begin=_(f.begin,!0),f.end=_(f.begin,!0),f.end<P()&&f.end--),f.begin<P()&&(i.preventDefault(),O(c,f.begin,f.end))):!1!==s.insertMode||i.shiftKey||(p===e.keyCode.RIGHT?setTimeout(function(){var t=O(c);O(c,t.begin)},0):p===e.keyCode.LEFT&&setTimeout(function(){var t=O(c);O(c,st?t.begin+1:t.begin-1)},0)):(s.insertMode=!s.insertMode,O(c,s.insertMode||f.begin!==P()?f.begin:f.begin-1));s.onKeyDown.call(this,i,w(),O(c).begin,s),lt=-1!==t.inArray(p,s.ignorables)}function j(i,n,o,r,a){var l,c,u=t(this),f=i.which||i.charCode||i.keyCode;if(!(!0===n||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||lt))return f===e.keyCode.ENTER&&tt!==w().join("")&&(tt=w().join(""),setTimeout(function(){u.trigger("change")},0)),!0;if(f){46===f&&!1===i.shiftKey&&","===s.radixPoint&&(f=44);var g,m=n?{begin:a,end:a}:O(this),v=String.fromCharCode(f),y=(l=m.begin,c=m.end,st?l-c>1||l-c==1&&s.insertMode:c-l>1||c-l==1&&s.insertMode);y&&(h().undoPositions=t.extend(!0,{},h().validPositions),W(this,e.keyCode.DELETE,m,!0),m.begin=h().p,s.insertMode||(s.insertMode=!s.insertMode,p(m.begin,r),s.insertMode=!s.insertMode),y=!s.multi),h().writeOutBuffer=!0;var x=st&&!y?m.end:m.begin,C=S(x,v,r);if(!1!==C){if(!0!==C&&(x=void 0!==C.pos?C.pos:x,v=void 0!==C.c?C.c:v),d(!0),void 0!==C.caret)g=C.caret;else{var T=h().validPositions;g=!s.keepStatic&&(void 0!==T[x+1]&&b(x+1,T[x].locator.slice(),x).length>1||void 0!==T[x].alternation)?x+1:_(x)}h().p=g}if(!1!==o){var E=this;if(setTimeout(function(){s.onKeyValidation.call(E,f,C,s)},0),h().writeOutBuffer&&!1!==C){var P=w();D(this,P,s.numericInput&&void 0===C.caret?A(g):g,i,!0!==n),!0!==n&&setTimeout(function(){!0===F(P)&&u.trigger("complete")},0)}else y&&(h().buffer=void 0,h().validPositions=h().undoPositions)}else y&&(h().buffer=void 0,h().validPositions=h().undoPositions);if(s.showTooltip&&(this.title=s.tooltip||h().mask),n&&t.isFunction(s.onBeforeWrite)){var M=s.onBeforeWrite(i,w(),g,s);if(M&&M.refreshFromBuffer){var $=M.refreshFromBuffer;k(!0===$?$:$.start,$.end,M.buffer),d(!0),M.caret&&(h().p=M.caret)}}if(i.preventDefault(),n)return C}}function z(e){var i,n=e.originalEvent||e,o=t(this),r=this.inputmask._valueGet(!0),a=O(this);st&&(i=a.end,a.end=a.begin,a.begin=i);var l=r.substr(0,a.begin),c=r.substr(a.end,r.length);l===(st?x().reverse():x()).slice(0,a.begin).join("")&&(l=""),c===(st?x().reverse():x()).slice(a.end).join("")&&(c=""),st&&(i=l,l=c,c=i),window.clipboardData&&window.clipboardData.getData?r=l+window.clipboardData.getData("Text")+c:n.clipboardData&&n.clipboardData.getData&&(r=l+n.clipboardData.getData("text/plain")+c);var h=r;if(t.isFunction(s.onBeforePaste)){if(!1===(h=s.onBeforePaste(r,s)))return e.preventDefault();h||(h=r)}return I(this,!1,!1,st?h.split("").reverse():h.toString().split("")),D(this,w(),_(u()),e,!0),!0===F(w())&&o.trigger("complete"),e.preventDefault()}function N(i){var n=this.inputmask._valueGet();if(w().join("")!==n){var o=O(this);if(n=n.replace(new RegExp("("+e.escapeRegex(x().join(""))+")*"),""),a){var s=n.replace(w().join(""),"");if(1===s.length){var r=new t.Event("keypress");return r.which=s.charCodeAt(0),j.call(this,r,!0,!0,!1,h().validPositions[o.begin-1]?o.begin:o.begin-1),!1}}if(o.begin>n.length&&(O(this,n.length),o=O(this)),w().length-n.length!=1||n.charAt(o.begin)===w()[o.begin]||n.charAt(o.begin+1)===w()[o.begin]||E(o.begin)){for(var l=u()+1,c=w().slice(l).join("");null===n.match(e.escapeRegex(c)+"$");)c=c.slice(1);I(this,!0,!1,n=(n=n.replace(c,"")).split("")),!0===F(w())&&t(this).trigger("complete")}else i.keyCode=e.keyCode.BACKSPACE,B.call(this,i);i.preventDefault()}}function V(e){var i=this.inputmask._valueGet();I(this,!0,!1,(t.isFunction(s.onBeforeMask)&&s.onBeforeMask(i,s)||i).split("")),tt=w().join(""),(s.clearMaskOnLostFocus||s.clearIncomplete)&&this.inputmask._valueGet()===x().join("")&&this.inputmask._valueSet("")}function G(t){var e=this,i=e.inputmask._valueGet();s.showMaskOnFocus&&(!s.showMaskOnHover||s.showMaskOnHover&&""===i)?e.inputmask._valueGet()!==w().join("")&&D(e,w(),_(u())):!1===ct&&O(e,_(u())),!0===s.positionCaretOnTab&&setTimeout(function(){O(e,_(u()))},0),tt=w().join("")}function Y(t){if(ct=!1,s.clearMaskOnLostFocus&&document.activeElement!==this){var e=w().slice(),i=this.inputmask._valueGet();i!==this.getAttribute("placeholder")&&""!==i&&(-1===u()&&i===x().join("")?e=[]:R(e),D(this,e))}}function X(e){if(document.activeElement===this){var i=O(this);if(i.begin===i.end)if(function(e){if(s.radixFocus&&""!==s.radixPoint){var i=h().validPositions;if(void 0===i[e]||i[e].input===$(e)){if(e<_(-1))return!0;var n=t.inArray(s.radixPoint,w());if(-1!==n){for(var o in i)if(o>n&&i[o].input!==$(o))return!1;return!0}}}return!1}(i.begin))O(this,s.numericInput?_(t.inArray(s.radixPoint,w())):t.inArray(s.radixPoint,w()));else{var n=i.begin,o=_(u(n,!0));o>n?O(this,E(n)||E(n-1)?n:_(n)):((w()[o]!==$(o)||!E(o,!0)&&m(o).def===$(o))&&(o=_(o)),O(this,o))}}}function U(t){var e=this;setTimeout(function(){O(e,0,_(u()))},0)}function q(i){var n=t(this),o=O(this),r=i.originalEvent||i,a=window.clipboardData||r.clipboardData,l=st?w().slice(o.end,o.begin):w().slice(o.begin,o.end);a.setData("text",st?l.reverse().join(""):l.join("")),document.execCommand&&document.execCommand("copy"),W(this,e.keyCode.DELETE,o),D(this,w(),h().p,i,tt!==w().join("")),this.inputmask._valueGet()===x().join("")&&n.trigger("cleared"),s.showTooltip&&(this.title=s.tooltip||h().mask)}function K(e){var i=t(this);if(this.inputmask){var n=this.inputmask._valueGet(),o=w().slice();tt!==o.join("")&&setTimeout(function(){i.trigger("change"),tt=o.join("")},0),""!==n&&(s.clearMaskOnLostFocus&&(-1===u()&&n===x().join("")?o=[]:R(o)),!1===F(o)&&(setTimeout(function(){i.trigger("incomplete")},0),s.clearIncomplete&&(d(),o=s.clearMaskOnLostFocus?[]:x().slice())),D(this,o,void 0,e))}}function Q(t){ct=!0,document.activeElement!==this&&s.showMaskOnHover&&this.inputmask._valueGet()!==w().join("")&&D(this,w())}function Z(t){tt!==w().join("")&&it.trigger("change"),s.clearMaskOnLostFocus&&-1===u()&&et.inputmask._valueGet&&et.inputmask._valueGet()===x().join("")&&et.inputmask._valueSet(""),s.removeMaskOnSubmit&&(et.inputmask._valueSet(et.inputmask.unmaskedvalue(),!0),setTimeout(function(){D(et,w())},0))}function J(t){setTimeout(function(){it.trigger("setvalue")},0)}var tt,et,it,nt,ot,st=!1,rt=!1,at=!1,lt=!1,ct=!0,ht={on:function(i,n,o){var r=function(i){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var n=t.data(this,"_inputmask_opts");n?new e(n).mask(this):ht.off(this)}else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||!1===s.tabThrough&&i.keyCode===e.keyCode.TAB))){switch(i.type){case"input":if(!0===at)return at=!1,i.preventDefault();break;case"keydown":rt=!1,at=!1;break;case"keypress":if(!0===rt)return i.preventDefault();rt=!0;break;case"click":if(a){var r=this;return setTimeout(function(){o.apply(r,arguments)},0),!1}}var l=o.apply(this,arguments);return!1===l&&(i.preventDefault(),i.stopPropagation()),l}i.preventDefault()}};i.inputmask.events[n]=i.inputmask.events[n]||[],i.inputmask.events[n].push(r),-1!==t.inArray(n,["submit","reset"])?null!=i.form&&t(i.form).on(n,r):t(i).on(n,r)},off:function(e,i){var n;e.inputmask&&e.inputmask.events&&(i?(n=[])[i]=e.inputmask.events[i]:n=e.inputmask.events,t.each(n,function(i,n){for(;n.length>0;){var o=n.pop();-1!==t.inArray(i,["submit","reset"])?null!=e.form&&t(e.form).off(i,o):t(e).off(i,o)}delete e.inputmask.events[i]}))}};if(void 0!==i)switch(i.action){case"isComplete":return et=i.el,F(w());case"unmaskedvalue":return void 0!==(et=i.el)&&void 0!==et.inputmask?(n=et.inputmask.maskset,s=et.inputmask.opts,st=et.inputmask.isRTL):(ot=i.value,s.numericInput&&(st=!0),ot=(t.isFunction(s.onBeforeMask)&&s.onBeforeMask(ot,s)||ot).split(""),I(void 0,!1,!1,st?ot.reverse():ot),t.isFunction(s.onBeforeWrite)&&s.onBeforeWrite(void 0,w(),0,s)),L(et);case"mask":et=i.el,n=et.inputmask.maskset,s=et.inputmask.opts,st=et.inputmask.isRTL,tt=w().join(""),function(e){if(it=t(et=e),s.showTooltip&&(et.title=s.tooltip||h().mask),("rtl"===et.dir||s.rightAlign)&&(et.style.textAlign="right"),("rtl"===et.dir||s.numericInput)&&(et.dir="ltr",et.removeAttribute("dir"),et.inputmask.isRTL=!0,st=!0),ht.off(et),function(e){function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():o.call(this)!==x().join("")?document.activeElement===this&&s.clearMaskOnLostFocus?(st?R(w().slice()).reverse():R(w().slice())).join(""):o.call(this):"":o.call(this)}function n(e){r.call(this,e),this.inputmask&&t(this).trigger("setvalue")}var o,r;if(!e.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value");a&&a.get&&a.set?(o=a.get,r=a.set,Object.defineProperty(e,"value",{get:i,set:n,configurable:!0})):"INPUT"!==e.tagName&&(o=function(){return this.textContent},r=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:i,set:n,configurable:!0}))}else document.__lookupGetter__&&e.__lookupGetter__("value")&&(o=e.__lookupGetter__("value"),r=e.__lookupSetter__("value"),e.__defineGetter__("value",i),e.__defineSetter__("value",n));void 0===o&&(o=function(){return e.value},r=function(t){e.value=t},function(e){if(t.valHooks&&(void 0===t.valHooks[e]||!0!==t.valHooks[e].inputmaskpatch)){var i=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},n=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var e=i(t),n=t.inputmask.maskset._buffer;return e!==(n=n?n.join(""):"")?e:""}return i(t)},set:function(e,i){var o,s=t(e);return o=n(e,i),e.inputmask&&s.trigger("setvalue"),o},inputmaskpatch:!0}}}(e.type),function(e){ht.on(e,"mouseenter",function(e){var i=t(this);this.inputmask._valueGet()!==w().join("")&&i.trigger("setvalue")})}(e)),e.inputmask.__valueGet=o,e.inputmask._valueGet=function(t){return st&&!0!==t?o.call(this.el).split("").reverse().join(""):o.call(this.el)},e.inputmask.__valueSet=r,e.inputmask._valueSet=function(t,e){r.call(this.el,null==t?"":!0!==e&&st?t.split("").reverse().join(""):t)}}}(et),function(e,i){var n=e.getAttribute("type"),o="INPUT"===e.tagName&&-1!==t.inArray(n,i.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!o&&"INPUT"===e.tagName){var s=document.createElement("input");s.setAttribute("type",n),o="text"===s.type,s=null}return o}(et,s)&&(ht.on(et,"submit",Z),ht.on(et,"reset",J),ht.on(et,"mouseenter",Q),ht.on(et,"blur",K),ht.on(et,"focus",G),ht.on(et,"mouseleave",Y),ht.on(et,"click",X),ht.on(et,"dblclick",U),ht.on(et,"paste",z),ht.on(et,"dragdrop",z),ht.on(et,"drop",z),ht.on(et,"cut",q),ht.on(et,"complete",s.oncomplete),ht.on(et,"incomplete",s.onincomplete),ht.on(et,"cleared",s.oncleared),ht.on(et,"keydown",B),ht.on(et,"keypress",j),ht.on(et,"input",N)),ht.on(et,"setvalue",V),""!==et.inputmask._valueGet()||!1===s.clearMaskOnLostFocus||document.activeElement===et){var i=t.isFunction(s.onBeforeMask)&&s.onBeforeMask(et.inputmask._valueGet(),s)||et.inputmask._valueGet();I(et,!0,!1,i.split(""));var n=w().slice();tt=n.join(""),!1===F(n)&&s.clearIncomplete&&d(),s.clearMaskOnLostFocus&&document.activeElement!==et&&(n.join("")===x().join("")?n=[]:R(n)),D(et,n),document.activeElement===et&&O(et,_(u()))}}(et);break;case"format":return s.numericInput&&(st=!0),ot=(t.isFunction(s.onBeforeMask)&&s.onBeforeMask(i.value,s)||i.value).split(""),I(void 0,!1,!1,st?ot.reverse():ot),t.isFunction(s.onBeforeWrite)&&s.onBeforeWrite(void 0,w(),0,s),i.metadata?{value:st?w().slice().reverse().join(""):w().join(""),metadata:o({action:"getmetadata"},n,s)}:st?w().slice().reverse().join(""):w().join("");case"isValid":s.numericInput&&(st=!0),i.value?(ot=i.value.split(""),I(void 0,!1,!0,st?ot.reverse():ot)):i.value=w().join("");for(var dt=w(),ut=H(),pt=dt.length-1;pt>ut&&!E(pt);pt--);return dt.splice(ut,pt+1-ut),F(dt)&&i.value===w().join("");case"getemptymask":return x().join("");case"remove":et=i.el,it=t(et),n=et.inputmask.maskset,s=et.inputmask.opts,et.inputmask._valueSet(L(et)),ht.off(et),Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(et),"value")&&et.inputmask.__valueGet&&Object.defineProperty(et,"value",{get:et.inputmask.__valueGet,set:et.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&et.__lookupGetter__("value")&&et.inputmask.__valueGet&&(et.__defineGetter__("value",et.inputmask.__valueGet),et.__defineSetter__("value",et.inputmask.__valueSet)),et.inputmask=void 0;break;case"getmetadata":if(t.isArray(n.metadata)){for(var ft,gt=u(void 0,!0);gt>=0;gt--)if(h().validPositions[gt]&&void 0!==h().validPositions[gt].alternation){ft=h().validPositions[gt].alternation;break}return void 0!==ft?n.metadata[h().validPositions[gt].locator[ft]]:[]}return n.metadata}}e.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:t.noop,onBeforeMask:null,onBeforePaste:function(e,i){return t.isFunction(i.onBeforeMask)?i.onBeforeMask(e,i):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z--]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z--]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:t.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1},masksCache:{},mask:function(s){var r=this;return"string"==typeof s&&(s=document.getElementById(s)||document.querySelectorAll(s)),s=s.nodeName?[s]:s,t.each(s,function(s,a){var l=t.extend(!0,{},r.opts);!function(e,n,o){function s(t,i){null!==(i=void 0!==i?i:e.getAttribute("data-inputmask-"+t))&&("string"==typeof i&&(0===t.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),o[t]=i)}var r,a,l,c,h=e.getAttribute("data-inputmask");if(h&&""!==h&&(h=h.replace(new RegExp("'","g"),'"'),a=JSON.parse("{"+h+"}")),a)for(c in l=void 0,a)if("alias"===c.toLowerCase()){l=a[c];break}for(r in s("alias",l),o.alias&&i(o.alias,o,n),n){if(a)for(c in l=void 0,a)if(c.toLowerCase()===r.toLowerCase()){l=a[c];break}s(r,l)}t.extend(!0,n,o)}(a,l,t.extend(!0,{},r.userOptions));var c=n(l,r.noMasksCache);void 0!==c&&(void 0!==a.inputmask&&a.inputmask.remove(),a.inputmask=new e,a.inputmask.opts=l,a.inputmask.noMasksCache=r.noMasksCache,a.inputmask.userOptions=t.extend(!0,{},r.userOptions),a.inputmask.el=a,a.inputmask.maskset=c,a.inputmask.isRTL=!1,t.data(a,"_inputmask_opts",l),o({action:"mask",el:a}))}),s&&s[0]&&s[0].inputmask||this},option:function(e){return"string"==typeof e?this.opts[e]:"object"==typeof e?(t.extend(this.opts,e),t.extend(this.userOptions,e),this.el&&(void 0!==e.mask||void 0!==e.alias?this.mask(this.el):(t.data(this.el,"_inputmask_opts",this.opts),o({action:"mask",el:this.el}))),this):void 0},unmaskedvalue:function(t){return o({action:"unmaskedvalue",el:this.el,value:t},this.el&&this.el.inputmask?this.el.inputmask.maskset:n(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(o({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return o({action:"getemptymask"},this.maskset||n(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return o({action:"isComplete",el:this.el},this.maskset||n(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return o({action:"getmetadata"},this.maskset||n(this.opts,this.noMasksCache),this.opts)},isValid:function(t){return o({action:"isValid",value:t},this.maskset||n(this.opts,this.noMasksCache),this.opts)},format:function(t,e){return o({action:"format",value:t,metadata:e},this.maskset||n(this.opts,this.noMasksCache),this.opts)}},e.extendDefaults=function(i){t.extend(!0,e.prototype.defaults,i)},e.extendDefinitions=function(i){t.extend(!0,e.prototype.defaults.definitions,i)},e.extendAliases=function(i){t.extend(!0,e.prototype.defaults.aliases,i)},e.format=function(t,i,n){return e(i).format(t,n)},e.unmask=function(t,i){return e(i).unmaskedvalue(t)},e.isValid=function(t,i){return e(i).isValid(t)},e.remove=function(e){t.each(e,function(t,e){e.inputmask&&e.inputmask.remove()})},e.escapeRegex=function(t){return t.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},e.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var s=navigator.userAgent,r=/mobile/i.test(s),a=/iemobile/i.test(s),l=/iphone/i.test(s)&&!a;/android.*safari.*/i.test(s),window.Inputmask=e}(jQuery),function(t,e){void 0===t.fn.inputmask&&(t.fn.inputmask=function(i,n){var o,s=this[0];if(n=n||{},"string"==typeof i)switch(i){case"unmaskedvalue":return s&&s.inputmask?s.inputmask.unmaskedvalue():t(s).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return s&&s.inputmask?s.inputmask.getemptymask():"";case"hasMaskedValue":return!(!s||!s.inputmask)&&s.inputmask.hasMaskedValue();case"isComplete":return!s||!s.inputmask||s.inputmask.isComplete();case"getmetadata":return s&&s.inputmask?s.inputmask.getmetadata():void 0;case"setvalue":t(s).val(n),s&&void 0!==s.inputmask&&t(s).triggerHandler("setvalue");break;case"option":if("string"!=typeof n)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(n):void 0});if(s&&void 0!==s.inputmask)return s.inputmask.option(n);break;default:return n.alias=i,o=new e(n),this.each(function(){o.mask(this)})}else{if("object"==typeof i)return o=new e(i),void 0===i.mask&&void 0===i.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(i):void o.mask(this)}):this.each(function(){o.mask(this)});if(void 0===i)return this.each(function(){(o=new e(n)).mask(this)})}}),t.fn.inputmask}(jQuery,Inputmask),function(t,e){e.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),e.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+i+"[01])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+i+"(0[1-9]|1[012]))|(30"+i+"(0[13-9]|1[012]))|(31"+i+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(t,e,i){if(isNaN(t))return!1;var n=parseInt(t.concat(e.toString().slice(t.length))),o=parseInt(t.concat(i.toString().slice(t.length)));return!isNaN(n)&&(n>=e&&i>=n)||!isNaN(o)&&(o>=e&&i>=o)},determinebaseyear:function(t,e,i){var n=(new Date).getFullYear();if(t>n)return t;if(n>e){for(var o=e.toString().slice(0,2),s=e.toString().slice(2,4);o+i>e;)o--;var r=o+s;return t>r?t:r}return n},onKeyDown:function(i,n,o,s){var r=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var a=new Date;r.val(a.getDate().toString()+(a.getMonth()+1).toString()+a.getFullYear().toString()),r.trigger("setvalue")}},getFrontValue:function(t,e,i){for(var n=0,o=0,s=0;s<t.length&&"2"!==t.charAt(s);s++){var r=i.definitions[t.charAt(s)];r?(n+=o,o=r.cardinality):o++}return e.join("").substr(n,o)},definitions:{1:{validator:function(t,e,i,n,o){var s=o.regex.val1.test(t);return n||s||t.charAt(1)!==o.separator&&-1==="-./".indexOf(t.charAt(1))||!(s=o.regex.val1.test("0"+t.charAt(0)))?s:(e.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,o){var s=t;isNaN(e.buffer[i+1])||(s+=e.buffer[i+1]);var r=1===s.length?o.regex.val1pre.test(s):o.regex.val1.test(s);if(!n&&!r){if(r=o.regex.val1.test(t+"0"))return e.buffer[i]=t,e.buffer[++i]="0",{pos:i,c:"0"};if(r=o.regex.val1.test("0"+t))return e.buffer[i]="0",{pos:++i}}return r},cardinality:1}]},2:{validator:function(t,e,i,n,o){var s=o.getFrontValue(e.mask,e.buffer,o);-1!==s.indexOf(o.placeholder[0])&&(s="01"+o.separator);var r=o.regex.val2(o.separator).test(s+t);if(!n&&!r&&(t.charAt(1)===o.separator||-1!=="-./".indexOf(t.charAt(1)))&&(r=o.regex.val2(o.separator).test(s+"0"+t.charAt(0))))return e.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:t.charAt(0)};if(o.mask.indexOf("2")===o.mask.length-1&&r){if(e.buffer.join("").substr(4,4)+t!==o.leapday)return!0;var a=parseInt(e.buffer.join("").substr(0,4),10);return a%4==0&&(a%100!=0||a%400==0)}return r},cardinality:2,prevalidator:[{validator:function(t,e,i,n,o){isNaN(e.buffer[i+1])||(t+=e.buffer[i+1]);var s=o.getFrontValue(e.mask,e.buffer,o);-1!==s.indexOf(o.placeholder[0])&&(s="01"+o.separator);var r=1===t.length?o.regex.val2pre(o.separator).test(s+t):o.regex.val2(o.separator).test(s+t);return n||r||!(r=o.regex.val2(o.separator).test(s+"0"+t))?r:(e.buffer[i]="0",{pos:++i})},cardinality:1}]},y:{validator:function(t,e,i,n,o){if(o.isInYearRange(t,o.yearrange.minyear,o.yearrange.maxyear)){if(e.buffer.join("").substr(0,6)!==o.leapday)return!0;var s=parseInt(t,10);return s%4==0&&(s%100!=0||s%400==0)}return!1},cardinality:4,prevalidator:[{validator:function(t,e,i,n,o){var s=o.isInYearRange(t,o.yearrange.minyear,o.yearrange.maxyear);if(!n&&!s){var r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,t+"0").toString().slice(0,1);if(s=o.isInYearRange(r+t,o.yearrange.minyear,o.yearrange.maxyear))return e.buffer[i++]=r.charAt(0),{pos:i};if(r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,t+"0").toString().slice(0,2),s=o.isInYearRange(r+t,o.yearrange.minyear,o.yearrange.maxyear))return e.buffer[i++]=r.charAt(0),e.buffer[i++]=r.charAt(1),{pos:i}}return s},cardinality:1},{validator:function(t,e,i,n,o){var s=o.isInYearRange(t,o.yearrange.minyear,o.yearrange.maxyear);if(!n&&!s){var r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,t).toString().slice(0,2);if(s=o.isInYearRange(t[0]+r[1]+t[1],o.yearrange.minyear,o.yearrange.maxyear))return e.buffer[i++]=r.charAt(1),{pos:i};if(r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,t).toString().slice(0,2),o.isInYearRange(r+t,o.yearrange.minyear,o.yearrange.maxyear))if(e.buffer.join("").substr(0,6)!==o.leapday)s=!0;else{var a=parseInt(t,10);s=a%4==0&&(a%100!=0||a%400==0)}else s=!1;if(s)return e.buffer[i-1]=r.charAt(0),e.buffer[i++]=r.charAt(1),e.buffer[i++]=t.charAt(0),{refreshFromBuffer:{start:i-3,end:i},pos:i}}return s},cardinality:2},{validator:function(t,e,i,n,o){return o.isInYearRange(t,o.yearrange.minyear,o.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(i,n,o,s){var r=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var a=new Date;r.val((a.getMonth()+1).toString()+a.getDate().toString()+a.getFullYear().toString()),r.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(i,n,o,s){var r=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var a=new Date;r.val(a.getFullYear().toString()+(a.getMonth()+1).toString()+a.getDate().toString()),r.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(t,e,i,n,o){if("24"===o.hourFormat&&24===parseInt(t,10))return e.buffer[i-1]="0",e.buffer[i]="0",{refreshFromBuffer:{start:i-1,end:i},c:"0"};var s=o.regex.hrs.test(t);if(!n&&!s&&(t.charAt(1)===o.timeseparator||-1!=="-.:".indexOf(t.charAt(1)))&&(s=o.regex.hrs.test("0"+t.charAt(0))))return e.buffer[i-1]="0",e.buffer[i]=t.charAt(0),{refreshFromBuffer:{start:++i-2,end:i},pos:i,c:o.timeseparator};if(s&&"24"!==o.hourFormat&&o.regex.hrs24.test(t)){var r=parseInt(t,10);return 24===r?(e.buffer[i+5]="a",e.buffer[i+6]="m"):(e.buffer[i+5]="p",e.buffer[i+6]="m"),10>(r-=12)?(e.buffer[i]=r.toString(),e.buffer[i-1]="0"):(e.buffer[i]=r.toString().charAt(1),e.buffer[i-1]=r.toString().charAt(0)),{refreshFromBuffer:{start:i-1,end:i+6},c:e.buffer[i]}}return s},cardinality:2,prevalidator:[{validator:function(t,e,i,n,o){var s=o.regex.hrspre.test(t);return n||s||!(s=o.regex.hrs.test("0"+t))?s:(e.buffer[i]="0",{pos:++i})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(t,e,i,n,o){var s=o.regex.mspre.test(t);return n||s||!(s=o.regex.ms.test("0"+t))?s:(e.buffer[i]="0",{pos:++i})},cardinality:1}]},t:{validator:function(t,e,i,n,o){return o.regex.ampm.test(t+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(i,n,o,s){var r=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var a=new Date;r.val((a.getMonth()+1).toString()+a.getDate().toString()+a.getFullYear().toString()),r.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"[0-3])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+i+"30)|((0[1-6])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}})}(jQuery,Inputmask),function(t,e){e.extendDefinitions({A:{validator:"[A-Za-z--]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-z--]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),e.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(t,e,i,n,o){return i-1>-1&&"."!==e.buffer[i-1]?(t=e.buffer[i-1]+t,t=i-2>-1&&"."!==e.buffer[i-2]?e.buffer[i-2]+t:"0"+t):t="00"+t,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(t)},cardinality:1}},onUnMask:function(t,e,i){return t}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}[.-{1,63}][.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(t,e,i){return t}},mac:{mask:"##:##:##:##:##:##"}})}(jQuery,Inputmask),function(t,e){e.extendAliases({numeric:{mask:function(t){function e(e){for(var i="",n=0;n<e.length;n++)i+=t.definitions[e.charAt(n)]?"\\"+e.charAt(n):e.charAt(n);return i}if(0!==t.repeat&&isNaN(t.integerDigits)&&(t.integerDigits=t.repeat),t.repeat=0,t.groupSeparator===t.radixPoint&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.autoGroup=t.autoGroup&&""!==t.groupSeparator,t.autoGroup&&("string"==typeof t.groupSize&&isFinite(t.groupSize)&&(t.groupSize=parseInt(t.groupSize)),isFinite(t.integerDigits))){var i=Math.floor(t.integerDigits/t.groupSize),n=t.integerDigits%t.groupSize;t.integerDigits=parseInt(t.integerDigits)+(0===n?i-1:i),t.integerDigits<1&&(t.integerDigits="*")}t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),t.radixFocus=t.radixFocus&&""!==t.placeholder&&!0===t.integerOptional,t.definitions[";"]=t.definitions["~"],t.definitions[";"].definitionSymbol="~",1==t.numericInput&&(t.radixFocus=!1,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t.decimalProtect=!1);var o=e(t.prefix);return o+="[+]",o+=!0===t.integerOptional?"~{1,"+t.integerDigits+"}":"~{"+t.integerDigits+"}",void 0!==t.digits&&(isNaN(t.digits)||parseInt(t.digits)>0)&&(o+=t.digitsOptional?"["+(t.decimalProtect?":":t.radixPoint)+";{1,"+t.digits+"}]":(t.decimalProtect?":":t.radixPoint)+";{"+t.digits+"}"),""!==t.negationSymbol.back&&(o+="[-]"),o+=e(t.suffix),t.greedy=!1,o},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(i,n,o,s){!0===s.numericInput&&(i=i.reverse(),isFinite(n)&&(n=i.join("").length-n-1));var r,a,l=!1;i.length>=s.suffix.length&&i.join("").indexOf(s.suffix)===i.length-s.suffix.length&&(i.length=i.length-s.suffix.length,l=!0);var c=!1,h=i[n=n>=i.length?i.length-1:n<s.prefix.length?s.prefix.length:n];if(""===s.groupSeparator||!0!==s.numericInput&&-1!==t.inArray(s.radixPoint,i)&&n>t.inArray(s.radixPoint,i)||new RegExp("["+e.escapeRegex(s.negationSymbol.front)+"+]").test(h)){if(l)for(r=0,a=s.suffix.length;a>r;r++)i.push(s.suffix.charAt(r));return{pos:n}}var d=i.slice();h===s.groupSeparator&&(d.splice(n--,1),h=d[n]),o?h!==s.radixPoint&&(d[n]="?"):d.splice(n,0,"?");var u=d.join(""),p=u;if(u.length>0&&s.autoGroup||o&&-1!==u.indexOf(s.groupSeparator)){var f=e.escapeRegex(s.groupSeparator);c=0===u.indexOf(s.groupSeparator);var g=(u=u.replace(new RegExp(f,"g"),"")).split(s.radixPoint);if((u=""===s.radixPoint?u:g[0])!==s.prefix+"?0"&&u.length>=s.groupSize+s.prefix.length)for(var m=new RegExp("([-+]?[\\d?]+)([\\d?]{"+s.groupSize+"})");m.test(u);)u=(u=u.replace(m,"$1"+s.groupSeparator+"$2")).replace(s.groupSeparator+s.groupSeparator,s.groupSeparator);""!==s.radixPoint&&g.length>1&&(u+=s.radixPoint+g[1])}for(c=p!==u,i.length=u.length,r=0,a=u.length;a>r;r++)i[r]=u.charAt(r);var v=t.inArray("?",i);if(-1===v&&h===s.radixPoint&&(v=t.inArray(s.radixPoint,i)),o?i[v]=h:i.splice(v,1),!c&&l)for(r=0,a=s.suffix.length;a>r;r++)i.push(s.suffix.charAt(r));return v=s.numericInput&&isFinite(n)?i.join("").length-v-1:v,s.numericInput&&(i=i.reverse(),t.inArray(s.radixPoint,i)<v&&i.join("").length-s.suffix.length!==v&&(v-=1)),{pos:v,refreshFromBuffer:c,buffer:i}},onBeforeWrite:function(i,n,o,s){if(i&&("blur"===i.type||"checkval"===i.type)){var r=n.join(""),a=r.replace(s.prefix,"");if(a=(a=a.replace(s.suffix,"")).replace(new RegExp(e.escapeRegex(s.groupSeparator),"g"),""),","===s.radixPoint&&(a=a.replace(e.escapeRegex(s.radixPoint),".")),isFinite(a)&&isFinite(s.min)&&parseFloat(a)<parseFloat(s.min))return t.extend(!0,{refreshFromBuffer:!0,buffer:(s.prefix+s.min).split("")},s.postFormat((s.prefix+s.min).split(""),0,!0,s));if(!0!==s.numericInput){var l=""!==s.radixPoint?n.join("").split(s.radixPoint):[n.join("")],c=l[0].match(s.regex.integerPart(s)),h=2===l.length?l[1].match(s.regex.integerNPart(s)):void 0;if(c){c[0]!==s.negationSymbol.front+"0"&&c[0]!==s.negationSymbol.front&&"+"!==c[0]||void 0!==h&&!h[0].match(/^0+$/)||n.splice(c.index,1);var d=t.inArray(s.radixPoint,n);if(-1!==d){if(isFinite(s.digits)&&!s.digitsOptional){for(var u=1;u<=s.digits;u++)(void 0===n[d+u]||n[d+u]===s.placeholder.charAt(0))&&(n[d+u]="0");return{refreshFromBuffer:r!==n.join(""),buffer:n}}if(d===n.length-s.suffix.length-1)return n.splice(d,1),{refreshFromBuffer:!0,buffer:n}}}}}if(s.autoGroup){var p=s.postFormat(n,s.numericInput?o:o-1,!0,s);return p.caret=o<=s.prefix.length?p.pos:p.pos+1,p}},regex:{integerPart:function(t){return new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+e.escapeRegex(t.groupSeparator)+"]+")}},signHandler:function(t,e,i,n,o){if(!n&&o.allowMinus&&"-"===t||o.allowPlus&&"+"===t){var s=e.buffer.join("").match(o.regex.integerPart(o));if(s&&s[0].length>0)return e.buffer[s.index]===("-"===t?"+":o.negationSymbol.front)?"-"===t?""!==o.negationSymbol.back?{pos:s.index,c:o.negationSymbol.front,remove:s.index,caret:i,insert:{pos:e.buffer.length-o.suffix.length-1,c:o.negationSymbol.back}}:{pos:s.index,c:o.negationSymbol.front,remove:s.index,caret:i}:""!==o.negationSymbol.back?{pos:s.index,c:"+",remove:[s.index,e.buffer.length-o.suffix.length-1],caret:i}:{pos:s.index,c:"+",remove:s.index,caret:i}:e.buffer[s.index]===("-"===t?o.negationSymbol.front:"+")?"-"===t&&""!==o.negationSymbol.back?{remove:[s.index,e.buffer.length-o.suffix.length-1],caret:i-1}:{remove:s.index,caret:i-1}:"-"===t?""!==o.negationSymbol.back?{pos:s.index,c:o.negationSymbol.front,caret:i+1,insert:{pos:e.buffer.length-o.suffix.length,c:o.negationSymbol.back}}:{pos:s.index,c:o.negationSymbol.front,caret:i+1}:{pos:s.index,c:t,caret:i+1}}return!1},radixHandler:function(e,i,n,o,s){if(!o&&(-1!==t.inArray(e,[",","."])&&(e=s.radixPoint),e===s.radixPoint&&void 0!==s.digits&&(isNaN(s.digits)||parseInt(s.digits)>0))){var r=t.inArray(s.radixPoint,i.buffer),a=i.buffer.join("").match(s.regex.integerPart(s));if(-1!==r&&i.validPositions[r])return i.validPositions[r-1]?{caret:r+1}:{pos:a.index,c:a[0],caret:r+1};if(!a||"0"===a[0]&&a.index+1!==n)return i.buffer[a?a.index:n]="0",{pos:(a?a.index:n)+1,c:s.radixPoint}}return!1},leadingZeroHandler:function(e,i,n,o,s){if(!0===s.numericInput){if("0"===i.buffer[i.buffer.length-s.prefix.length-1])return{pos:n,remove:i.buffer.length-s.prefix.length-1}}else{var r=i.buffer.join("").match(s.regex.integerNPart(s)),a=t.inArray(s.radixPoint,i.buffer);if(r&&!o&&(-1===a||a>=n))if(0===r[0].indexOf("0")){n<s.prefix.length&&(n=r.index);var l=t.inArray(s.radixPoint,i._buffer),c=i._buffer&&i.buffer.slice(a).join("")===i._buffer.slice(l).join("")||0===parseInt(i.buffer.slice(a+1).join("")),h=i._buffer&&i.buffer.slice(r.index,a).join("")===i._buffer.slice(s.prefix.length,l).join("")||"0"===i.buffer.slice(r.index,a).join("");if(-1===a||c&&h)return i.buffer.splice(r.index,1),{pos:n=n>r.index?n-1:r.index,remove:r.index};if(r.index+1===n||"0"===e)return i.buffer.splice(r.index,1),{pos:n=r.index,remove:r.index}}else if("0"===e&&n<=r.index&&r[0]!==s.groupSeparator)return!1}return!0},postValidation:function(t,i,n){var o=!0,s=(n.numericInput?t.slice().reverse().join(""):t.join("")).replace(n.prefix,"");return s=(s=s.replace(n.suffix,"")).replace(new RegExp(e.escapeRegex(n.groupSeparator),"g"),""),","===n.radixPoint&&(s=s.replace(e.escapeRegex(n.radixPoint),".")),s=(s=(s=s.replace(new RegExp("^"+e.escapeRegex(n.negationSymbol.front)),"-")).replace(new RegExp(e.escapeRegex(n.negationSymbol.back)+"$"),""))===n.negationSymbol.front?s+"0":s,isFinite(s)&&(null!==n.max&&isFinite(n.max)&&(s=parseFloat(s)>parseFloat(n.max)?n.max:s,o=n.postFormat((n.prefix+s).split(""),0,!0,n)),null!==n.min&&isFinite(n.min)&&(s=parseFloat(s)<parseFloat(n.min)?n.min:s,o=n.postFormat((n.prefix+s).split(""),0,!0,n))),o},definitions:{"~":{validator:function(i,n,o,s,r){var a=r.signHandler(i,n,o,s,r);if(!a&&(!(a=r.radixHandler(i,n,o,s,r))&&(!0===(a=s?new RegExp("[0-9"+e.escapeRegex(r.groupSeparator)+"]").test(i):new RegExp("[0-9]").test(i))&&!0===(a=r.leadingZeroHandler(i,n,o,s,r))))){var l=t.inArray(r.radixPoint,n.buffer);a=-1!==l&&!1===r.digitsOptional&&!0!==r.numericInput&&o>l&&!s?{pos:o,remove:o}:{pos:o}}return a},cardinality:1,prevalidator:null},"+":{validator:function(t,e,i,n,o){var s=o.signHandler(t,e,i,n,o);return!s&&(n&&o.allowMinus&&t===o.negationSymbol.front||o.allowMinus&&"-"===t||o.allowPlus&&"+"===t)&&(s="-"!==t||(""!==o.negationSymbol.back?{pos:i,c:"-"===t?o.negationSymbol.front:"+",caret:i+1,insert:{pos:e.buffer.length,c:o.negationSymbol.back}}:{pos:i,c:"-"===t?o.negationSymbol.front:"+",caret:i+1})),s},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(t,e,i,n,o){var s=o.signHandler(t,e,i,n,o);return!s&&n&&o.allowMinus&&t===o.negationSymbol.back&&(s=!0),s},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(t,i,n,o,s){var r=s.signHandler(t,i,n,o,s);if(!r){var a="["+e.escapeRegex(s.radixPoint)+",\\.]";(r=new RegExp(a).test(t))&&i.validPositions[n]&&i.validPositions[n].match.placeholder===s.radixPoint&&(r={caret:n+1})}return r?{c:s.radixPoint}:r},cardinality:1,prevalidator:null,placeholder:function(t){return t.radixPoint}}},onUnMask:function(t,i,n){var o=t.replace(n.prefix,"");return o=(o=o.replace(n.suffix,"")).replace(new RegExp(e.escapeRegex(n.groupSeparator),"g"),""),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==o.indexOf(n.radixPoint)&&(o=o.replace(e.escapeRegex.call(this,n.radixPoint),".")),Number(o)):o},isComplete:function(t,i){var n=t.join(""),o=t.slice();if(i.postFormat(o,0,!0,i),o.join("")!==n)return!1;var s=n.replace(i.prefix,"");return s=(s=s.replace(i.suffix,"")).replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(s=s.replace(e.escapeRegex(i.radixPoint),".")),isFinite(s)},onBeforeMask:function(t,i){if(""!==i.radixPoint&&isFinite(t))t=t.toString().replace(".",i.radixPoint);else{var n=t.match(/,/g),o=t.match(/\./g);o&&n?o.length>n.length?t=(t=t.replace(/\./g,"")).replace(",",i.radixPoint):n.length>o.length?t=(t=t.replace(/,/g,"")).replace(".",i.radixPoint):t=t.indexOf(".")<t.indexOf(",")?t.replace(/\./g,""):t=t.replace(/,/g,""):t=t.replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),"")}if(0===i.digits&&(-1!==t.indexOf(".")?t=t.substring(0,t.indexOf(".")):-1!==t.indexOf(",")&&(t=t.substring(0,t.indexOf(",")))),""!==i.radixPoint&&isFinite(i.digits)&&-1!==t.indexOf(i.radixPoint)){var s=t.split(i.radixPoint)[1].match(new RegExp("\\d*"))[0];if(parseInt(i.digits)<s.toString().length){var r=Math.pow(10,parseInt(i.digits));t=t.replace(e.escapeRegex(i.radixPoint),"."),t=(t=Math.round(parseFloat(t)*r)/r).toString().replace(".",i.radixPoint)}}return t.toString()},canClearPosition:function(i,n,o,s,r){var a=i.validPositions[n].input,l=a!==r.radixPoint||null!==i.validPositions[n].match.fn&&!1===r.decimalProtect||isFinite(a)||n===o||a===r.groupSeparator||a===r.negationSymbol.front||a===r.negationSymbol.back;if(l&&isFinite(a)){var c,h=t.inArray(r.radixPoint,i.buffer),d=!1;if(void 0===i.validPositions[h]&&(i.validPositions[h]={input:r.radixPoint},d=!0),!s&&i.buffer){var u=n+1;if(null==(c=i.buffer.join("").substr(0,n).match(r.regex.integerNPart(r)))||0===parseInt(c[0].replace(new RegExp(e.escapeRegex(r.groupSeparator),"g"),"")))for(;i.validPositions[u]&&(i.validPositions[u].input===r.groupSeparator||"0"===i.validPositions[u].input);)delete i.validPositions[u],u++}var p=[];for(var f in i.validPositions)void 0!==i.validPositions[f].input&&p.push(i.validPositions[f].input);if(d&&delete i.validPositions[h],h>0){var g=p.join("");if(c=g.match(r.regex.integerNPart(r)))if(h>=n)if(0===c[0].indexOf("0"))l=c.index!==n||"0"===r.placeholder;else{var m=parseInt(c[0].replace(new RegExp(e.escapeRegex(r.groupSeparator),"g"),"")),v=parseInt(g.split(r.radixPoint)[1]);10>m&&i.validPositions[n]&&("0"!==r.placeholder||v>0)&&(i.validPositions[n].input="0",i.p=r.prefix.length+1,l=!1)}else 0===c[0].indexOf("0")&&3===g.length&&(i.validPositions={},l=!1)}}return l},onKeyDown:function(i,n,o,s){var r=t(this);if(i.ctrlKey)switch(i.keyCode){case e.keyCode.UP:r.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(s.step)),r.trigger("setvalue");break;case e.keyCode.DOWN:r.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(s.step)),r.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}})}(jQuery,Inputmask),function(t,e){e.extendAliases({phone:{url:"phone-codes/phone-codes.js",countrycode:"",phoneCodeCache:{},mask:function(e){if(void 0===e.phoneCodeCache[e.url]){var i=[];e.definitions["#"]=e.definitions[9],t.ajax({url:e.url,async:!1,type:"get",dataType:"json",success:function(t){i=t},error:function(t,i,n){alert(n+" - "+e.url)}}),e.phoneCodeCache[e.url]=i.sort(function(t,e){return(t.mask||t)<(e.mask||e)?-1:1})}return e.phoneCodeCache[e.url]},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(t,e){var i=t.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(i.indexOf(e.countrycode)>1||-1===i.indexOf(e.countrycode))&&(i="+"+e.countrycode+i),i}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}})}(jQuery,Inputmask),function(t,e){e.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(t,e){return new RegExp(e.regex).test(t.join(""))},definitions:{r:{validator:function(e,i,n,o,s){function r(t,e){this.matches=[],this.isGroup=t||!1,this.isQuantifier=e||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function a(e,i){var n=!1;i&&(d+="(",p++);for(var o=0;o<e.matches.length;o++){var s=e.matches[o];if(!0===s.isGroup)n=a(s,!0);else if(!0===s.isQuantifier){var r=t.inArray(s,e.matches),c=e.matches[r-1],h=d;if(isNaN(s.quantifier.max)){for(;s.repeaterPart&&s.repeaterPart!==d&&s.repeaterPart.length>d.length&&!(n=a(c,!0)););(n=n||a(c,!0))&&(s.repeaterPart=d),d=h+s.quantifier.max}else{for(var u=0,f=s.quantifier.max-1;f>u&&!(n=a(c,!0));u++);d=h+"{"+s.quantifier.min+","+s.quantifier.max+"}"}}else if(void 0!==s.matches)for(var g=0;g<s.length&&!(n=a(s[g],i));g++);else{var m;if("["==s.charAt(0)){m=d,m+=s;for(var v=0;p>v;v++)m+=")";n=new RegExp("^("+m+")$").test(l)}else for(var y=0,b=s.length;b>y;y++)if("\\"!==s.charAt(y)){m=d,m=(m+=s.substr(0,y+1)).replace(/\|$/,"");for(v=0;p>v;v++)m+=")";if(n=new RegExp("^("+m+")$").test(l))break}d+=s}if(n)break}return i&&(d+=")",p--),n}var l,c,h=i.buffer.slice(),d="",u=!1,p=0;null===s.regexTokens&&function(){var t,e,i=new r,n=[];for(s.regexTokens=[];t=s.tokenizer.exec(s.regex);)switch(e=t[0],e.charAt(0)){case"(":n.push(new r(!0));break;case")":c=n.pop(),n.length>0?n[n.length-1].matches.push(c):i.matches.push(c);break;case"{":case"+":case"*":var o=new r(!1,!0),a=(e=e.replace(/[{}]/g,"")).split(","),l=isNaN(a[0])?a[0]:parseInt(a[0]),h=1===a.length?l:isNaN(a[1])?a[1]:parseInt(a[1]);if(o.quantifier={min:l,max:h},n.length>0){var d=n[n.length-1].matches;(t=d.pop()).isGroup||((c=new r(!0)).matches.push(t),t=c),d.push(t),d.push(o)}else(t=i.matches.pop()).isGroup||((c=new r(!0)).matches.push(t),t=c),i.matches.push(t),i.matches.push(o);break;default:n.length>0?n[n.length-1].matches.push(e):i.matches.push(e)}i.matches.length>0&&s.regexTokens.push(i)}(),h.splice(n,0,e),l=h.join("");for(var f=0;f<s.regexTokens.length;f++){var g=s.regexTokens[f];if(u=a(g,g.isGroup))break}return u},cardinality:1}}}})}(jQuery,Inputmask),function(t,e,i,n){t.widget("dtaiko.accordion",{SCROLL_TOP:"top",SCROLL_BOTTOM:"bottom",SCROLL_FIRST_ERROR:"error",DEFAULT_SCROLL_OFFSET:15,options:{delay:9,maxHeight:9999,ghostElementMargin:20,onBeforeClose:!1,onBeforeOpen:!1,onClosed:!1,forceUrl:!1},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.el.hasClass("bound")||this.el.hasClass("disabled")||(this.useFallback=!t("html").hasClass("csstransitions"),this.currentHeight=0,this.disableTrigger=!1,this.toggleTo=!1,this.toggleToEl=!1,this.fullContent=this.el.find(".full-content").first(),this.fullContentHtmlEl=this.el.find(".full-content").first().get(0),this.innerContent=this.el.find(".content").first(),this.scrollContent=this.el.find(".scroll-content").first(),this.additionalTriggers=[],this.doNotScroll=!!this.el.data("skip-scroll"),this.doNotScrollMobile=!!this.el.data("skip-scroll-mobile"),this.mobile=!!this.el.data("accordion-mobile-addon"),this.mobile&&(this.groupWrapper=this.el.closest(".accordion-group-wrapper")?this.el.closest(".accordion-group-wrapper"):this.el.closest(".financial-account-wrapper")),(this.el.hasClass("message")||"main-editor"===this.el.attr("id")||this.el.hasClass("pref-area"))&&(this.mobile=!0,this.groupWrapper=this.el.hasClass("pref-area")?this.el.closest(".accordion-group-wrapper"):this.el.closest(".message-wrapper"),this.doNotScroll=!1,this.doNotScrollMobile=!0),this.uIdMove=void 0,this.isOpen=this.el.hasClass("open"),this.timeOutScroll=!1,this.url=this.el.data("url"),this.skipShadow=!!this.el.data("skip-shadow"),this.skipShadow=!0,this.isScrolling=!1,this.triggers=[],this.waitFor=t(this.el).data("wait-for"),this.waitForScope=t(this.el).data("wait-for-scope"),this.activeTrigger=t(this.el.data("active-trigger")),this.currentTrigger=!1,this.isGhost=!!this.el.data("ghost"),this.ghostId=!!this.el.data("ghost-target")&&this.el.data("ghost-target"),this.isUserToggleDisabled=!!this.el.data("user-toggle-disabled"),this.ghostPartner=!1,this.hasGhost=!!this.el.hasClass("has-ghost"),this.ghostTop=!1,this.tOutResize=!1,this.forceUrl=this.o.forceUrl,this.blockClose=!1,this.tipsyAlert=!1,this.tipsyAlertClass="tipsy-data-tile-accordion-alert",this.tipsyTarget=!1,this.tipsyMessageId=this.el.data("id")?this.el.data("id"):"block-close-message-1",this.canttouch=t("#mdi").length?t("#mdi"):t('<div id="mdi" class="mobile-drag-info vp"><span class="vc">Durch Drag & Drop auf ein anderes Konto starten Sie einen bertrag.</span></span>'),this.indicator=t(".indicator:first",this.el),this.indicator.closest(".accordion").is(this.el)||(this.indicator=!1),this.instantCloseOnMobile=!!this.el.data("close-mobile")&&this.el.data("close-mobile"),!1!==this.el.data("clickable")?(this.isOpen||(this.el.addClass("closed"),this.fullContent.addClass("visibility-hidden")),this._bindEvents(),this.isOpen&&(this.gatherData(!1,!0),(this.activeTrigger.closest(".accordion").is(this.el)||this.activeTrigger.hasClass("extern-trigger"))&&this.activeTrigger.addClass("active db-active")),this.el.triggerHandler("accordionStarted"),this.el.addClass("bound")):this.el.addClass("no-click"))},setOnBeforeOpen:function(t){this.o.onBeforeOpen=t},setOnBeforeClose:function(t){this.o.onBeforeClose=t},onClosed:function(t){this.o.onClosed=t},getFullContent:function(){return this.fullContent},setGhostHeight:function(t,e){var i=this;this.ghostPartner=t,this.currentHeight=e+this.o.ghostElementMargin,this.innerContent.css("height",e+this.o.ghostElementMargin),i._setGhostHeight(),this.ghostPartner.off("resize").on("resize",function(){i._setGhostHeight()})},_setGhostHeight:function(){this.ghostPartner.hasClass("opened")&&(this.currentHeight=this.ghostPartner.height()+this.o.ghostElementMargin,this.el.css("max-height",this.currentHeight),this.innerContent.css("height",this.currentHeight))},setGhostBlock:function(){this.blockClose=!0},unsetGhostBlock:function(){this.blockClose=!1},getBlockClose:function(){return this.blockClose},setTipsyAlert:function(t){this.tipsyAlert=t},getTipsyAlert:function(){return this.tipsyAlert},setTipsyTarget:function(t){this.tipsyTarget=t},_bindEvents:function(){var i=this,n=this.o;this.instantCloseOnMobile&&t(e).on("mobileViewport",function(){i.instantClose()}),this.el.on("accordionBeforeOpen accordionBeforeClose",function(){DBEG.log("[Accordion] acc before open CALLED ON",this),dTaiko.accordionBlock=!0}),this.fullContent.on("accordionClosed accordionOpened",function(){DBEG.log("[Accordion] acc closed CALLED ON",this),i.disableTrigger=!1,dTaiko.accordionBlock=!1}),this.fullContent.on("accordionOpened accordionBeforeOpen",function(e){i.isGhost||(i._setCurrentHeight(),i.ghostId&&t(i.ghostId).accordion("setGhostHeight",i.el,i.currentHeight))}),this.el.on("accordionContentAppended",function(){i.ghostId&&(i._setCurrentHeight(),t(i.ghostId).accordion("setGhostHeight",i.el,i.currentHeight))}),this.fullContent.on("transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd",function(e){if(e.target===i.fullContentHtmlEl)if(i.fullContent.css("max-height")!==n.maxHeight+"px"){if(parseInt(i.fullContent.css("max-height"))!=i.currentHeight&&i.toggleTo)return i._moveGroupWrapper(!1,!0),void(i.toggleTo=!1);i.skipShadow||(t("body").removeClass("no-shadows"),t("*",i.el).removeClass("shadow")),i.isOpen?(i.el.addClass("opened"),i.fullContent.triggerHandler("accordionOpened"),i.fullContent.removeClass("overflow-hidden"),i.el.removeClass("closed"),dTaiko.isTouch&&dTaiko.viewportWidth<=640&&i._disableMobileScrolling(),dTaiko.isTouch&&i._enableMobileScrolling()):(i.el.removeClass("closing"),i.el.addClass("closed"),i.fullContent.triggerHandler("accordionClosed"),i.fullContent.addClass("visibility-hidden"),dTaiko.isTouch&&dTaiko.viewportWidth<=640&&i._enableMobileScrolling(),i.o.onClosed&&i.o.onClosed(i.el,i.currentTrigger),i.url&&i._removeContent()),!i.isScrolling&&i.isOpen&&i._scrollIntoView(),i.isOpen&&(i.fullContent.find(".scroll-content").addClass("repaint-fix"),i.fullContent.css("max-height",n.maxHeight),i.fullContent.find(".scroll-content").removeClass("repaint-fix"))}else e.stopPropagation();else e.stopPropagation()}),this._buildTriggers(),this.isOpen?this._initBase(!0):this._initBase(!1)},_buildTriggers:function(){var i=this,n=this.el.data("trigger"),o=this.el.data("trigger-open"),s=this.el.data("trigger-close"),r=this.el.data("trigger-toggle");t(".indicator, .trigger, .mobile-trigger",this.el).each(function(){i.hasGhost&&t(this).hasClass("ghost-trigger")?t(this).on(dTaiko.stdEvent+" keyup",function(e){i.tipsyMessageId||(i.tipsyMessageId=t(this).data("id")),i.tipsyTarget=t(this)}):t(this).closest(".accordion").is(i.el)&&i.triggers.push(this)});for(var a=0;a<this.triggers.length;a++)t(this.triggers[a]).off(dTaiko.stdEvent+" keyup").on(dTaiko.stdEvent+" keyup",function(n){if(null!=DBEG.portletManager&&DBEG.portletManager.onTaikoTriggerClick(n.delegateTarget),t(n.delegateTarget).hasClass("mobile-trigger")&&dTaiko.viewportWidth>640)return!1;if(i.tipsyMessageId||(i.tipsyMessageId=t(this).data("id")),i.tipsyTarget=t(this),_this=this,$additonalTrigger=!!t(this).data("additional-trigger")&&t(t(this).data("additional-trigger")),t(n.target).hasClass("tip-skip-mobile"))return!1;if(t(n.target).hasClass("tip-skip-only-mobile")&&dTaiko.viewportWidth<640)return!1;if(!dTaiko.accordionBlock&&(!t("body").hasClass("edit-mode")||t(this).hasClass("force-toggle"))&&!i.disableTrigger){if("keyup"===n.type&&13!==n.which)return!0;if(!t(this).data("open")||i.isOpen){i.currentTrigger=t(this);var o=!!t(this).data("url")&&t(this).data("url");if(!i.isUserToggleDisabled||t(i.currentTrigger).hasClass("circle-cta")||t(i.currentTrigger).hasClass("js-bwc-circle-cta"))if(i.disableTrigger=!0,!o&&!i.o.forceUrl||!t(i.currentTrigger).hasClass("active")&&!t(i.currentTrigger).hasClass("circle-close")&&(t(i.currentTrigger).hasClass("circle-cta")||t(i.currentTrigger).hasClass("toggle-content")||t(i.currentTrigger).hasClass("js-bwc-circle-cta")))if((o||i.o.forceUrl)&&i.isOpen){i.toggle();var s=dTaiko.viewportWidth<=640?"groupWrapperRestored.toggleContent":"accordionClosed.toggleContent";i.fullContent.on(s,function(){t(_this).addClass("active db-active"),$additonalTrigger.length&&$additonalTrigger.addClass("active db-active"),i.fullContent.off(s),i.gatherData(o)})}else t(this).hasClass("indicator")||t(this).addClass("active db-active"),$additonalTrigger.length&&$additonalTrigger.addClass("active db-active"),e.setTimeout(function(){i.gatherData(o)},1);else i.toggle()}}});if(n){this.additionalTriggers=n.split(",");for(a=0;a<this.additionalTriggers.length;a++)t(this.additionalTriggers[a]).on(dTaiko.stdEvent+" keyup",function(n){if((!t("body").hasClass("edit-mode")||t(this).hasClass("force-toggle"))&&!(dTaiko.accordionBlock&&"add-tile"!==t(n.delegateTarget).attr("id")||i.disableTrigger||t(this).hasClass("switch")&&t(this).hasClass("active"))){if("keyup"===n.type&&13!==n.which)return!0;i.currentTrigger=t(this),i.disableTrigger=!0,i.tipsyMessageId||(i.tipsyMessageId=t(this).data("id")),i.tipsyTarget=t(this),t(this).addClass("active db-active"),e.setTimeout(function(){i.gatherData()},1)}})}if(o){this.openTriggers=o.split(",");for(a=0;a<this.openTriggers.length;a++)t(this.openTriggers[a]).on(dTaiko.stdEvent+" keyup",function(n){if(!i.isOpen&&(!t("body").hasClass("edit-mode")||t(this).hasClass("force-toggle"))&&!dTaiko.accordionBlock&&!i.disableTrigger){if("keyup"===n.type&&13!==n.which)return!0;i.currentTrigger=t(this),t(this).addClass("active db-active"),i.disableTrigger=!0;for(var o=0;o<i.closeTriggers.length;o++)t(i.closeTriggers[o]).removeClass("active db-active");e.setTimeout(function(){i.gatherData()},1)}})}if(s){this.closeTriggers=s.split(",");for(a=0;a<this.closeTriggers.length;a++)t(this.closeTriggers[a]).on(dTaiko.stdEvent+" keyup",function(n){if(!i.el.hasClass("closed")&&!dTaiko.accordionBlock&&(!t("body").hasClass("edit-mode")||t(this).hasClass("force-toggle"))&&!i.disableTrigger){if("keyup"===n.type&&13!==n.which)return!0;i.currentTrigger=t(this),t(this).addClass("active db-active"),i.disableTrigger=!0;for(var o=0;o<i.openTriggers.length;o++)t(i.openTriggers[o]).removeClass("active db-active");e.setTimeout(function(){i.gatherData()},1)}})}if(r){this.toggleTriggers=r.split(",");for(a=0;a<this.toggleTriggers.length;a++)t(this.toggleTriggers[a]).on(dTaiko.stdEvent+" keyup",function(n){if(!(t("body").hasClass("edit-mode")||t(this).hasClass("active")||dTaiko.accordionBlock||i.disableTrigger)){if("keyup"===n.type&&13!==n.which)return!0;i.currentTrigger=t(this);var o=!!t(this).data("url")&&t(this).data("url");i.toggle();var s=t(this).addClass("active db-active");i.disableTrigger=!0,i.fullContent.on("accordionClosed",function(){t(".fade-switch-first").fadeOut(300,function(){t(".fade-switch-second").fadeIn(300)}),i.fullContent.off("accordionClosed"),t(s).hasClass("depot-next")||t(s).hasClass("close-order")?t(".depot-next,.close-order").removeClass("active db-active"):(i.fullContent.closest(".outer-accordion-wrapper").removeClass(".level-15-new-transaction").addClass(".level-15-multi"),t(".transaction-container").addClass("multi-trans-only transaction-multi-container"),t(".transaction-container").closest(".accordion").addClass("transaction-multi-container"),i.el.addClass("box second active")),e.setTimeout(function(){i.gatherData(o)},1)})}})}},getAccordion:function(){return this.el},getTipsyTarget:function(){return this.tipsyTarget},gatherData:function(i,n,o,s){DBEG.log("[Accordion] gatherData called with: ",arguments),DBEG.log("[Accordion] gatherData called on ",this.el);var r,a=this,l=!1;if(!this._waitFor(s)){if(o&&this.isOpen)return this.toggle(),void e.setTimeout(function(){a.gatherData(i,!1,!1)},400);if(i)l=i;else{if(l=this.url,!this.url)return void(n||this.toggle());if(this.isOpen&&!n)return void this.toggle()}r=dTaiko.util.getDataType(l),t.ajax({url:l,dataType:r}).then(function(e){e.success||"html"===r||DBEG.log("[Accordion]",e),a._removeContent(),$content=t(e||e),$content.find(".transaction-content").length&&($content.find(".form-handler").removeClass("form-handler"),t("*",$content).each(function(){if($this=t(this),$this.attr("id")){var e=$this.attr("id")+dTaiko.util.generateUid();$this.attr("id",e),$this.closest(".input-wrapper, .picker-wrap").find("label").attr("for",e)}})),a.innerContent.append($content),a._setCurrentHeight(),a._buildTriggers(),a.innerContent.trigger("accordionContentAppended"),n||a.toggle(!1,!1,!0)},function(t,e,i){DBEG.log("[Accordion]",t,e,i)})}},_removeContent:function(){this.innerContent.empty()},setBlock:function(e){e&&($blockEls=this.el.parents(".accordion"),$blockEls.accordion("setBlock",!1)),this.blockClose=!0,this.ghostId&&t(this.ghostId).accordion("setGhostBlock")},unsetBlock:function(e){e&&($blockEls=this.el.parents(".accordion"),$blockEls.accordion("unsetBlock",!1)),this.blockClose=!1,this.ghostId&&t(this.ghostId).accordion("unsetGhostBlock")},_moveGroupWrapper:function(i,n){var o=this;o.groupWrapper&&(t(".footer").hide(),this.top=o.el.offset().top-dTaiko.util.getScrollTop(),this.left=o.groupWrapper.offset().left,this.scrollTop=dTaiko.util.getScrollTop(),this.groupWrapper.css("left",0),$content=o.fullContent.find(".scroll-content:first"),$content.attr("style",""),e.setTimeout(function(){o.groupWrapper.addClass("active db-active"),dTaiko.$content.css("min-height",dTaiko.util.getInnerheight()+dTaiko.util.getScrollTop());var s=parseInt(o.top)-parseInt(o.groupWrapper.css("margin-top")),r=s>0?s:o.scrollTop-o.el.position().top;o.groupWrapper.addClass("active db-active").css("top",r),o.groupWrapper.hasClass("outer-accordion-wrapper-out")||($childWrapper=o.groupWrapper.find(".accordion-day-group:first"),$childWrapper.length?(t("> .accordion, .accordion.job, .accordion.message, .accordion.turnover",$childWrapper).not(o.el).hide(0),t("> .accordion, .accordion.job, .accordion.message, .accordion.turnover",o.groupWrapper).not(o.el).hide(0)):t("> .accordion, .accordion.job, .accordion.message, .accordion.turnover",o.groupWrapper).not(o.el).hide(0)),o.groupWrapper.hasClass("accordion-group-wrapper outer-accordion-wrapper-out")&&t(".pref-container").hide(0),e.setTimeout(function(){var s=o.groupWrapper.offset().top-dTaiko.util.getScrollTop();s<0?s=0:s*=-1,o.currentOffset=s,o.groupWrapper.css({"-webkit-transform":"translateY("+s+"px)","-moz-transform":"translateY("+s+"px)","-o-transform":"translateY("+s+"px)","-ms-transform":"translateY("+s+"px)",transform:"translateY("+s+"px)"}),e.setTimeout(function(){t("body, html").addClass("no-scroll"),t(".offCTAs:not(.active)",o.el.find(".row-head")).offCTAs("toggle"),o.groupWrapper.addClass("active-finished"),o.fullContent.on("accordionOpened.accordionMove",function(){o.fullContent.off("accordionOpened.accordionMove"),dTaiko.viewportWidth<=640&&o._setMaxContentHeight()}),i||o.toggle(!0,void 0,void 0,!0),n&&o._setMaxContentHeight(),t(o.el).on("resizeW.groupWrapper",function(){o._setMaxContentHeight()}),t(e).on("resize.groupWrapper",function(){o._setMaxContentHeight()}),t(e).on("desktopViewport.resizeGroupWrapper",function(){o._restoreGroupWrapper(!0,!0),t(e).off("desktopViewport.resizeGroupWrapper"),t(e).off("resizeW.groupWrapper"),dTaiko.isTouch&&o._enableMobileScrolling()}),t(e).on("scroll.outsideGroupWrapper",function(t){t.originalEvent.detail&&o._setMaxContentHeight()})},350)},50)},100))},_setMaxContentHeight:function(){var i=this.el.find(".row-head").outerHeight()||this.el.find(".first-step").outerHeight()||this.el.find(".message-head").outerHeight()||this.el.find(".pref-head").outerHeight(),n=this.el.closest(".accordion-day-group").find(".stickyheader-placeholder").height();i||(i=0),n||(n=0);var o=t(e).height()-i-n-(t(e).height()-e.innerHeight);$content=this.fullContent.find(".scroll-content:first"),dTaiko.isIOS&&($content.children().not(".clearfix").addClass("repaint-fix"),$content.find(".content:first").addClass("repaint-fix"),$content.children(".clearfix").each(function(){$this=t(this),$this.children().length&&$this.addClass("repaint-fix")}),$content.attr("style",""),this.fullContent.on("groupWrapperRestored",function(){$content.children().removeClass("repaint-fix"),$content.find(".content:first").removeClass("repaint-fix")})),$footer=t(".content > footer",this.fullContent);var s=0;$footer.length&&($content.has($footer).length||(s=$footer.height())),e.setTimeout(function(){$content.css("max-height",o-s),$content.css("overflow-y","scroll"),e.setTimeout(function(){$content.css("overflow-x","hidden")},10)},1)},_restoreGroupWrapper:function(i,n){var o=this;t(".offCTAs.active",o.el).offCTAs("toggle"),n||t(e).off("mobileViewport."+this.uIdMove).off("scroll.outsideGroupWrapper"),o.groupWrapper.removeClass("active-finished"),i||this.instantClose(),o.groupWrapper.css({"-webkit-transform":"translateY(-0px)","-moz-transform":"translateY(-0px)","-o-transform":"translateY(-0px)","-ms-transform":"translateY(-0px)",transform:"translateY(-0px)"}),o.groupWrapper.on("transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd",function(){o.groupWrapper.off("transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd"),o.groupWrapper.triggerHandler("groupWrapperFullyRestored")}),t("body, html").removeClass("no-scroll"),e.setTimeout(function(){o.groupWrapper.removeClass("active db-active"),dTaiko.$content.css("min-height",""),o.groupWrapper.hasClass("outer-accordion-wrapper-out")||($childWrapper=o.groupWrapper.find(".accordion-day-group:first"),$childWrapper.length?(t("> .accordion, .accordion.job, .accordion.message, .accordion.turnover",$childWrapper).not(o.el).show(0),t("> .accordion, .accordion.job, .accordion.message, .accordion.turnover",o.groupWrapper).not(o.el).show(0)):t("> .accordion, .accordion.job, .accordion.message, .accordion.turnover",o.groupWrapper).not(o.el).show(0)),o.groupWrapper.hasClass("accordion-group-wrapper outer-accordion-wrapper-out")&&t(".pref-container").show(0),e.setTimeout(function(){o.groupWrapper.attr("style",""),o.groupWrapper.find(".scroll-content").attr("style",""),o.fullContent.triggerHandler("groupWrapperRestored"),o.groupWrapper.triggerHandler("groupWrapperRestored"),t(".footer").show()},1),dTaiko.util.setScrollTop(o.scrollTop)},490)},instantClose:function(){var e=this;this.isOpen&&(this.isGhost&&dTaiko.viewportWidth<=640?e._instantCloseLogic():(t(e.el).off("accordionBeforeCloseDone.acc").on("accordionBeforeCloseDone.acc",function(){t(e.el).off("accordionBeforeCloseDone.acc"),e._instantCloseLogic()}),e.el.triggerHandler("accordionBeforeClose"),this.o.onBeforeClose?e.o.onBeforeClose(e.el,e.currentTrigger):(e._instantCloseLogic(),t(e.el).off("accordionBeforeCloseDone.acc"))))},_instantCloseLogic:function(){var t=this;this.fullContent.removeClass("transition"),e.setTimeout(function(){t.fullContent.css("max-height",0),t.fullContent.triggerHandler("accordionClosed"),t._handleTriggers()},1),this.el.removeClass("opened open disable-drag"),this.el.addClass("closed"),this.fullContent.attr("aria-hidden","true"),this.isOpen=!1},instantOpen:function(){var e=this;this.isOpen||(this.isGhost&&dTaiko.viewportWidth<=640?e._instantOpenLogic():(t(e.el).off("accordionBeforeOpenDone.acc").on("accordionBeforeOpenDone.acc",function(){t(e.el).off("accordionBeforeOpenDone.acc"),e._instantOpenLogic()}),e.el.triggerHandler("accordionBeforeOpen"),this.o.onBeforeOpen?e.o.onBeforeOpen(e.el,e.currentTrigger):(e._instantOpenLogic(),t(e.el).off("accordionBeforeOpenDone.acc"))))},_instantOpenLogic:function(){var t=this;this.fullContent.removeClass("transition").css("max-height",this.currentHeight),e.setTimeout(function(){t.fullContent.css("max-height",t.currentHeight),t.fullContent.triggerHandler("accordionOpened"),t._handleTriggers()},1),this.el.addClass("opened open disable-drag"),this.el.removeClass("closed"),this.fullContent.attr("aria-hidden","false"),this.fullContent.removeClass("visibility-hidden"),this.isOpen=!0,e.clearTimeout(this.timeOutScroll),t.isGhost||t._setCurrentHeight()},scrollIntoView:function(){this._scrollIntoView()},_scrollIntoView:function(){this._scrollTo("top")},_waitFor:function(e){var i=this;if(this.waitForScope&&!e&&i.el.hasClass("closed")){if($target=t(this.waitForScope).find(".accordion.open").not(i.el.find(".accordion")).not(".tile-content"),$target.length){var n=(new Date).getUTCMilliseconds();return $target.accordion("getFullContent").on("accordionClosed.temp"+n,function(){$target.accordion("getFullContent").off("accordionClosed.temp"+n),i.url?(DBEG.log("[Accordion] acc closed callback url"),i.gatherData(!1,!1,!1,!0)):(DBEG.log("[Accordion] acc closed callback NO url"),i.toggle(!1,!1,!0))}),$target.accordion("toggle"),!0}return!1}if(this.el.is(t(this.waitFor))&&this.el.hasClass("closed"))return!1;if(this.waitFor&&!e&&i.el.hasClass("closed")&&($target=t(this.waitFor),!$target.hasClass("closed"))){n=(new Date).getUTCMilliseconds();return $target.accordion("getFullContent").on("accordionClosed.temp"+n,function(){$target.accordion("getFullContent").off("accordionClosed.temp"+n),i.url?i.gatherData(!1,!1,!1,!0):i.toggle(!1,!1,!0)}),$target.accordion("toggle"),!0}},disableMobileScrollAfterAjax:function(){if(!(dTaiko.isTouch&&dTaiko.viewportWidth<=640))return DBEG.log("[Accordion] not calling disableMobileScrollAfterAjax"),!1;DBEG.log("[Accordion] disableMobileScrollAfterAjax"),this._enableMobileScrolling(!0)},_disableMobileScrolling:function(){t(i).on("touchmove.ac-pagescroll scroll.ac-pagescroll",function(t){return t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),!1}),t(this.fullContent).find(".scroll-content").first().on("touchstart.ac-pagescroll",function(t){this.scrollHeight!==this.clientHeight&&(0===this.scrollTop&&(this.scrollTop=1),this.scrollTop===this.scrollHeight-this.clientHeight&&(this.scrollTop=this.scrollHeight-this.clientHeight-1)),this.allowUp=this.scrollTop>0,this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight,this.lastY=t.originalEvent.pageY}).on("touchmove.ac-pagescroll scroll.ac-pagescroll",function(e){if(!t(e.target).hasClass("noUi-handle")){var i=e.pageY>this.lastY,n=!i;this.lastY=e.pageY,i&&this.allowUp||n&&this.allowDown?e.stopPropagation():e.preventDefault()}})},_enableMobileScrolling:function(e){t(i).off("touchmove.ac-pagescroll"),t(this.fullContent).find(".scroll-content").first().off("touchstart.ac-pagescroll scroll.ac-pagescroll touchmove.ac-pagescroll"),e&&this._disableMobileScrolling()},_waitForScope:function(e){var i=this;t(i.waitForScope).find(".accordion.open").not(i.el.find(".accordion")).not(".tile-content").each(function(){if($target=t(this),!$target.hasClass("closed")){var e=(new Date).getUTCMilliseconds();return $target.accordion("getFullContent").on("accordionClosed.temp"+e,function(){$target.accordion("getFullContent").off("accordionClosed.temp"+e),i.url?i.gatherData(!1,!1,!1,!0):i.toggle(!1,!1,!0)}),$target.accordion("toggle"),!0}})},_setTransition:function(t){t=(t=t?parseInt(t/2):parseInt(this.currentHeight/2))<200?200:t,this.fullContent.css({"-webkit-transition":"max-height "+t+"ms ease","-moz-transition":"max-height "+t+"ms ease","-o-transition":"max-height "+t+"ms ease",transition:"max-height "+t+"ms ease"})},_unsetTransition:function(){this.fullContent.css({"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""})},_resizeGhostAndSetTop:function(i){var n=this;$wrapper=t(n.ghostPartner).closest(".outer-accordion-wrapper"),this.isOpen?t(e).off("resize.accordion").on("resize.accordion",function(){if(dTaiko.viewportWidth>640){if(n.tOutResize)return;n.tOutResize=e.setTimeout(function(){if(dTaiko.viewportWidth>640){$tileWrapper=t(n.el.closest(".tile-wrapper"));var i=$tileWrapper.position().top+20+$tileWrapper.find(".tile").height();i!=n.ghostTop&&e.setTimeout(function(){n.ghostTop=i,$wrapper.css("top",n.ghostTop)},1)}n.tOutResize=null},500)}}):this.hasGhost&&t(n.ghostPartner).accordion("toggleGhostPartner")},_toggle:function(i,n,o){var s=this;if(this.isGhost&&dTaiko.viewportWidth<=640)return this.isOpen?this.instantClose():this.instantOpen(),this.ghostPartner.accordion("toggle"),void this._resizeGhostAndSetTop(n);if(this.blockClose&&!t(this.el).hasClass("depot-transaction")){t(this).data("id")?t(this).data("id"):t(this.el).data("id");return this.isGhost&&(this.tipsyTarget=this.ghostPartner.accordion("getTipsyTarget")),this.tipsyAlert=t(this.tipsyTarget).tipsy({gravity:t.fn.tipsy.autoNS,delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-tile tipsy-tile-add-dashboard",trigger:"manual",title:function(){return t("#"+s.tipsyMessageId).html()}}),this.tipsyAlert.tipsy("show"),t(this.tipsyTarget).hasClass("non-keyboard-outline")&&t(".tipsy-tile .dialog-footer a:first").focus(),t(".tipsy-tile-add-dashboard").find(".cancel").parent("a").on(dTaiko.stdEvent+" keyup",function(t){if("keyup"===t.type){if(13!==t.which)return!0}else t.preventDefault(),s.tipsyAlert.tipsy("hide"),s.disableTrigger=!1}),void t(".tipsy-tile-add-dashboard").find(".toggle").parent("a").on(dTaiko.stdEvent+" keyup",function(e){if("keyup"===e.type){if(13!==e.which)return!0}else e.preventDefault(),s.tipsyAlert.tipsy("hide"),s.blockClose=!1,s.ghostPartner&&s.ghostPartner.accordion("unsetBlock"),s.toggle(),$ghostTriggerTarget=t(s.tipsyTarget.data("ghost-trigger")),$ghostTriggerTarget.length&&$ghostTriggerTarget.removeClass("active db-active")})}if(!this._waitFor(o)){var r=this.options,a=t(e).width(),l=!1;if(this.el.addClass("user-opened"),this.el.removeClass("closed"),this.el.hasClass("invis")&&a<=640&&this.el.hasClass("closed")&&!i&&!this.toggleTo&&0===parseInt(this.fullContent.css("max-height"))&&(this.toggleTo=!0,this.toggleToEl=t(this.el.data("first-step")),l=t(this.el.data("first-step")).outerHeight(!0)),this.ghostPartner&&($tileWrapper=t(this.el.closest(".tile-wrapper")),this.ghostTop=$tileWrapper.position().top+$tileWrapper.find(".tile").height()+20),this.mobile&&a<=640&&this.el.hasClass("closed")&&!i&&!s.toggleTo)this._moveGroupWrapper();else if(this.mobile&&a<=640&&this.el.hasClass("opened")&&!i)this._restoreGroupWrapper();else{if(this.useFallback?this.isOpen?(s.el.removeClass("opened").addClass("closing"),s.fullContent.addClass("overflow-hidden"),e.clearTimeout(this.timeOutScroll),this.fullContent.velocity({height:0},{complete:function(){s.fullContent.addClass("visibility-hidden"),s.el.addClass("closed").removeClass("closing"),s.fullContent.triggerHandler("accordionClosed"),s.fullContent.triggerHandler("transitionEnd"),s.isOpen=!1},duration:300,easing:"swing",mobileHA:!!dTaiko.isTouch}),this._handleTriggers()):(this.isGhost&&this.innerContent.height(this.currentHeight),s.fullContent.removeClass("visibility-hidden"),s._setCurrentHeight(),this.fullContent.velocity({height:s.currentHeight},{complete:function(){s.el.addClass("opened").removeClass("closed"),s.fullContent.removeClass("visibility-hidden overflow-hidden"),s.fullContent.css("height","auto"),s.fullContent.triggerHandler("accordionOpened"),s._scrollIntoView(),s.isOpen=!0},duration:300,easing:"swing",mobileHA:!!dTaiko.isTouch})):(this.skipShadow||(t("body").addClass("no-shadows"),t("*",s.el).addClass("shadow")),this.isOpen?(DBEG.log("[Accordion] acc is open"),s.el.removeClass("opened").addClass("closing"),s.fullContent.addClass("overflow-hidden"),s.isGhost||s._setCurrentHeight(),s._unsetTransition(),s.fullContent.css("max-height",s.currentHeight),e.setTimeout(function(){s.toggleToEl&&s.toggleToEl.css("visibility",""),s._setTransition(),s.fullContent.css("max-height",0),s._handleTriggers()},r.delay)):(e.clearTimeout(this.timeOutScroll),s.isGhost||s._setCurrentHeight(),s.fullContent.removeClass("visibility-hidden"),e.setTimeout(function(){s.toggleTo?(s.toggleToEl.css("visibility","visible"),s._setTransition(l),s.fullContent.css("max-height",l)):(s._setTransition(),s.fullContent.css("max-height",s.currentHeight))},10))),this.toggleTo||(this.el.toggleClass("open disable-drag"),this.el.hasClass("open")?this.isOpen=!0:this.isOpen=!1,this.indicator&&(this.isOpen?this.indicator.addClass("active db-active"):this.indicator.removeClass("active db-active"))),this.ghostPartner&&(e.setTimeout(function(){n||$wrapper.css("top",s.ghostTop),t(s.ghostPartner).accordion("toggleGhostPartner")},1),this._resizeGhostAndSetTop(n)),this.isOpen)return this.uIdMove=dTaiko.util.generateUid(),this.fullContent.attr("aria-hidden","false").off("accordionOpened.focusable").on("accordionOpened.focusable",function(){s.fullContent.off("accordionOpened.focusable"),"undefined"!=typeof DBEG?$focusEl=t(".autofocus",s.fullContent).length?t(".autofocus",s.fullContent):t(":focusable:first",s.el):$focusEl=t(s.fullContent.hasClass("transaction-container"))?t("#betrag",s.fullContent):t(":focusable:first",s.el),$focusEl.focus(),e.setTimeout(function(){$focusEl.triggerHandler("focusin")},1)}),void t(e).on("mobileViewport."+this.uIdMove,function(){s._moveGroupWrapper(!0,!0)});this.uIdMove&&t(e).off("mobileViewport."+this.uIdMove),this.fullContent.blur(),this.fullContent.attr("aria-hidden","true")}}},toggleGhostPartner:function(){this._toggle()},toggle:function(e,i,n,o){var s=this;this._setCurrentHeight(),void 0===o&&(o=!1),this.isOpen?(t(s.el).off("accordionBeforeCloseDone.acc").on("accordionBeforeCloseDone.acc",function(){t(s.el).off("accordionBeforeCloseDone.acc"),s._toggle(e,i,n)}),this.blockClose||s.el.triggerHandler("accordionBeforeClose"),!this.o.onBeforeClose||o?(s._toggle(e,i,n),t(s.el).off("accordionBeforeCloseDone.acc")):s.o.onBeforeClose(s.el,s.currentTrigger),t(".error-tip").tipsy("enable")):(t(s.el).off("accordionBeforeOpenDone.acc").on("accordionBeforeOpenDone.acc",function(){t(s.el).off("accordionBeforeOpenDone.acc"),s._toggle(e,i,n)}),s.el.triggerHandler("accordionBeforeOpen"),!this.o.onBeforeOpen||o?(s._toggle(e,i,n),t(s.el).off("accordionBeforeOpenDone.acc")):s.o.onBeforeOpen(s.el,s.currentTrigger),t(".offCTAs",s.fullContent).offCTAs(),t(".error-tip").tipsy("disable"))},setCurrentTrigger:function(t){this.currentTrigger=t},_handleTriggers:function(){for(var e=0;e<this.additionalTriggers.length;e++)t(this.additionalTriggers[e]).removeClass("active db-active");t(this.triggers).removeClass("active db-active")},_setCurrentHeight:function(){this.currentHeight=this.innerContent.outerHeight(),this.ghostId&&t(this.ghostId).accordion("setGhostHeight",this.el,this.currentHeight)},_initBase:function(i){var n=this;if(i?this.fullContent.attr("aria-hidden","false"):this.fullContent.attr("aria-hidden","true"),this.ghostId&&t(this.ghostId).accordion("setGhostHeight",this.el,this.currentHeight),!this.useFallback)return i||this.fullContent.css("max-height",0),void e.setTimeout(function(){n.el.removeClass("init init-with-head")},1);i||this.fullContent.css("height",0),e.setTimeout(function(){n.el.removeClass("init init-with-head")},1)},getScrollOffsetTop:function(){var e=-55,i=t(".info-box");(i.hasClass("sticky-element")&&(e=-1*i.outerHeight(),dTaiko.isIE9&&(e+=10)),this.el.hasClass("answer-container"))&&(e=this.el.closest(".message.accordion").offset().top-this.el.offset().top);return e},getScrollOffsetBottom:function(){var i=t(e).height(),n=this.el.height();return i<n?n-i+this.DEFAULT_SCROLL_OFFSET:this.getScrollOffsetTop()},getScrollOffsetError:function(){var t=this.el.find(".error").first();return t.length?t.offset().top-this.el.offset().top-this.DEFAULT_SCROLL_OFFSET:this.getScrollOffsetTop()},getScrollOffset:function(t){switch(t){case this.SCROLL_TOP:return this.getScrollOffsetTop();case this.SCROLL_BOTTOM:return this.getScrollOffsetBottom();case this.SCROLL_FIRST_ERROR:return this.getScrollOffsetError()}},getScrollOffsetTopMobile:function(t){return-(t.offset().top+t.scrollTop())},getScrollOffsetBottomMobile:function(t){return t.offset().top+t.scrollTop()},getScrollOffsetErrorMobile:function(t){var e=t.find(".error").first();return e.length?e.offset().top-t.offset().top-this.DEFAULT_SCROLL_OFFSET:this.getScrollOffsetTopMobile(t)},getScrollOffsetMobile:function(t,e){switch(t){case this.SCROLL_TOP:return this.getScrollOffsetTopMobile(e);case this.SCROLL_BOTTOM:return this.getScrollOffsetBottomMobile(e);case this.SCROLL_FIRST_ERROR:return this.getScrollOffsetErrorMobile(e)}},scrollTo:function(t){this._scrollTo(t,!0)},_scrollTo:function(i,n){var o=this.SCROLL_TOP;switch(i){case this.SCROLL_BOTTOM:o=this.SCROLL_BOTTOM;break;case this.SCROLL_FIRST_ERROR:o=this.SCROLL_FIRST_ERROR}var s=this;if(!s.isScrolling&&s.isOpen){var r=t(e).width(),a=!1;r<=640&&s.doNotScrollMobile&&(a=!0),(n||!s.doNotScroll&&!a)&&(s.isScrolling=!0,e.clearTimeout(s.timeOutScroll),s.timeOutScroll=r<640?e.setTimeout(function(){var t=s.fullContent.find(".scroll-content:first"),e=s.getScrollOffsetMobile(o,t);s.el.velocity("scroll",{container:t,offset:e,easing:"easein",duration:500,mobileHA:!!dTaiko.isTouch,complete:function(){s.isScrolling=!1}})},50):e.setTimeout(function(){var t=s.getScrollOffset(o);s.el.velocity("scroll",{offset:t,easing:"easein",duration:500,mobileHA:!!dTaiko.isTouch,complete:function(){s.isScrolling=!1}})},50))}}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.invisaccordion",{options:{duration:200,onBeforeClose:!1,onBeforeOpen:!1,onClosed:!1},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.fullContent=this.el.find(".full-invis-content").first(),this.disableToggle=!1,this.isScrolling=!1,this.timeOutScroll=!1,this.open=this.el.hasClass("open"),this.additionalTriggers=[],this.triggers=[],this._bindEvents()},_bindEvents:function(){var i=this,n=(this.o,this.el.data("trigger")),o=this.el.data("trigger-open");t(".toggle, .trigger",this.el).each(function(){t(this).closest(".accordion-invis, .accordion").is(i.el)&&i.triggers.push(this)});for(var s=0;s<this.triggers.length;s++)t(this.triggers[s]).on("click keyup",function(e){if("keyup"===e.type&&13!==e.which)return!0;t(i.triggers).addClass("active"),i.toggle()});if(o){this.openTriggers=o.split(",");for(s=0;s<this.openTriggers.length;s++){var r="";$trigger=t(this.additionalTriggers[s]),r=$trigger.is("a")?"click":"keyup click",t(this.openTriggers[s]).on(r,function(n){i.el.hasClass("open")||t("body").hasClass("edit-mode")&&!t(this).hasClass("force-toggle")||(t(this).addClass("active"),e.setTimeout(function(){i.toggle()},1))})}}if(n){this.additionalTriggers=n.split(",");for(s=0;s<this.additionalTriggers.length;s++){r="";$trigger=t(this.additionalTriggers[s]),r=$trigger.is("a")?"click":"keyup click",t(this.additionalTriggers[s]).on(r,function(e){if("keyup"===e.type&&13!==e.which)return!0;t(this).addClass("active"),i._toggle()})}}},_handleTriggers:function(){for(var e=0;e<this.additionalTriggers.length;e++)t(this.additionalTriggers[e]).removeClass("active");t(this.triggers).removeClass("active")},_executeClose:function(){this.o.onClosed&&this.o.onClosed()},setOnBeforeOpen:function(t){this.o.onBeforeOpen=t},setOnBeforeClose:function(t){this.o.onBeforeClose=t},setOnClosed:function(t){this.o.onClosed=t},toggle:function(){var t=this;this.disableToggle||(this.disableToggle=!0,this.open?(this.el.on("onBeforeCloseDone",function(){t.el.off("onBeforeCloseDone"),t._toggle()}),this.o.onBeforeClose?this.o.onBeforeClose(this.el):this.el.trigger("onBeforeCloseDone")):(this.el.on("onBeforeOpenDone",function(){t.el.off("onBeforeOpenDone"),t._toggle()}),this.o.onBeforeOpen?this.o.onBeforeOpen(this.el):this.el.trigger("onBeforeOpenDone")))},_toggle:function(){var t=this,e=this.options;this.el.hasClass("open")?this.fullContent.fadeOut(e.duration,function(){t._handleTriggers(),t._executeClose(),t.open=!1}):this.fullContent.fadeIn(e.duration,function(){t.open=!0}),t.el.toggleClass("open"),this.disableToggle=!1},close:function(){var t=this,e=this.options;this.disableToggle||(this.disableToggle=!0,this.el.hasClass("open")&&(this.fullContent.fadeOut(e.duration,function(){t._handleTriggers(),t._executeClose(),t.open=!1}),t.el.removeClass("open")),this.disableToggle=!1)},scrollIntoView:function(){this._scrollIntoView()},_scrollIntoView:function(){var i=this;i.isScrolling||(i.isScrolling=!0,e.clearTimeout(i.timeOutScroll),i.timeOutScroll=e.setTimeout(function(){var e=t(".info-box"),n=-55;e.hasClass("sticky-element")&&(n=-1*e.outerHeight(),dTaiko.isIE9&&(n+=10)),i.el.velocity("scroll",{offset:n,easing:"easein",duration:500,mobileHA:!!dTaiko.isTouch,complete:function(){i.isScrolling=!1}})},50))}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.toggleNotifications",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.sourceWrapper=this.el,this.targetWrapper=t(".notifications-placeholder"),this.block=!1,this.mobile=!1,this._bindEvents()},_bindEvents:function(){var i=this;dTaiko.viewportWidth<=640&&(i.mobile=!0,i._toggle(i.sourceWrapper,i.targetWrapper)),t(e).on("resize",function(){i.block||(dTaiko.viewportWidth<dTaiko.oldViewportWidth&&dTaiko.viewportWidth<=640&&!i.mobile&&(i.block=!0,i.mobile=!0,i._toggle(i.sourceWrapper,i.targetWrapper)),dTaiko.viewportWidth>dTaiko.oldViewportWidth&&dTaiko.viewportWidth>640&&i.mobile&&(i.block=!0,i.mobile=!1,i._toggle(i.targetWrapper,i.sourceWrapper)))})},_toggle:function(t,i){var n=this;this.targetWrapper.toggleClass("empty"),i.append(t.children()),e.setTimeout(function(){n.block=!1},1e3)}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.toggleCTA",{options:{beforeToggleTile:null,beforeToggleList:null},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.disableToggle=!1,this.state=0,this._bindEvents()},_bindEvents:function(){var t=this;this.el.on("click",function(){t.toggle()})},toggle:function(){var t=this;this.disableToggle||(this.disableToggle=!0,0===this.state?(this.el.on("beforeToggleTileDone",function(){t.el.off("beforeToggleTileDone"),t._toggle()}),this.o.beforeToggleTile?this.o.beforeToggleTile(this.el):this.el.trigger("beforeToggleTileDone")):(this.el.on("beforeToggleListDone",function(){t.el.off("beforeToggleListDone"),t._toggle()}),this.o.beforeToggleList?this.o.beforeToggleList(this.el):this.el.trigger("beforeToggleListDone")))},_toggle:function(){this.state=0===this.state?1:0,this.disableToggle=!1,this.el.toggleClass("toggled")}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.handleArrow",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.arrow=this.el.find(".arrow-up"),this.arrow.css("position","relative"),this.target=t(this.el.data("arrow-target")),this._bindEvents(),this._move()},_bindEvents:function(){var i=this;t(e).on("resize",function(){i._move()})},_move:function(){var t=this.el.width();if(this.target.hasClass("depot-arrow-target"))e=this.target.position().left+parseInt(this.target.css("margin-left"))+this.target.closest(".col-xs-12").position().left;else var e=this.target.position().left+parseInt(this.target.css("margin-left"));var i=e+this.target.width()/2,n=this.arrow.width()/2,o=i-n,s=t-(i+n)<0?o-2:o;this.arrow.css("left",s+"px"),this.arrow.addClass("bound")},move:function(){this._move()}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.jcarouselHandler",{options:{sourceElement:!1,carousel:!1,context:!1,onActive:void 0},_create:function(n,o){var s=this;this.o=this.options,this.jcarousel=this.o.jcarousel,this.el=this.o.sourceElement,this.el.hasClass("bound")||(this.jcarouselContext=this.o.context,this.currentItem=0,this._bindEvents(),e.setTimeout(function(){s.el.addClass("bound"),t(i).trigger("jCarouselLoaded")},2e3))},_bindEvents:function(){var i=this;if(this.jcarousel.length){this.jcarousel.on("jcarousel:createend",function(e,n){n._items.length>0&&(t(n._fullyvisible).addClass("jcarousel-visible"),n._items.length>5&&t(n._fullyvisible[0]).addClass("border"),n._items.length>1&&($navRight=i.element.find(".tile-nav .third"),$navRight.css("visibility","visible"))),i.jcarousel.hasClass("nh")||i._handleItems()}),this.jcarousel.hasClass("jcarousel-turnovers")&&this.jcarousel.on("jcarousel:create jcarousel:reload",function(){$element=t(this),e.setTimeout(function(){var t=$element.width();$element.jcarousel("items").css("width",t+"px")},1)}),this.jcarousel.on("jcarousel:reloadend",function(n,o){$this=t(this),e.clearTimeout(i.jcarouselReloadTimeout),i.carouselReloadTimeout(o)}),this.jcarousel.hasClass("nh")||this.jcarousel.closest(".tile").on("resizeW",function(){e.setTimeout(function(){i._handleItems()},300)});var n=t(".jcarousel-range",this.jcarouselContext).length;this.jcarousel.jcarousel({transitions:!!Modernizr.csstransitions&&{transforms:Modernizr.csstransforms,transforms3d:Modernizr.csstransforms3d,easing:"ease"},items:".jc-item",center:n}).on("jcarousel:fullyvisiblein","li",function(n,o){$this=t(this),t(this).addClass("jcarousel-visible"),e.setTimeout(function(){$seperateRange=$this.closest(".jcarousel-wrapper-range").find(".jcarousel-range"),$seperateRange.length?($seperateRange.jcarousel("get"),i._handlePagination(e.carouselTmpInstance,!1,"active")):i._handlePagination(o,!1,"jcarousel-visible")},350)}).on("jcarousel:fullyvisibleout","li",function(n,o){var s=this;$this=t(this),e.setTimeout(function(){t(s).removeClass("jcarousel-visible"),$seperateRange=$this.closest(".jcarousel-wrapper-range").find(".jcarousel-range"),$seperateRange.length?($seperateRange.jcarousel("get"),i._handlePagination(e.carouselTmpInstance,!1,"active")):i._handlePagination(o,!1,"jcarousel-visible")},300)}).on("jcarousel:firstin","li",function(e,i){t(this).addClass("jcarousel-visible border")}).on("jcarousel:firstout","li",function(i,n){$this=t(this),e.setTimeout(function(){t(this).removeClass("border")},300)}),this.jcarousel.hasClass("autoscroll")&&this.jcarousel.jcarousel({wrap:"last"}).jcarouselAutoscroll({interval:4500}),this.pagination=t(".jcarousel-pagination",this.jcarouselContext).on("jcarouselpagination:active","li",function(){t(this).addClass("active")}).on("jcarouselpagination:inactive","li",function(){t(this).removeClass("active")}).jcarouselPagination({perPage:dTaiko.viewportWidth>=768&&i.el.closest(".two-column").length?2:1,item:function(t,e){return'<li class="vp"><a class="vc" href="#'+t+'"></a></li>'}}),t(".jcarousel-control-prev",this.jcarouselContext).on("click",function(e){e.preventDefault(),i.currentItem--;var n=dTaiko.viewportWidth>=768&&i.el.closest(".two-column").length?2:1;if(this.pagination)i.pagination.find(".active").prev().trigger("click");else{if($carousel=i.jcarousel,$seperateRange=t(this).closest(".jcarousel-wrapper-range").find(".jcarousel-range"),$seperateRange.length&&($carousel=$seperateRange),i.jcarousel.find(".jc-item.active").hasClass("first"))return;var o=t($carousel.data("jcarousel-target"));o&&o.jcarousel("scroll","-="+n),i.jcarousel.jcarousel("scroll","-="+n);var s=i.jcarousel.find(".jc-item.active").removeClass("active").prev().addClass("active");i._updateChart(s.find("a").get(0))}}),t(".jcarousel-control-next",this.jcarouselContext).on("click",function(e){e.preventDefault(),i.currentItem++;var n=dTaiko.viewportWidth>=768&&i.el.closest(".two-column").length?2:1;if(this.pagination)i.pagination.find(".active").next().trigger("click");else{if($carousel=i.jcarousel,$seperateRange=t(this).closest(".jcarousel-wrapper-range").find(".jcarousel-range"),$seperateRange.length&&($carousel=$seperateRange),$carousel.find(".jc-item.active").hasClass("last"))return;var o=t($carousel.data("jcarousel-target"));o&&o.jcarousel("scroll","+="+n),$carousel.jcarousel("scroll","+="+n);var s=i.jcarousel.find(".jc-item.active").removeClass("active").next().addClass("active");i._updateChart(s.find("a").get(0))}}),t(".jc-item a",this.jcarouselContext).on("click",function(e){if($this=t(this),$this.closest(".jcarousel-range").length)if(e.preventDefault(),$rangeCarousel=$this.closest(".jcarousel-range"),$targetCarousel=t($rangeCarousel.data("jcarousel-target")),$targetCarousel.length)$rangeCarousel.find("li").removeClass("active"),$targetCarousel.one("jcarouselHandlerActiveDone",function(){$this.parent().addClass("active"),$targetSlide=$this.data("slide"),$targetCarousel.jcarousel("scroll",$targetSlide),($targetSlide||0===$targetSlide)&&$rangeCarousel.jcarousel("scroll",$targetSlide)}),i.o.onActive?i.o.onActive($this,$targetCarousel):$targetCarousel.triggerHandler("jcarouselHandlerActiveDone");else{var n=parseInt(t(this).closest("li").data("index"));i.currentItem=n,i.jcarousel.jcarousel("scroll",n),i.jcarousel.find(".jc-item.active").removeClass("active"),t(this).closest("li").addClass("active"),i._updateChart(this)}}),t("html").hasClass("touch")&&t(this.jcarousel).swipe({allowPageScroll:t.fn.swipe.pageScroll.VERTICAL,treshold:dTaiko.swipeTreshold,triggerOnTouchEnd:dTaiko.swipeTriggerOnTouchEnd,excludedElements:"label, button, input, select, textarea, .noSwipe",swipeLeft:function(){$next=t(".jcarousel-control-next",i.el.closest(".tile-wrapper")).trigger("click"),$next.length?$next.trigger("click"):($next=i.el.closest(".wrapper").find(".jcarousel-range").find("li.active").next().find("a"),$next.length&&$next.trigger("click"))},swipeRight:function(){$previous=t(".jcarousel-control-prev",i.el.closest(".tile-wrapper")).trigger("click"),$previous.length?$previous.trigger("click"):($previous=i.el.closest(".wrapper").find(".jcarousel-range").find("li.active").prev().find("a"),$previous.length&&$previous.trigger("click"))}})}},carouselReloadTimeout:function(i){var n=this;n.jcarouselReloadTimeout=e.setTimeout(function(){$seperateRange=!1,e.setTimeout(function(){n.jcarousel.jcarousel("scroll",0),n.jcarousel.find(".jc-item.active").removeClass("active"),n.jcarousel.find(".jc-item.first").addClass("active"),t(i._fullyvisible).addClass("jcarousel-visible"),i._items.length>1&&t(i._fullyvisible[0]).addClass("border")},1),e.setTimeout(function(){n.jcarousel.hasClass("jcarousel-turnovers")&&($seperateRange=$this.closest(".jcarousel-wrapper-range").find(".jcarousel-range")),$seperateRange.length?($seperateRange.jcarousel("get"),n._handlePagination(e.carouselTmpInstance,!1,"active")):n._handlePagination(i,!1,"jcarousel-visible")},500)},500)},_updateChart:function(e){$tile=t(e).closest(".tile"),$tile.length||($tile=t(e).closest(".highcharts-line, .highcharts-pie")),$tile.hasClass("highcharts-line")?$tile.highchartsLine("update",e):$tile.hasClass("highcharts-pie")?$tile.highchartsPie("update",e):$tile.hasClass("highcharts-column")?$tile.highchartsColumn("initHighcharts"):$tile.hasClass("highcharts-column-single")&&$tile.highchartsColumnSingle("update",e)},getJCarousel:function(){return this.jcarousel},_handlePagination:function(i,n,o){var s=this;$navLeft=s.pagination.closest(".tile-nav").find(".first"),$navRight=s.pagination.closest(".tile-nav").find(".third"),$navLeft.length&&$navRight.length||($navLeft=this.jcarouselContext.find(".jcarousel-wrapper-range span.first"),$navRight=this.jcarouselContext.find(".jcarousel-wrapper-range span.second")),t(i._items[0]).hasClass(o)?($navLeft.css("visibility","hidden"),t("li",s.pagination).removeClass("active"),t("li",s.pagination).first().addClass("active")):$navLeft.css("visibility","visible"),t(i._items[i._items.length-1]).hasClass(o)?($navRight.css("visibility","hidden"),t("li",s.pagination).removeClass("active"),t("li",s.pagination).last().addClass("active")):$navRight.css("visibility","visible"),this.pagination&&(this.pagination.jcarouselPagination("reload",{perPage:dTaiko.viewportWidth>=768&&s.el.closest(".two-column").length?2:1}),this.el.hasClass("bound")&&n&&e.setTimeout(function(){s.pagination.find(".active a").focus()},1))},_handleItems:function(){this.hasNav=void 0;var e=[],i=!(this.el.width()<600),n=0;t("> ul > li > ul > li",this.jcarousel).each(function(){e.push(t(this))}),(i&&e.length<=14&&i&&e.length>=8||!i&&e.length<=7||i&&e.length<=7)&&!this.el.hasClass("marketing")?(this.el.closest(".tile").find(".tile-nav").hide(0),t("ul",this.el).addClass("no-nav"),i&&e.length<=7&&(this.el.closest(".tile-wrapper").removeClass("two-column"),this.el.closest(".tile").removeClass("two-column two-column-login")),e.length>7&&this.el.closest(".tile-wrapper").addClass("two-column")):(this.el.closest(".tile").find(".tile-nav").show(0),this.hasNav=!0,t("ul",this.el).removeClass("no-nav")),t("> ul > li > ul > li",this.jcarousel).remove(),this.hasNav?t("> ul > li > ul",this.jcarousel).each(function(){var i=n+5,o=1;t(this).parent().addClass("jc-item"),i>=e.length&&(i=e.length-1),n-1===i&&t(this).parent().removeClass("jc-item");for(var s=n;s<=i;s++){t(this).append(e[s]);(o+1)%2?t(e[s]).removeClass("bg"):t(e[s]).addClass("bg"),n++,o++}}):t("> ul > li > ul",this.jcarousel).each(function(){var i=n+6,o=1;t(this).parent().addClass("jc-item"),i>=e.length&&(i=e.length-1),n-1===i&&t(this).parent().removeClass("jc-item");for(var s=n;s<=i;s++)t(this).append(e[s]),(o+1)%2?t(e[s]).removeClass("bg"):t(e[s]).addClass("bg"),n++,o++;t("li:last",t(this)).addClass("border-rad")}),this.jcarousel.find("ul:first").removeClass("init"),this.jcarousel.jcarousel("reload")}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.offCTAs",{options:{beforeToggleOpen:null,beforeToggleClose:null},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.disableToggle=!1,this.state=0,this.icon=this.el.find("i"),this.el.parent().find(".cta-wrapper").css({right:0}),this._bindEvents()},_bindEvents:function(){var e=this;this.el.on("click",function(){e.toggle()}),this.el.parent().swipe({allowPageScroll:t.fn.swipe.pageScroll.VERTICAL,excludedElements:"label, button, input, select, textarea, .noSwipe",treshold:dTaiko.swipeTreshold,triggerOnTouchEnd:dTaiko.swipeTriggerOnTouchEnd,swipeLeft:function(){e.toggle()},swipeRight:function(){e.toggle()}})},toggle:function(){var t=this;this.disableToggle||(this.disableToggle=!0,0===this.state?(this.el.on("beforeToggleOpenDone",function(){t.el.off("beforeToggleOpenDone"),t._toggle()}),this.o.beforeToggleOpen?this.o.beforeToggleOpen(this.el):this.el.trigger("beforeToggleOpenDone")):(this.el.on("beforeToggleCloseDone",function(){t.el.off("beforeToggleCloseDone"),t._toggle()}),this.o.beforeToggleClose?this.o.beforeToggleClose(this.el):this.el.trigger("beforeToggleCloseDone")))},_toggle:function(){var i=this;if($wrapper=this.el.parent().find(".cta-wrapper"),$wrapper.closest(".row-head").css("overflow","hidden"),this.el.toggleClass("active"),$wrapper.toggleClass("toggled"),this.el.parent().toggleClass("toggled-active-bg"),this.el.prev().addClass("toggling"),e.setTimeout(function(){i.el.prev().removeClass("toggling"),$wrapper.closest(".row-head").css("overflow","")},400),this.el.hasClass("active")){this.el.hasClass("head")&&this.el.closest(".accordion").addClass("off-cta-active");var n=($wrapper.closest(".column-wrapper").outerWidth(!0)||$wrapper.closest("header").outerWidth(!0))-this.el.position().left;$wrapper.closest(".column-wrapper").hasClass("cw-inside-head")&&(n=$wrapper.closest("header").outerWidth(!0)-this.el.position().left),$wrapper.css({right:Math.floor(n)}),dTaiko.viewportWidth>640&&!$wrapper.closest(".full-content").length&&($wrapper.find(".color-helper").length?$wrapper.find(".color-helper").css({width:Math.floor(n),right:-1*Math.floor(n)}):($ch=t('<div class="color-helper"></div>').css({width:Math.floor(n),right:-1*Math.floor(n)}),$wrapper.append($ch))),dTaiko.common.switchClass(this.el,this.icon),this.el.hasClass("non-keyboard-outline")&&(t(".circle-cta:first",$wrapper).focus(),$wrapper.one("keyup.escapeOffCTAs",function(t){27===t.keyCode&&i.toggle()})),$wrapper.on("resizeW",function(){$wrapper.closest(".job")&&dTaiko.viewportWidth>1280&&(i._toggle(),$wrapper.off("resizeW"))})}else i._close(),$wrapper.off("resizeW");this.el.trigger("mouseout"),this.state=0===this.state?1:0,this.disableToggle=!1},_close:function(){$wrapper=this.el.parent().find(".cta-wrapper"),$wrapper.closest(".row-head").css("overflow","hidden"),$wrapper.css("right",-200),this.el.hasClass("head")&&this.el.closest(".accordion").removeClass("off-cta-active"),dTaiko.common.switchClass(this.el,this.icon),$wrapper.off("keyup.escapeOffCTAs"),$wrapper.closest(".row-head").css("overflow","")}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.checkboxtoggle",{options:{onChange:!1,afterChange:!1},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.switchEl=!1,this.toggleEl=t(this.el.data("toggle-element")),this._bindEvents()},_bindEvents:function(){var t=this;t.el.hasClass("trans-picker")?t.el.on("change",function(e){t.o.onChange?t.o.onChange(t.el):t.toggle()}):t.el.on("click",function(e){t.o.onChange?t.o.onChange(t.el):t.toggle()}),t.el.on("afterChange",function(e){t.o.afterChange&&t.o.afterChange(t.el)})},toggle:function(){this.el.toggleClass("active"),this.toggleEl.toggleClass("visible"),this.el.trigger("afterChange")}})}(jQuery,window,document),function(t,e,i,n){var o,s=[];switch(eosLanguage){case"sk":s.LBL_SEARCH_TO="do",s.LBL_SEARCH_RESET="Zrui",s.LBL_SEARCH_CANCEL="Zrui",s.LBL_SEARCH_APPLY="Prevzia",o={daysMin:["NE","PO","UT","ST","T","PI","SO"],months:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"],monthsShort:["jan","feb","mar","apr","mj","jn","jl","aug","sep","okt","nov","dec"]};break;case"hu":s.LBL_SEARCH_TO="-ig",s.LBL_SEARCH_RESET="Vissza",s.LBL_SEARCH_CANCEL="Vissza",s.LBL_SEARCH_APPLY="Elfogad",o={daysMin:["Va","H","Ke","Sze","Cs","P","Szo"],months:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],monthsShort:["jan","feb","mrc","pr","mj","jn","jl","aug","szept","okt","nov","dec"]};break;case"cs":case"cz":s.LBL_SEARCH_TO="do",s.LBL_SEARCH_RESET="Zruit",s.LBL_SEARCH_CANCEL="Zruit",s.LBL_SEARCH_APPLY="Potvrdit",o={daysMin:["NE","PO","T","ST","T","P","SO"],months:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec"],monthsShort:["led","no","be","dub","kv","vn","vc","srp","z","j","lis","pro"]};break;case"de":s.LBL_SEARCH_TO="bis",s.LBL_SEARCH_RESET="Zurcksetzen",s.LBL_SEARCH_CANCEL="Abbrechen",s.LBL_SEARCH_APPLY="bernehmen",o={daysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]};break;case"en":default:s.LBL_SEARCH_TO="to",s.LBL_SEARCH_RESET="Reset",s.LBL_SEARCH_CANCEL="Cancel",s.LBL_SEARCH_APPLY="Apply",o={daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}}t.widget("dtaiko.triggerCalendar",{options:{singleCal:{inline:!0,calendars:1,starts:1,mode:"single",date:new Date,locale:o,onChange:function(e){t(".triggeredCurrentCal").triggerCalendar("singleCallback",e)}},rangeCal:{inline:!0,calendars:1,starts:1,mode:"range",dateMin:(new Date).setMonth((new Date).getMonth()-3),dateMax:Date.parse(new Date),locale:o,onChange:function(e,i){t(".triggeredCurrentCal").triggerCalendar("rangeCallback",e,i)}},restoreDate:null,rangeClearer:!0,beforeOpen:!1,beforeClose:!1},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.rangetemplate='<div class="daterange-wrapper"><div id="datepickerRange" class="datePickerRange datewrapper"></div><div class="clearfix" style="height:10px;"></div><div class="range"><div class="range-wrap">',this.rangetemplate+='<input class="from" readonly="readonly" tabindex="-1"><span class="spacer">'+s.LBL_SEARCH_TO+'</span><input class="to" readonly="readonly" tabindex="-1">',this.rangetemplate+='</div><div class="resetter vp db-icon-with-margin-right"  tabindex="-1"><span class="db-icon-wrapper vc"><i class="dbit-icons">reset</i></span><span class="vc">'+s.LBL_SEARCH_RESET+"</span>",this.rangetemplate+='</div><div class="ctas vp"><div class="cta-button-plain regular vc vp" tabindex="0"><span class="vc">'+s.LBL_SEARCH_CANCEL+"</span></div>",this.rangetemplate+='<div class="cta-button regular vc vp accent" tabindex="0"><span class="vc">'+s.LBL_SEARCH_APPLY+'</span></div></div></div><div class="clearfix"></div></div>',this.singletemplate='<div id="datepicker" class="datepickerWrap"></div>',this.calType=this.el.data("cal-type"),this.calendar="single"===this.calType?t(this.singletemplate):t(this.rangetemplate),this.opts="single"===this.calType?this.options.singleCal:this.options.rangeCal,this.width=259,this.height="single"===this.calType?284:330,this.hasInstance=!1,this.inputFromEl="range"===this.calType?t(this.el.data("input-from")):t(this.el.data("input")),this.inputToEl="range"===this.calType?t(this.el.data("input-to")):null,this.valueFrom=this.inputFromEl?this.inputFromEl.val():null,this.valueTo=this.inputToEl?this.inputToEl.val():null,this.lastCall=!1,this.tempSelected=t(),"range"===this.calType&&(this.restoreDate=this.opts.restoreDate?this.opts.restoreDate:this.opts.date),this.extendedRangeEvents=!1,this._bindEvents()},_bindEvents:function(){var e=this,i="click keyup";this.el.is(":input")&&(i="focus"),this.el.on(i,function(i){if(i.preventDefault(),i.stopImmediatePropagation(),t(".datepickerWrap.visible")&&(t(".datepickerWrap.visible").removeClass("visible").attr("style",""),e._unbindOutsideHandler(),t(".triggerCal.active").removeClass("active triggeredCurrentCal"),t(".triggerCal2.active").removeClass("active triggeredCurrentCal"),t(".datepickerWrap.visible").find(".resetter").removeClass("active")),this.lastCall===i.currentTarget)return!1;if((13===i.which||"click"===i.type)&&(t(i.delegateTarget).addClass("triggeredCurrentCal"),e.position=t(i.delegateTarget).offset(),e._calcPosition(e.position),"range"===e.calType&&!e.extendedRangeEvents)){if(null!==e.opts.date&&void 0!==e.opts.date){var n,o,s=new Date(e.opts.date[0]),r=new Date(e.opts.date[1]);n=s.getDate()+"."+(s.getMonth()+1)+"."+s.getFullYear(),o=r.getDate()+"."+(r.getMonth()+1)+"."+r.getFullYear(),e.calendar.find(".from").val(n),e.calendar.find(".to").val(o)}e._extendRangeEvents()}})},_extendRangeEvents:function(){var e=this;e.extendedRangeEvents=!0;var i=e.calendar.find(".datePickerRange").DatePickerGetDate()[0];e.opts.restoreDate?e.restoreDate=e.opts.date:e.restoreDate=i,e.calendar.on("click keydown",".resetter",function(i){13!==i.which&&"click"!=i.type||(console.log("called"),t(i.currentTarget).removeClass("active"),t(".datepickerDays td:first a").focus(),e._clearRange(!0))}).on("click",".cta-button-plain",function(i){var n=e.calendar.find(".datePickerRange");e.calendar.find(".from").val(t(e.inputFromEl).val()),e.calendar.find(".to").val(t(e.inputToEl).val()),n.DatePickerSetDate(t.map(e.restoreDate,function(t,e){return new Date(t)}),!0),e._closeCal()}).on("click keydown",".cta-button",function(t){if(13===t.which||"click"==t.type){var i=e.calendar.find(".datePickerRange").DatePickerGetDate()[0];e.restoreDate=i,e._rangeAddToDefinedInputs(i),e._closeCal()}})},_showCalendar:function(){var i=this;i.calendar.hasClass("visible")?i.o.onBeforeClose?i.o.onBeforeClose(i):i.onBeforeCloseDone():("single"!==i.calType||i.hasInstance?"range"!==i.calType||i.hasInstance||(i.calendar.appendTo("body"),i.calendar.find(".datePickerRange").DatePicker(i.opts),i.hasInstance=!0):(i.calendar.addClass("singleDateWrapper"),i.calendar.appendTo("body"),i.calendar.DatePicker(i.opts),i.hasInstance=!0),i.o.onBeforeShow?i.o.onBeforeShow(i):i.onBeforeShowDone(),i.el.hasClass("non-keyboard-outline")&&e.setTimeout(function(){t(".datepickerGoPrev").focus()},200),e.setTimeout(function(){i._bindOutsideHandler(),i._bindEscapeHandler(),i._bindResizeHandler()},200))},onBeforeShowDone:function(){this.el.addClass("active"),this.calendar.addClass("visible")},onBeforeCloseDone:function(){this._closeCal()},_clearRange:function(e){if(console.log("clearRange",this.restoreDate),this.calendar.find(".datewrapper").DatePickerClear(),this.calendar.find(".datePickerRange").DatePickerSetDate(t.map(this.restoreDate,function(t,e){return new Date(t)}),!0),e){var i,n,o=new Date(this.restoreDate[0]),s=new Date(this.restoreDate[1]);i=o.getDate()+"."+(o.getMonth()+1)+"."+o.getFullYear(),n=s.getDate()+"."+(s.getMonth()+1)+"."+s.getFullYear(),this.calendar.find(".from").val(i),this.calendar.find(".to").val(n)}},_closeCal:function(){t(e).off("click.taikocal","keyup.taikocal"),this.calendar.find(".non-keyboard-outline").length&&this.el.focus(),this.calendar.removeClass("visible").attr("style",""),this._unbindOutsideHandler(),this.el.removeClass("active triggeredCurrentCal"),this.calendar.find(".resetter").removeClass("active")},_bindOutsideHandler:function(){var e=this;this.uuid=dTaiko.util.generateUid(),t(i).one("click.taikocal"+this.uuid,function(t){0!=e.calendar.has(t.target).length||e.calendar.is(t.target)||e._closeCal()})},_bindEscapeHandler:function(){var e=this;t(i).on("keyup.taikocal",function(t){27===t.keyCode&&e._closeCal()})},_unbindOutsideHandler:function(){t(i).off("click.taikocal"+this.uuid)},_calcPosition:function(n,o){this.el.offset().top>t(i).scrollTop()+t(e).height()/2?n.top=n.top-(this.height+10):n.top=n.top+44;var s=this.width/2-(t(e).width()-n.left);s>0&&(n.left=n.left-(s+20));var r=n.left-(this.width/2-this.el.width()/2);r<0&&(r=10),this.calendar.css({top:n.top,left:r}),this.isUpdate||this._showCalendar()},singleCallback:function(t){var e=t.getDate()<10?"0"+t.getDate():t.getDate(),i=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,n=t.getFullYear();this.inputFromEl.val(e+"."+i+"."+n).val(e+"."+i+"."+n).trigger("change"),this._closeCal()},rangeCallback:function(e,i){var n,o;if(!0===this.o.rangeClearer){if("Invalid Date"!=(e[0]||e[1]))t(i).find(".datepickerSelected:first");else e[0]=e[1];t(".resetter",this.calendar).addClass("active").attr("tabindex","0"),t(".datepickerSelected").length>1?t(".cta-button.regular",this.calendar).focus():t(".datepickerSelected a",this.calendar).focus()}else(e[1].getTime()-e[0].getTime())/864e5>1?t(".resetter",this.calendar).addClass("active").attr("tabindex","0"):t(".resetter",this.calendar).removeClass("active").attr("tabindex","-1");void 0!==e[0]?(n=e[0].getDate()+"."+(e[0].getMonth()+1)+"."+e[0].getFullYear(),o=e[1].getDate()+"."+(e[1].getMonth()+1)+"."+e[1].getFullYear()):(n=t(".from").attr("placeholder"),o=t(".to").attr("placeholder")),t(".from").val(n),t(".to").val(o)},_rangeAddToDefinedInputs:function(t){var e,i;void 0!==t[0]&&(e=t[0].getDate()+"."+(t[0].getMonth()+1)+"."+t[0].getFullYear(),i=t[1].getDate()+"."+(t[1].getMonth()+1)+"."+t[1].getFullYear(),this.inputFromEl.val(e).val(e),this.inputFromEl.trigger("mouseenter"),this.inputToEl.val(i).val(i),this.inputToEl.trigger("mouseenter"))},_bindResizeHandler:function(){var i=this;t(e).resize(function(){i._closeCal()})},getCalendarOptions:function(){return this.opts}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.stickyGroupHeader",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.stickyHeader=this.el.find(".stickyheader"),this.placeholder=this.stickyHeader.prev(),this.recalced=!1,this.restoreTimeout=!1,this._bindEvents()},_bindEvents:function(){var i=this;t(e).on("scroll",function(){e.clearTimeout(i.restoreTimeout),i._onScrollLogic()}),this.el.closest(".accordion-group-wrapper").on("groupWrapperFullyRestored",function(){i.restoreTimeout=e.setTimeout(function(){i._onScrollLogic()},500)})},_onScrollLogic:function(){if(this.el.offset().top<=t(e).scrollTop()+t(".mobile-header").height()&&t(e).scrollTop()<=this.el.offset().top+this.el.outerHeight(!0))this._setSticky();else{if(!this.active)return;this._cancelSticky()}},_setSticky:function(){this.active=!0,this.recalced||this._recalc();var i=t(e).scrollTop()-this.el.position().top-this.marginTop+t(".mobile-header").height();this.placeholder.css("position","static"),this.stickyHeader.css({"z-index":98,width:"100%",position:"absolute",top:i})},_cancelSticky:function(){this.placeholder.css("position","absolute"),this.stickyHeader.css({width:"auto",position:"static",top:""}),this.recalced=!1,this.active=!1},_recalc:function(){this.stickyHeaderInnerHeight=this.stickyHeader.height(),this.stickyHeaderHeight=this.stickyHeader.outerHeight(!0),this.marginTop=parseInt(this.el.css("margin-top")),this.marginTopCorrection=0,0===this.marginTop&&(this.marginTopCorrection=20),this.placeholder.css({position:"absolute",height:this.stickyHeaderHeight}),this.recalced=!0}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.stickyElement",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.placeholder=this.el.prev(),this.headerHeight=0,this.wrapper=this.el.parent(),this.recalced=!1,this.timeout=!1,this.depends=t(this.el.data("depends")),this.dependsVisible=!1,this.skipMobile=!!this.el.data("skip-mobile"),this.skipTouch=t("html").hasClass("touch")&&t("body").hasClass("job-management"),this._recalc(),this._bindEvents()},_bindEvents:function(){var i=this;t(e).on("mobileViewport",function(){i.cancelSticky(),t(e).off("scroll.stickyEl")}).on("desktopViewport",function(){i._initScrollTouchEvent()}),dTaiko.isMobileViewport||this._initScrollTouchEvent(),t(i.el).on("click",function(){var e=t(i.el).data("hash");dTaiko.common.handleHashFocusFunction(e)})},_initScrollTouchEvent:function(){var i=this;t(e).on("scroll.stickyEl",function(){var n=!!t("html").hasClass("has-marked");if(!(dTaiko.viewportWidth<=640&&i.skipMobile||i.skipTouch||n))if(i.wrapper.offset().top<=t(e).scrollTop()+i.headerHeight){if(i.dependsVisible=i.depends.is(":visible"),i.recalced||i._recalc(),i.dependsVisible)return;i._setSticky()}else i.cancelSticky()})},_setSticky:function(){this.placeholder.css("position","static"),this.el.addClass("sticky-active"),this.el.css({"z-index":99999999,width:this.wrapper.width(),position:"fixed",top:0+this.headerHeight})},cancelSticky:function(){this.placeholder.css("position","absolute"),this.el.removeClass("sticky-active"),this.el.css({width:"",position:"",top:"","z-index":""}),this.recalced=!1},_recalc:function(){dTaiko.viewportWidth<=640?this.headerHeight=t(".mobile-header").height():this.headerHeight=0,this.placeholder.css({position:"absolute",height:this.el.outerHeight(!0)}),this.recalced=!0}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.editModeList",{options:{afterUpdate:null,beforeEnableEditMode:null,beforeDisableEditMode:null},_create:function(){var e=this;this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.wait=!1,this.accordion=!1,this.disableToggle=!1,this.dirty=[],t("input.editable").attr("readonly","readonly"),t("input.editable").each(function(){var i=t(this),n=t(this).attr("id");e.dirty[n]||i.on("focus",function(){console.log("hello");var t=this.value;this.value="",this.value=t,e.dirty[n]=!0,i.off("focus")})}),this._bindEvents()},destroy:function(){this._unsetEvents(),this.el.off(dTaiko.stdEvent),t(".accordion-group-wrapper").each(function(){$this=t(this),$this.hasClass("ui-sortable")&&$this.sortable("destroy")}),t.Widget.prototype.destroy.call(this)},_editElementInnerHandler:function(i,n){if(this._isEditMode()){var o=t(n).data("id"),s=t(o);$this=t(n),$this.addClass("active"),$this.closest(".accordion-group-wrapper").find(".edit-element-inner").removeClass("keep-hover"),s.addClass("keep-hover"),s.is(":focus")||(dTaiko.isIOS?s.attr("readonly",!1).focus():(s.attr("readonly",!1),e.setTimeout(function(){s.focus()},10)))}},_editElementInnerMouseEnter:function(e){if(this._isEditMode()){var i=t(e).data("id");t(i).addClass("hover")}},_editElementInnerMouseLeave:function(e){if(this._isEditMode()){var i=t(e).data("id");t(i).removeClass("hover")}},_bindEvents:function(){var e=this;this.el.on(dTaiko.stdEvent,function(){t(".accordion.open").each(function(){$el=t(this),$parents=$el.parents(".accordion");var i=!1;$parents.length&&$parents.reverse().each(function(){if(t(this).hasClass("closed"))return i=!0,!0}),$el.hasClass("open")&&!i&&(e.wait=!0,e.accordion=$el,$el.accordion("toggle"))}),e._toggle()})},_focusEvent:function(t){var e=t.value;t.value="",t.value=e},_setEvents:function(){var e=this;dTaiko.isIE8||dTaiko.isIE9,dTaiko.isAndroid||t(".edit-element-inner").on("click.editElementInner",function(i){t(this).closest("a").one("click",function(t){t.preventDefault()}),e._editElementInnerHandler(i,this)}),t(".edit-element-inner").on("mouseenter.editElement",function(){e._editElementInnerMouseEnter(this)}),t(".edit-element-inner").on("mouseleave.editElement",function(){e._editElementInnerMouseLeave(this)}),dTaiko.isAndroid&&t("input.edit-element-inner").on("touchstart.editElementInnerInput",function(e){t("a").click(function(t){t.preventDefault(),t.stopPropagation()}),t(this).focus()})},_unsetEvents:function(){t("input.edit-element-inner").off("touchstart.editElementInnerInput"),t("input.edit-element-inner").off("focus.editElement"),t(".edit-element").off("click.editElement"),t(".edit-element-inner").off("click.editElementInner"),t(".edit-element-inner").off("mouseenter.editElement"),t(".edit-element-inner").off("mouseleave.editElement")},_isEditMode:function(){return!!t("body").hasClass("edit-mode")},_disableInner:function(){t(".edit-element-inner").each(function(){var e=t(this).data("id");$this=t(this),$this.removeClass("active"),t(e).attr("readonly","readonly").blur()})},_handleItems:function(e,i,n){var o=n?":not(.ui-sortable-helper)":"";$items=t(".accordion"+o,t(i.item).closest(".accordion-group-wrapper")),$items.each(function(e){t(this).removeClass("first-child lt-640-first-child last-child"),0===e&&t(this).addClass("first-child lt-640-first-child"),e===$items.length-1&&t(this).addClass("last-child")}),$items=t(".accordion"+o+" .editable-wrapper",t(i.item).closest(".accordion-group-wrapper")),$items.each(function(e){t(this).removeClass("first-child lt-640-first-child last-child"),0===e&&t(this).addClass("first-child lt-640-first-child"),e===$items.length-1&&t(this).addClass("last-child")})},_toggle:function(){var t=this;this.disableToggle||(this.isEditMode=!this.isEditMode,this.disableToggle=!0,this.isEditMode?(this.el.on("beforeEnableEditModeDone",function(){t.el.off("beforeEnableEditModeDone"),t._switch()}),this.o.beforeEnableEditMode?this.o.beforeEnableEditMode(this.el):t.el.trigger("beforeEnableEditModeDone")):(this.el.on("beforeDisableEditModeDone",function(){t.el.off("beforeDisableEditModeDone"),t._switch()}),this.o.beforeDisableEditMode?this.o.beforeDisableEditMode(this.el):t.el.trigger("beforeDisableEditModeDone")))},_switch:function(){var i=this;t("body").toggleClass("edit-mode"),i.el.toggleClass("active"),dTaiko.common.switchClass(i.el,i.el.find("i")),t("body").hasClass("edit-mode")?(console.log("before calling set events"),i._setEvents(),dTaiko.enableTouchEvents&&!dTaiko.isMobileIELTE10&&(t(".ui-draggable").draggable("disable"),t(".accordion-group-wrapper").each(function(){$this=t(this),$this.hasClass("ui-sortable")?$this.sortable("enable"):$this.sortable({handle:".drag-handle",items:".accordion.account",containment:".edit-overlay",scroll:!0,update:function(e,n){i._handleItems(e,n,!1);var o=t(this).sortable("toArray");t(this).sortable("disable"),i.o.afterUpdate(t(this),o,n.item.index(),n.item)},change:function(t,e){i._handleItems(t,e,!0)}})})),t("input.editable").attr("readonly",!1),t(e).trigger("enableEditMode")):(this._disableInner(),i._unsetEvents(),dTaiko.enableTouchEvents&&!dTaiko.isMobileIELTE10&&(t(".accordion-group-wrapper").each(function(){$this=t(this),$this.hasClass("ui-sortable")&&t(this).sortable("disable")}),t(".ui-draggable").draggable("enable")),t(e).trigger("disableEditMode")),this.disableToggle=!1}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.editModeTile",{options:{afterUpdate:null,beforeEnableEditMode:null,beforeDisableEditMode:null},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.wait=!1,this.accordion=!1,this.triggers=!1,this.disableToggle=!1,this.allowedElements=!1,this.tilesContainer=t(".tiles:not(.tiles-outer)"),this.addTileAccordion=t(".accordion.add-tile"),this.deletedTiles=[],this.sortableBound=!1,t("input.editable").attr("readonly","readonly"),this._bindEvents()},destroy:function(){for(var e=0;e<this.triggers.length;e++)t(this.triggers[e]).off("click.addTile");this.addTileAccordion.find("> .full-content").off("accordionOpened"),t(".cancel-edit-mode").off("click"),t(".edit-element").off("click"),t(".edit-element-inner").off("click mouseenter mouseleave"),t(".editable-wrapper.tile-edit").off("mouseenter mouseleave"),this.el.off("click"),this.tilesContainer.hasClass("ui-sortable")&&this.tilesContainer.sortable("destroy"),t.Widget.prototype.destroy.call(this)},_bindEvents:function(){var i=this,n=this.el.data("trigger");if(n){this.triggers=n.split(",");for(var o=0;o<this.triggers.length;o++)t(this.triggers[o]).off("click.addTile").on("click.addTile",function(){$this=t(this);var e="add-tile"===$this.attr("id"),n=t("body").hasClass("edit-mode");if(!e||!n){if(t(".enable-edit-mode i").css({transition:"none","-webkit-transition":"none","-moz-transition":"none","-o-transition":"none","-ms-transition":"none"}),t(".tile-wrapper").each(function(){var e=this;t(this).css({transform:"none","-webkit-transform":"none","-moz-transform":"none","-o-transform":"none","-ms-transform":"none"}).find(".accordion-wrapper").find(".accordion").each(function(i,n){t(n).hasClass("open")&&(e.wait=!0,e.accordion=t(this),t(e).find("a.active").trigger("click"))})}),i.accordion)return $content=i.accordion.find(".full-content").first(),void $content.off("accordionClosed.addTile").on("accordionClosed.addTile",function(){t(".enable-edit-mode i").attr("style",""),$content.off("accordionClosed.addTile"),i.accordion=!1});i._toggle()}})}this.addTileAccordion.find("> .full-content").on("accordionOpened",function(){$context=t(this),i.allowedElements=t(":focusable",$context),dTaiko.emFocusable.push(i.allowedElements),t.unique(dTaiko.emFocusable)}),t(".cancel-edit-mode").off("click").on("click",function(e){for(var n=0;n<i.deletedTiles.length;n++)t(i.deletedTiles[n]).removeClass("delete deleted");i._toggle(t(e.currentTarget))}),t(".edit-element").on("click",function(){var e=t(this).data("id");$this=t(this),$icon=$this.find("i"),$this.toggleClass("active"),dTaiko.common.switchClass($this,$icon),$this.hasClass("active")?t(e).attr("readonly",!1).focus():t(e).attr("readonly","readonly")}),t(".edit-element-inner").on("click",function(){if(i._isEditMode()){var e=t(this).data("id");$this=t(this),$this.addClass("active"),t(e).attr("readonly",!1).focus()}}),t(".edit-element-inner").on({mouseenter:function(){if(i._isEditMode()){var e=t(this).data("id");t(e).addClass("hover")}},mouseleave:function(){if(i._isEditMode()){var e=t(this).data("id");t(e).removeClass("hover")}}}),t(".editable-wrapper.tile-edit").on("mouseenter",function(){t(this).closest(".tile-wrapper").find(".tile").addClass("hover")}).on("mouseleave",function(){t(this).closest(".tile-wrapper").find(".tile").removeClass("hover")}),this.el.off("click").on("click",function(e){if(t(".tile-wrapper").each(function(){var e=this;t(this).css({transform:"none","-webkit-transform":"none","-moz-transform":"none","-o-transform":"none","-ms-transform":"none"}).find(".accordion-wrapper").find(".accordion").each(function(i,n){t(n).hasClass("open")&&(e.wait=!0,e.accordion=t(this),t(e).find("a.active").trigger("click"))})}),i.accordion)return $content=i.accordion.find(".full-content").first(),void $content.off("accordionClosed.editModeActive").on("accordionClosed.editModeActive",function(){$content.off("accordionClosed.editModeActive"),i.accordion=!1,console.log("closed"),i._toggle()});i._toggle(t(e.currentTarget))}),t("body").hasClass("dashboard")&&t(e).on("mobileViewport.hideEditTilesOnResize",function(e){t("body").hasClass("edit-mode")&&(t(".tiles").not(".tiles-outer").addClass("visibility-hidden-all"),t(".tile:not(.edit-partner):not(.ghost)").tile("enterEditMode"))}).on("desktopViewport.hideEditTilesOnResize",function(e){t("body").hasClass("edit-mode")&&(t(".tiles").not(".tiles-outer").removeClass("visibility-hidden-all"),t(".tile:not(.edit-partner):not(.ghost)").tile("leaveEditMode"))})},addDeletedTile:function(t){this.deletedTiles.push(t)},_isEditMode:function(){return!!t("body").hasClass("edit-mode")},_disableInner:function(){t(".edit-element-inner").each(function(){var e=t(this).data("id");$this=t(this),$this.addClass("active"),t(e).attr("readonly","readonly").blur()})},_hideTooltips:function(){t(".tipsy:first").find(".cancel").trigger("click")},_toggle:function(e){var i=this;console.log("diasbleToggle?",this.disableToggle),this.disableToggle||(this.isEditMode=!this.isEditMode,this.disableToggle=!0,console.log("_toggle isEditMode",this.isEditMode),this.isEditMode?(this.el.off("beforeEnableEditModeDone").on("beforeEnableEditModeDone",function(){i.el.off("beforeEnableEditModeDone"),i._switch()}),this.o.beforeEnableEditMode?this.o.beforeEnableEditMode(this.el):i.el.trigger("beforeDisableEditModeDone")):(t(".enable-edit-mode i").attr("style",""),this.el.off("beforeDisableEditModeDone").on("beforeDisableEditModeDone",function(){i.el.off("beforeDisableEditModeDone"),i._switch()}),this.o.beforeDisableEditMode?this.o.beforeDisableEditMode(this.el,e):i.el.trigger("beforeDisableEditModeDone")))},enableSortable:function(e){var i=this;$el=t(e),$el.hasClass("ui-sortable")?$el.sortable("enable"):$el.sortable({handle:".drag-handle",items:".tile-wrapper",placeholder:"tile-placeholder",containment:".edit-overlay",scroll:!0,tolerance:"pointer",scrollSensitivity:50,delay:0,start:function(e,i){t(".tile-wrapper.is-ghost",".tiles").remove(),dTaiko.tipsy.hideTipsy(),t(i.helper).hasClass("two-column")&&t(i.placeholder).addClass("two-column"),t(i.helper).find(".tile-edit, .tile").addClass("hover")},stop:function(e,i){t(this).trigger("resizeW.tilefill"),t(i.item).find(".tile-edit, .tile").removeClass("hover")},update:function(e,n){var o=t(this).sortable("toArray");t(this).sortable("disable"),i.o.afterUpdate(t(this),o,n.item.index(),n.item)}})},_switch:function(){var i=this;t("body").toggleClass("edit-mode"),i.el.toggleClass("active"),dTaiko.common.switchClass(i.el,i.el.find("i")),t("body").hasClass("edit-mode")?(i._bindEvents(),this.deletedTiles=[],dTaiko.viewportWidth<=640&&(t(".tile:not(.edit-partner):not(.ghost)").tile("enterEditMode"),t(e).on("desktopViewport.tileEditMode",function(){t(".tile:not(.edit-partner):not(.ghost)").tile("leaveEditMode")})),dTaiko.enableTouchEvents&&!dTaiko.isMobileIELTE10&&t(".tiles:not(.tiles-outer)").each(function(){i.enableSortable(this)}),t(e).trigger("enableEditMode"),e.setTimeout(function(){t("body").addClass("edit-mode-enabled")},300)):(this._disableInner(),this._hideTooltips(),this.el.trigger("mouseleave"),t("body").removeClass("edit-mode-enabled"),this.addTileAccordion&&this.addTileAccordion.hasClass("open")&&this.addTileAccordion.accordion("toggle"),t(e).off("mobileViewport.tileEditMode"),t(e).off("desktopViewport.tileEditMode"),t(".tile:not(.edit-partner):not(.ghost)").tile("leaveEditMode"),t(".tiles:not(.tiles-outer)").hasClass("ui-sortable")&&t(".tiles:not(.tiles-outer)").sortable("disable"),t(e).trigger("disableEditMode"),e.setTimeout(function(){t(".tiles:not(.tiles-outer)").trigger("resizeW.tilefill")},1)),this.disableToggle=!1}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.editModeAddTile",{options:{beforeAddTile:null,afterAddTile:null,beforeRemoveTile:null},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.accordion=this.el.closest(".accordion"),this.trigger=t("#add-tile"),this.steps=this.el.data("steps").split(","),this.currentStep=0,this.jcarousel=!1,this.allowedElements=!1,this.tipsyHandle=!1,this._bindEvents()},destroy:function(){this._destroyJCarousel(),t(this.accordion).off("accordionBeforeOpen accordionClosed");for(var i=0;i<this.steps.length;i++)t(this.steps[i]).find("li").off("click");t(".step-back",this.el).off("click"),t(e).off("resize.addTile"),t(e).off("addTileSuccess"),t(".add-tile-db",this.el).off("click"),t.Widget.prototype.destroy.call(this)},_bindEvents:function(){var i=this;t(this.accordion).on("accordionBeforeOpen.addTile",function(){dTaiko.viewportWidth<1024&&t(".tiles").not(".tiles-outer").addClass("visibility-hidden-all")}),t(this.accordion.find(".full-content")).on("accordionClosed.addTileClose",function(){dTaiko.viewportWidth<1024&&(t("body").removeClass("edit-no-anim"),t(".tiles").not(".tiles-outer").removeClass("visibility-hidden-all"))});for(var n=0;n<this.steps.length;n++)t(this.steps[n]).find("li").on("click",function(){$this=t(this),$this.parent().find("li").removeClass("active"),$this.addClass("active"),$nextStepWrapper=t($this.closest(".tile-placeholder").data("next-step")),$listTarget=$this.data("list-target"),$previewTarget=$this.data("preview-target"),$nextStepWrapper.find("ul").removeClass("active"),$listTarget?$nextStepWrapper.find($listTarget).addClass("active"):$nextStepWrapper.find("ul").addClass("active"),$previewTarget?($nextStepWrapper.find(".preview").removeClass("visible"),$nextStepWrapper.find($previewTarget).addClass("visible")):($nextStepWrapper.closest("ul").find(".preview").removeClass("visible"),$nextStepWrapper.find(".wrapper:first").addClass("active")),$nextStepWrapper.find("li").removeClass("active"),$nextNextStepWrapper=t($nextStepWrapper.data("next-step")),$nextNextStepWrapper&&$nextNextStepWrapper.removeClass("active"),$nextStepWrapper.addClass("active"),i.currentStep++,$nextStepWrapper&&i.jcarousel&&i.jcarousel.jcarousel("scroll","+=1"),e.setTimeout(function(){$context=i.el,i.allowedElements=t(":focusable",$context),dTaiko.emFocusable.push(i.allowedElements),t.unique(dTaiko.emFocusable)},300)}),t(this.steps[n]).find("li").on("keyup",function(e){13===e.which&&t(this).trigger("click")});t(".step-back",this.el).on("click",function(){i.currentStep--,i.jcarousel&&($target=t(t(this).closest(".tile-placeholder").data("previous-step")),i.jcarousel.jcarousel("scroll","-=1"))}),t(e).on("resize.addTile",function(){dTaiko.viewportWidth<1024&&dTaiko.oldViewportWidth>=1024&&i._initJCarousel(),dTaiko.viewportWidth>=1024&&dTaiko.oldViewportWidth<1024&&i._destroyJCarousel()}),t(e).on("addTileSuccess",function(e,n){i.el.on("beforeAddTile",function(){i.el.off("beforeAddTile"),i._addTile()}),i.o.beforeAddTile?i.o.beforeAddTile(i.el,t(n)):i.el.trigger("beforeAddTile")}),t(".add-tile-db",this.el).on("click",function(n){t(e).trigger("addTileSuccess",t(n.currentTarget)),i.tipsyId=t(this).data("id")}),dTaiko.viewportWidth<1024&&i._initJCarousel()},_addTile:function(){var e=this;this.accordion.accordion("toggle"),$fullContent=this.accordion.accordion("getFullContent"),$fullContent.on("accordionClosed.addTile",function(){$fullContent.off("accordionClosed.addTile"),e._showSuccessMessage()}),e.jcarousel&&e._reloadJCarousel(),t(".tiles:not(.tiles-outer)").each(function(){$this=t(this),$this.hasClass("ui-sortable")&&($this.sortable("destroy"),t(".enable-edit-mode").editModeTile("enableSortable",$this))})},_showSuccessMessage:function(){var i=this,n=this.tipsyId;this.tipsyHandle=this.trigger.tipsy({gravity:t.fn.tipsy.autoNS,delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-tile tipsy-tile-add-dashboard",trigger:"manual",title:function(){for(var e=0,i=0;i<dTaiko.tipsy.addTileSuccess.length;i++)dTaiko.tipsy.addTileSuccess[i].id===n&&(e=i);return t(dTaiko.tipsy.addTileSuccess[e]).html()}}),this.tipsyHandle.tipsy("show"),t(".tipsy-tile-add-dashboard").find(".cancel").on("click",function(e){e.preventDefault(),i.o.beforeRemoveTile?i.o.beforeRemoveTile(i.el,t(e.currentTarget),i.tipsyHandle):i.tipsyHandle.tipsy("hide")}),t(".tipsy-tile-add-dashboard").find(".ok").on("click",function(e){e.preventDefault(),i.o.afterAddTile?i.o.afterAddTile(i.el,t(e.currentTarget),i.tipsyHandle):i.tipsyHandle.tipsy("hide")}),e.setTimeout(function(){i.trigger.velocity("scroll",{offset:-100,easing:"ease",duration:300,mobileHA:!!dTaiko.isTouch})},300)},_reloadJCarousel:function(){this.currentStep=0,this.jcarousel.jcarousel("scroll",this.currentStep),t(this.jcarousel).find("li ul li.active").removeClass("active")},_initJCarousel:function(){this.el.addClass("jcarousel-bound"),this.jcarousel=this.el.find(".jcarousel-wrapper").jcarousel({transitions:!!Modernizr.csstransitions&&{transforms:Modernizr.csstransforms,transforms3d:Modernizr.csstransforms3d,easing:"ease"},items:".jc-item"}),this.jcarousel.jcarousel("scroll",this.currentStep)},_destroyJCarousel:function(){this.jcarousel&&(this.el.removeClass("jcarousel-bound"),this.jcarousel.jcarousel("destroy"),this.jcarousel=!1)}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.tile",{options:{beforeDelete:null,beforeInnerEditMode:null,afterInnerEditMode:null,onBeforOpen:!1},_create:function(){if(this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.accordion=t(".accordion",this.el),this.tileWrapper=this.el.closest(".tile-wrapper"),this.accordionGroupElements=this.tileWrapper.find(".accordion-wrapper").find(".accordion"),this.currentTarget=!1,this.hasOneFive=!!this.el.data("has-onefive")&&this.el.data("has-onefive").split(","),this.currentOffset=0,this.tilesContainer=t(".tiles:not(.tiles-outer)"),this.setMaxContentHeightTimeout=!1,this.setMaxContentHeightTimeout2=!1,this.jcarousel=t(".jcarousel",this.el).length?t(".jcarousel",this.el):t(".jcarousel-range",this.el),this.jcarouselContext=!1,this.footer=this.el.find("footer"),this.timeout=null,this.timeout2=null,this.timeoutResize=null,this.timeoutResize2=null,this.timeoutHeight=null,this.timeoutHeight2=null,this.timeoutHeight3=null,this.timeoutHeight4=null,this.innerEditPartner=t(".edit-partner"),this.currentOneFive=!1,this.jcarousel.length)this.jcarouselContext=this.el;else if(this.hasOneFive)for(var e=0;e<this.hasOneFive.length;e++)if(this.jcarousel=t(".jcarousel-range",t(this.hasOneFive[e])),this.jcarousel.length){this.jcarouselContext=t(this.hasOneFive[e]);break}this.pagination=!1,this.cachedElements=[],this._cacheElements(),this._bindEvents()},_cacheElements:function(){this.cachedElements.push(t(".tile:not(.ghost)").not(this.el)),this.cachedElements.push(t(".notifications-wrapper")),this.cachedElements.push(t(".tile .full-content").not(this.el.find(".full-content"))),this.cachedElements.push(t(".tile .jcarousel *").not(t(".tile .jcarousel *",this.el))),this.cachedElements.push(t(".tile .tile-nav *").not(t(".tile .tile-nav *",this.el)))},_bindEvents:function(){var i=this;i.el.on("beforeOpenDone",function(t,e,n){i._toggleTile(e,n)}),t(".db-tile-footer .db-btn, footer a",this.tileWrapper).not(".no-active").off(dTaiko.stdEvent+" keyup").on(dTaiko.stdEvent+" keyup",function(e){if("keyup"===e.type&&13!==e.which)return!0;$this=t(this),$this.hasClass("active")?($this.removeClass("active db-active"),i.o.onBeforeOpen?i.o.onBeforeOpen(i.el,$this):i._toggleTile(this,t(this))):($this.closest("ul, .db-col").find("a, .db-btn").removeClass("active db-active"),0===$this.parents(".db-tile-footer").length&&$this.addClass("active db-active"),i.o.onBeforeOpen?i.o.onBeforeOpen(i.el,$this):i.el.trigger("beforeOpenDone",[this,t(this)])),"#"===t(this).attr("href")&&(e.preventDefault(),$this.hasClass("stopImmediatePropagation")&&e.stopImmediatePropagation())}),t(".enable-inner-edit-mode",this.el).on("click",function(t){t.preventDefault(),i._enableInnerEditLogicPre()}),t(".enable-inner-edit-mode",this.tileWrapper.find(".editable-wrapper")).on("click",function(t){t.preventDefault(),i._enableInnerEditLogicPre()}),t(".disable-inner-edit-mode",this.el).on("click",function(e){e.preventDefault(),t(this).removeClass("active db-active"),i.el.on("afterInnerEditModeDone",function(){i.el.off("afterInnerEditModeDone"),i._disableInnerEditLogic()}),i.o.afterInnerEditMode?i.o.afterInnerEditMode(i.el,t(this)):i.el.trigger("afterInnerEditModeDone")}),t(".delete-tile",this.tileWrapper).on("click",function(){var e=t(this).data("id");i.tipsyAlert=t(this).tipsy({gravity:t.fn.tipsy.autoNS,delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-tile tipsy-tile-add-dashboard",trigger:"manual",title:function(){for(var i=0,n=0;n<dTaiko.tipsy.removeMessage.length;n++)dTaiko.tipsy.removeMessage[n].id===e&&(i=n);return t(dTaiko.tipsy.removeMessage[i]).html()}}),i.tipsyAlert.tipsy("show"),t(".tipsy-tile-add-dashboard").find(".cancel").on("click",function(t){t.preventDefault(),i.tipsyAlert.tipsy("hide")}),t(".tipsy-tile-add-dashboard").find(".delete").on("click",function(t){t.preventDefault(),i.el.on("beforeDeleteDone",function(){i.el.off("beforeDeleteDone"),i._deleteTile()}),i.o.beforeDelete?i.o.beforeDelete(i.el):i.el.trigger("beforeDeleteDone")})}),this.jcarousel.length&&(this.el.jcarouselHandler({jcarousel:this.jcarousel,sourceElement:this.el,context:this.jcarouselContext}),t(e).off("enableEditMode").on("enableEditMode."+dTaiko.util.generateUid,function(){i.el.jcarouselHandler("getJCarousel").swipe("disable")}).on("disableEditMode."+dTaiko.util.generateUid,function(){i.el.jcarouselHandler("getJCarousel").swipe("enable")})),this.hasOneFive&&t(e).on("resize",function(){dTaiko.viewportWidth<=640&&dTaiko.oldViewportWidth>640?i.accordionGroupElements.each(function(){if(t(this).hasClass("open")){if(i.timeoutResize||i.timeoutResize2)return;i.timeoutResize=e.setTimeout(function(){i._toggle(!0,!1,!0,!0),i.timeoutResize=null,i.timeoutResize2=null},1),i.timeoutResize2=e.setTimeout(function(){for(var e=0;e<i.hasOneFive.length;e++)t(i.hasOneFive[e]).css("top","137px")},100)}}):dTaiko.viewportWidth>640&&dTaiko.oldViewportWidth<=640&&i.accordionGroupElements.each(function(){if(t(this).hasClass("open")){if(i.timeoutResize)return;i.timeoutResize=e.setTimeout(function(){i._toggle(!0,!1,!0,!0),i.timeoutResize=null},1),e.setTimeout(function(){for(var e=0;e<i.hasOneFive.length;e++)t(i.hasOneFive[e]).css("top","137px")},100)}})})},_enableInnerEditLogicPre:function(){var t=this;dTaiko.util.generateUid();t.el.on("beforeInnerEditModeDone",function(){t.el.off("beforeInnerEditModeDone"),t._enableInnerEditLogic()}),t.o.beforeInnerEditMode?t.o.beforeInnerEditMode(t.el):t.el.trigger("beforeInnerEditModeDone")},_enableInnerEditLogic:function(){var i=this,n=Math.random().toString(36).substr(2,9);this.el.closest(".tile-wrapper").find(".tile:first").addClass("inactive"),this.el.closest(".tile-wrapper").find(".tile:last").addClass("active db-active"),$context=t(this.tileWrapper.context),$context.hasClass("edit-partner")&&(this.allowedElements=t(":focusable",$context),dTaiko.emFocusable.push(this.allowedElements),t.unique(dTaiko.emFocusable)),this.el.closest(".tile-wrapper").find(".tile:last").find(".form-scroll-container").scroller(),t(e).on("disableEditMode."+n,function(){t(e).off("disableEditMode."+n),i.el.closest(".tile-wrapper").find(".tile:first").removeClass("inactive"),i.el.closest(".tile-wrapper").find(".tile:last").removeClass("active db-active")})},_disableInnerEditLogic:function(){this.el.closest(".tile-wrapper").find(".tile:first").removeClass("inactive"),this.el.closest(".tile-wrapper").find(".tile:last").removeClass("active db-active")},_deleteTile:function(){var i=this;this.tileWrapper.addClass("delete"),this.tipsyAlert.tipsy("hide"),t(".enable-edit-mode").editModeTile("addDeletedTile",this.tileWrapper),e.setTimeout(function(){t(".tile, .editable-wrapper",i.tileWrapper).addClass("anim"),e.setTimeout(function(){i.tileWrapper.addClass("deleted"),i.tilesContainer.trigger("resizeW.tilefill")},500)},1)},_resetScroll:function(){t("body").off("touchmove.onefive");for(var e=0;e<this.hasOneFive.length;e++)t(this.hasOneFive[e]).find(".scroll-content").each(function(){t(this).attr("style","")})},_toggleTile:function(i,n,o){var s=this;return o?o.accordion("setCurrentTrigger",n):(o=t(t(i).data("target-accordion"))).accordion("setCurrentTrigger",n),!dTaiko.isTouch&&dTaiko.viewportWidth<=640&&this._resetScroll(),s.currentTarget&&s.currentTarget.is(o)?(s._toggle(!0),void(s.currentTarget=!1)):!1===s.currentTarget?(s._toggle(!0,o),void(s.currentTarget=o)):($temp=s._closeOpenAccordion(),void($temp&&(t(e).off("resize.groupWrapperTile"),$temp.off("accordionClosed.tileToggle").on("accordionClosed.tileToggle",function(){$temp.off("accordionClosed.tileToggle"),o.accordion("toggle"),s.currentTarget=o,$fullContent=o.accordion("getFullContent"),$fullContent.off("accordionOpened.tileToggle").on("accordionOpened.tileToggle",function(){$fullContent.off("accordionOpened.tileToggle"),s.currentOneFive=t(o.data("one-five")),$content=t(".content .scroll-content",s.currentOneFive),$content.attr("style",""),$content.closest(".accordion").hasClass("open")&&(s._setOuterLeft(o),s._setMaxContentHeight($content),t(e).off("resize.groupWrapperTile").on("resize.groupWrapperTile",function(){if("undefined"!=typeof DBEG)var i=t(".content .scroll-content",s.currentOneFive);s.timeout2||(s.timeout2=e.setTimeout(function(){s._setOuterLeft(o),s._setMaxContentHeight(i),s.timeout2=null},500))}))})}))))},_closeOpenAccordion:function(){if($accordionToClose=!1,this.accordionGroupElements.each(function(){$accordion=t(this),t($accordion.data("one-five")).find(".offCTAs.active").offCTAs("toggle"),$accordion.hasClass("open")&&($accordionToClose=$accordion,$accordion.accordion("toggle"),t($accordion.closest(".tile-wrapper").find(".tile").data("has-onefive")).addClass("hide-fix"),e.setTimeout(function(){t($accordion.closest(".tile-wrapper").find(".tile").data("has-onefive")).removeClass("hide-fix")},1e3))}),$accordionToClose)return $accordionToClose.accordion("getFullContent")},_move:function(i,n){var o=this;o.top=o.tileWrapper.offset().top-dTaiko.util.getScrollTop(),o.left=o.tileWrapper.offset().left,o.tileWrapper.css("left",0),!dTaiko.isTouch&&dTaiko.viewportWidth<=640&&this._resetScroll(),dTaiko.isTouch&&e.setTimeout(function(){o._setMaxContentHeight(t(".content .scroll-content",o.currentOneFive))},500),e.setTimeout(function(){var s=o.top,r=dTaiko.viewportWidth<768?51:0;s<0&&(s=74),o.tileWrapper.addClass("active db-active").css("top",s+r),t(".tile-wrapper",".tiles").not(o.tileWrapper).addClass("visibility-hidden"),e.setTimeout(function(){var s=o.tileWrapper.offset().top-dTaiko.util.getScrollTop();s<0||(s*=-1),o.currentOffset=s,n&&o.tileWrapper.addClass("force"),dTaiko.transitionSupport&&e.setTimeout(function(){o.tileWrapper.css({"-webkit-transform":"translateY("+s+"px)","-moz-transform":"translateY("+s+"px)","-o-transform":"translateY("+s+"px)","-ms-transform":"translateY("+s+"px)",transform:"translateY("+s+"px)"})},1),e.setTimeout(function(){o.tileWrapper.removeClass("force")},1),e.setTimeout(function(){for(var e=o.tileWrapper.find("article").height()+20,i=0;i<o.hasOneFive.length;i++)t(o.hasOneFive[i]).css("top",e+"px")},150),e.setTimeout(function(){dTaiko.transitionSupport?o.tileWrapper.on("transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd",function(t){o.tileWrapper.off("transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd"),o._toggleAfterTransitionTop(i)}):o._toggleAfterTransitionTop(i)},280)},50)},100)},_toggleAfterTransitionTop:function(i){var n=this;i&&(n._setOuterLeft(i),n.tileWrapper.addClass("act acting"),n.tileWrapper.css("top","0px"),dTaiko.transitionSupport?t("body, html").addClass("no-scroll"):t(n.tileWrapper.find(".tile")).velocity("scroll",{offset:0,duration:1}),n.currentOneFive=t(i.data("one-five")),$fullContent=i.accordion("getFullContent"),$fullContent.on("accordionOpened.tile",function(){$fullContent.off("accordionOpened.tile"),e.setTimeout(function(){t(".jcarousel-range",n.currentOneFive).jcarousel("reload")},100),$content=t(".content .scroll-content",n.currentOneFive),$content.attr("style",""),$content.closest(".accordion").hasClass("open")&&(n._setMaxContentHeight($content),t(e).off("resize.groupWrapperTile").on("resize.groupWrapperTile",function(){if("undefined"!=typeof DBEG)var o=t(".content .scroll-content",n.currentOneFive);n.timeout||(n.timeout=e.setTimeout(function(){n._setOuterLeft(i),n._setMaxContentHeight(o),n.timeout=null},500))}))}),i.accordion("toggle",!1,!0))},_setOuterLeft:function(i){if(dTaiko.androidV<=4.3&&dTaiko.isAndroidNative){$oneFive=t(i.data("one-five"));var n=t(e).width()/2-$oneFive.width()/2;$oneFive.css("left",n)}},_setMaxContentHeight:function(i){var n=this;if(i){var o=t(e).height()-n.el.outerHeight()-(t(e).height()-e.innerHeight)-100;i.attr("style",""),$footer=t(".content > footer",n.currentOneFive);var s=0;$footer.length&&(i.has($footer).length||(s=$footer.height())),dTaiko.viewportWidth<=640&&(e.clearTimeout(this.timeoutHeight),this.timeoutHeight=e.setTimeout(function(){i.css("max-height",o-s),i.css("overflow-y","scroll"),i.closest(".transaction-container")?(i.find(".form-handler").addClass("repaint-fix"),i.find("footer").addClass("repaint-fix")):i.addClass("repaint-fix"),e.clearTimeout(n.timeoutHeight2),n.timeoutHeight2=e.setTimeout(function(){i.css("overflow-x","hidden"),e.clearTimeout(n.timeoutHeight4),n.timeoutHeight4=e.setTimeout(function(){var e=0;i.children().each(function(){e+=t(this).height()}),i.height()>=e&&(dTaiko.isTouch||t("body").off("touchmove.onefive").on("touchmove.onefive",function(t){t.preventDefault()}))},500)},10)},1))}},enterEditMode:function(){var i=this;this.footer&&this.footer.hide(0),t(".tile-edit-wrapper",this.el.closest(".tile-wrapper")).hide(0),this.accordion=t(".accordion",this.el),this.accordion.last().accordion("instantClose"),t(e).on("desktopViewport.tileEditMode",function(){t(e).off("desktopViewport.tileEditMode"),i.leaveEditMode()})},leaveEditMode:function(){this.footer&&this.footer.show(0),t(".tile-edit-wrapper",this.el.closest(".tile-wrapper")).show(0),this.accordion.last().accordion("instantOpen")},updateCachedElements:function(){this.accordion=t(".accordion",this.el)},_toggleLogic:function(){var i=this;$fullContent=this.accordion.last().accordion("getFullContent");for(var n=0;n<i.cachedElements.length;n++)t(i.cachedElements[n]).css("visibility","hidden");i.accordion.first().is(i.accordion.last())?e.setTimeout(function(){i._move($targetAccordion)},1):($fullContent2=i.accordion.first().accordion("getFullContent"),i.accordion.first().accordion("toggle"),3===i.accordion.length&&($accordion=t(i.accordion.get(1)),$fullContent2=$accordion.accordion("getFullContent"),$accordion.accordion("toggle")),i._move($targetAccordion,!0))},_toggle:function(i,n,o,s){var r=this,a=!1;(this.el.toggleClass("active"),i&&dTaiko.viewportWidth<=640)&&(this.el.toggleClass("tile-compact"),r.tileWrapper.offset().top-dTaiko.util.getScrollTop("body")-t(".mobile-header").height()<0&&this.el.hasClass("tile-compact")&&dTaiko.viewportWidth<=640?(a=!0,e.setTimeout(function(){r.el.velocity("scroll",{offset:-100,easing:"easein",duration:300,mobileHA:!!dTaiko.isTouch,complete:function(){r.el.trigger("waitDone.tile"),s?r.accordion.last().accordion("instantClose"):r.accordion.last().accordion("toggle"),r.isScrolling=!1}})},10)):s?r.accordion.last().accordion("instantClose"):r.accordion.last().accordion("toggle"));i&&dTaiko.viewportWidth>640&&(this.el.removeClass("tile-compact"),t(".tile-wrapper",".tiles").not(r.tileWrapper).removeClass("visibility-hidden")),$targetAccordion=t(n),this.el.hasClass("tile-compact")?a?r.el.on("waitDone.tile",function(){r.el.off("waitDone.tile"),r._toggleLogic()}):this._toggleLogic():(o||r._closeOpenAccordion(),dTaiko.viewportWidth<=640&&(this.accordion.first().is(this.accordion.last())||(this.accordion.first().accordion("toggle"),3===this.accordion.length&&t(this.accordion.get(1)).accordion("toggle"))),o&&(this.accordion.first().is(this.accordion.last())?this.accordion.first().accordion("toggle"):(this.accordion.first().accordion("toggle"),this.accordion.last().accordion("toggle"),3===this.accordion.length&&t(this.accordion.get(1)).accordion("toggle"))),t(".tile-wrapper.active").css("top","auto"),t("body, html").removeClass("no-scroll"),r.tileWrapper.removeClass("act acting"),r.tileWrapper.removeClass("active db-active"),r.tileWrapper.css({"-webkit-transform":"none","-moz-transform":"none","-o-transform":"none","-ms-transform":"none",transform:"none"}),r.tileWrapper.attr("style",""),e.setTimeout(function(){t(".tile-wrapper",".tiles").not(r.tileWrapper).removeClass("visibility-hidden");for(var e=0;e<r.cachedElements.length;e++)t(r.cachedElements[e]).css("visibility","");var i=t(".highcharts-line");i.length&&dTaiko.viewportWidth<=640&&i.highchartsLine("reflow")},500),$targetAccordion&&$targetAccordion.accordion("toggle"))}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.quickNav",{options:{beforeToggleOpen:null,beforeToggleClose:null},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.tiles=[],this.list=!1,this.active=!1,this.state=0,this.disableToggle=!1,this.mobileHeader=t("#content, .mobile-header"),this.toggleVis=t(".toggle-sn-vis"),this.tiles=t(".tile").not(".ghost,.edit-partner,.edit-view,.dummy"),this.list=this.el.find("ul"),this.mobileNavTrigger=t("#mobile-nav"),this._buildMarkup(),this._bindEvents()},_bindEvents:function(){var e=this;this.el.css({"-webkit-transform":"translateX(-50px)","-moz-transform":"translateX(-50px)","-o-transform":"translateX(-50px)",transform:"translateX(-50px)"}),t("li",this.list).each(function(){t(this).on(dTaiko.stdEvent,function(){e.tiles=t(".tile").not(".ghost,.edit-partner,.edit-view,.dummy"),t(e.tiles[parseInt(t(this).data("target"))]).velocity("scroll",{offset:-60,easing:"ease",duration:500,mobileHA:!!dTaiko.isTouch,complete:function(){e.toggle()}})})}),t(".toggle-sn").on(dTaiko.stdEvent,function(t){t.preventDefault(),e.toggle()})},_buildMarkup:function(){for(var t=0;t<this.tiles.length;t++){var e='<li class="vp" data-target="{{x}}"><span class="vc">{{xx}}</span></li>';e=(e=e.replace(/{{x}}/g,t)).replace(/{{xx}}/g,t+1),this.list.append(e)}},toggle:function(){var t=this;this.disableToggle||(this.disableToggle=!0,0===this.state?(this.el.on("beforeToggleOpenDone",function(){t.el.off("beforeToggleOpenDone"),t._toggle()}),this.o.beforeToggleOpen?this.o.beforeToggleOpen(this.el):this.el.trigger("beforeToggleOpenDone")):(this.el.on("beforeToggleCloseDone",function(){t.el.off("beforeToggleCloseDone"),t._toggle()}),this.o.beforeToggleClose?this.o.beforeToggleClose(this.el):this.el.trigger("beforeToggleCloseDone")))},_toggle:function(){this.active?(this.active=!1,this.el.css({"-webkit-transform":"translateX(-50px)","-moz-transform":"translateX(-50px)","-o-transform":"translateX(-50px)",transform:"translateX(-50px)"})):(this.mobileNavTrigger.hasClass("active")&&this.mobileNavTrigger.triggerHandler(dTaiko.stdEvent),this.active=!0,this.el.css({"-webkit-transform":"translateX(0px)","-moz-transform":"translateX(0px)","-o-transform":"translateX(0px)",transform:"translateX(0px)"})),this.mobileHeader.toggleClass("qn-active"),this.toggleVis.toggleClass("active"),this.state=0===this.state?1:0,this.disableToggle=!1}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.financialDragDrop",{options:{onDrop:!1},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.delay=200,this.delayMobile=1e3,this.currentDelay=Modernizr.touch?this.delayMobile:this.delay,this.distance=1,this.distanceMobile=0,this.accounts=!1,this.currentDistance=Modernizr.touch?this.distanceMobile:this.distance,this.dragHandle=".drag-handle",this.dragHandleMobile=".drag-handle-mobile",this.currentDragHandle=Modernizr.touch?this.dragHandleMobile:this.dragHandle,this.canttouch=t("#mdi").length?t("#mdi"):t('<div id="mdi" class="mobile-drag-info vp"><span class="vc">Durch Drag & Drop auf ein anderes Konto starten Sie einen bertrag.</span></span>'),this._extend(),this._build(),this._bindEvents()},_bindEvents:function(){t(e).on("resize",this,this._onResize),Modernizr.touch&&!dTaiko.isNativeAndroid&&(this.currentDelay=this.delayMobile,this.currentDistance=this.distanceMobile,this.currentDragHandle=this.dragHandleMobile,this._setDelayOption(),this._bindMobileHelper(),t(this.currentDragHandle).find(".dm-helper").length||t(this.currentDragHandle).append('<div class="dm-helper" />'))},_onResize:function(t){var e=t.data;dTaiko.viewportWidth<=640&&dTaiko.oldViewportWidth>=640&&(e.currentDelay=e.delayMobile,e.currentDistance=e.distanceMobile,e.currentDragHandle=e.dragHandleMobile,e._setDelayOption(),e._bindMobileHelper()),dTaiko.viewportWidth>=640&&dTaiko.oldViewportWidth<=640&&(e.currentDelay=e.delay,e.currentDistance=e.distance,e.currentDragHandle=e.dragHandle,e._setDelayOption())},_destroy:function(){var i=this;!1!==i.accounts&&i.accounts.each(function(){t(e).off("resize",i._onResize)})},_extend:function(){var e=t.ui.draggable.prototype._mouseStart;t.ui.draggable.prototype._mouseStart=function(t,i,n){this._trigger("beforeStart",t,this._uiHash()),e.apply(this,[t,i,n])}},_build:function(){var i=this;this.accounts=this.el.find(".account:not(.disabled)"),dTaiko.enableTouchEvents&&!dTaiko.isMobileIELTE10&&(this.accounts.each(function(){t(this).draggable({revert:!0,helper:"clone",cancel:".disable-drag",appendTo:i.el,delay:i.currentDelay,handle:i.currentDragHandle,revertDuration:300,distance:i.currentDistance,beforeStart:function(e,i){$this=t(this),$this.closest(".accordion-group-wrapper").addClass("relative")},start:function(i,n){$this=t(this),$this.addClass("drag"),t("#mdi").removeClass("active"),e.setTimeout(function(){t("#mdi").remove()},1)},stop:function(e,i){$this=t(this),$this.closest(".accordion-group-wrapper").removeClass("relative"),$this.removeClass("drag")}})}),this.accounts.droppable({drop:function(e,n){$target=t(n.draggable),t("body").hasClass("edit-mode")||(i.o.onDrop?i.o.onDrop(t(this),$target):$target.accordion("gatherData",$target.data("droppable-url"),!1,!0))}}))},_bindMobileHelper:function(){var i=this;i.currentDragHandle==i.dragHandleMobile&&t(i.currentDragHandle).not(".disable-drag").on("touchstart",function(n){n.stopPropagation();var o=t(n.currentTarget).closest(".accordion");o.hasClass("closed")&&(o.find(".row-head").prepend(i.canttouch),e.setTimeout(function(){t("#mdi",o).addClass("active")},1))}).on("touchend touchcancel",function(e){var n=t(e.currentTarget).closest(".accordion");t("#mdi",n).remove(),i.canttouch.removeClass("active")})},_setDelayOption:function(){var e=this;dTaiko.enableTouchEvents&&!dTaiko.isMobileIELTE10&&this.accounts.each(function(){$this=t(this),$this.draggable("option",{delay:e.currentDelay,distance:e.currentDistance,handle:e.currentDragHandle})})},onDrop:function(t){this.o.onDrop=t}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.formHandler",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.taxWrapper=t(".fa-wrapper").get(0),this.empty=!1,this.touched=!1,this.acBIC=!1,this._bindEvents(),this._initRecipientAutocomplete()},_bindEvents:function(){var e=this;t("input, textarea, select",this.el).on("change.blockOnInput paste.blockOnInput keyup.blockOnInput",function(i){e.touched=!0,t(this).toggleClass("repaint"),e.el.closest(".accordion").accordion("setBlock",!0)}),t("input.sumamount",this.el).on("keyup",function(){e._updateMainSum()}),t(".bic-search-container",this.el).bicsearch({onChange:function(){console.log("onChange - event triggered. Execute Backend-Code here.")}}),t("#addTax",this.el).on("click",function(){e._replicateTax()}),t(".monitor-length",this.el).on("keyup paste",function(i){t(this).val().length>0&&(e.empty=!1),-1==dTaiko.controls.indexOf(i.which)&&e._handleLength(t(this),i.which)}),t(this.el).on("change",".form-manipulator",function(){$this=!1,t(this).is("select")?$this=t(this).find("option:selected"):$this=t(this);var e=$this.data("enables")?$this.data("enables").split(","):[],i=$this.data("disables")?$this.data("disables").split(","):[],n=$this.data("reveals")?$this.data("reveals").split(","):[],o=$this.data("conceals")?$this.data("conceals").split(","):[],s=$this.data("handle-padding")?$this.data("handle-padding").split(","):[];if($this.hasClass("radio-toggle")){for(var r=0;r<i.length;r++)$target=t(i[r]),$target.is(":disabled")||"text"===$target.prop("type")&&$target.val("").prop("disabled","disabled");for(r=0;r<e.length;r++)$target=t(e[r]),$target.is(":disabled")&&"text"===$target.prop("type")&&$target.prop("disabled",!1)}if($this.hasClass("toggle")){for(r=0;r<n.length;r++)$target=t(n[r]),$target.is(":visible")?$target.addClass("form-hidden late-bind"):$target.removeClass("form-hidden");for(r=0;r<o.length;r++)$target=t(o[r]),$target.is(":hidden")?$target.removeClass("form-hidden"):$target.addClass("form-hidden late-bind");for(r=0;r<i.length;r++)$target=t(i[r]),$target.is(":disabled")?($target.hasClass("picker-element")?$target.picker("enable"):$target.hasClass("selecter-element")&&$target.selecter("enable"),"text"===$target.prop("type")&&$target.prop("disabled",!1)):$target.hasClass("picker-element")?($target.next().hasClass("checked")&&$target.trigger("click"),$target.picker("disable")):$target.hasClass("selecter-element")?($target.find("option[value=Euro]").prop("selected","selected"),$target.selecter("refresh"),$target.next().find(".selecter-selected").text("Eur"),$target.selecter("disable")):"text"===$target.prop("type")&&$target.val("").prop("disabled","disabled")}else{for(r=0;r<n.length;r++)$target=t(n[r]),$target.removeClass("form-hidden");for(r=0;r<o.length;r++)$target=t(o[r]),$target.addClass("form-hidden late-bind")}for(r=0;r<s.length;r++)$target=t(s[r]),$target.find(".input-wrapper").removeClass("plzero"),$target.find(".input-wrapper:visible").first().addClass("plzero")}),this._bindTaxRemover()},_handleLength:function(e,i){var n=parseInt(t(e).attr("maxlength")),o=t(e).val().length;if($next=t(t(e).data("next")),$previous=t(t(e).data("previous")),n!==o)return 0===o&&8===i&&this.empty?($previous.is(":visible")&&($previous.focus(),(dTaiko.isIE8||dTaiko.isIE9)&&$previous.val($previous.val())),void(this.empty=!1)):void(0!==o||8!==i||this.empty||(this.empty=!0));$next.is(":visible")&&(Modernizr.touch||($next.focus(),(dTaiko.isIE8||dTaiko.isIE9)&&$next.val($next.val())),0===$next.val().length&&(this.empty=!0))},_bindTaxRemover:function(){var e=this;t(".removeTax",this.el).on("click",function(i){e._removeTax(t(i.delegateTarget).data("remove"))})},_replicateTax:function(){var e=this,i=0,n={};t.get("./ajax-content/fa-wrapper.html",{},function(o){i=t(".fa-wrapper").length+1,n=t(o).html().replace(/{{x}}/g,i),(n=t(n).insertAfter(t(".fa-wrapper").last())).addClass("visible").find("input.sumamount").on("keyup",function(){e._updateMainSum()}),t(".removeTax",n).on("click",function(i){e._removeTax(t(i.delegateTarget).data("remove"))}),dTaiko.registerHandler(n)})},_removeTax:function(e){t("html").hasClass("no-csstransitions")&&t("#"+e).remove(),t("#"+e).removeClass("visible").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){t(this).remove()})},_updateMainSum:function(){var e=0;t(".sumamount").each(function(){e+=""===t(this).val()?0:parseInt(t(this).val())}),t("#betrag").val(e)},_initRecipientAutocomplete:function(){var e=t("#transaction-to"),i=t("#recipient-dependant");$sepaSwitch=t("#fa-sepa-switch-col");var n=t("#finanzamt-dependant");e.on("focus",function(){i.removeClass("form-hidden"),dTaiko.isAndroid&&t("#transaction-full-content").find(".content").scrollTop(e.offset().top-20)}).on("blur",function(){e.removeClass("ac-active"),e.autocomplete("hide")}),e.autocomplete({lookup:[{value:"Lukas Bunkowski",data:"DE 048 2398 98345"},{value:"Jonas Lempa",data:"DE 048 2398 94545 "},{value:"Tobias Schubert",data:"DE 048 6142 98345"},{value:"Thomas Neumann",data:"DE 028 2781 98669"},{value:"Maik Fahldiek",data:"DE 568 7894 12545"},{value:"Finanzamt Wien",data:"FA 568 7894 12545"},{value:"Finanzamt Innsbruck",data:"FA 568 7894 12545"},{value:"Finanzamt Salzburg",data:"FA 568 7894 12545"}],minChars:2,maxHeight:150,formatResult:function(t,e){return'<span class="name">'+t.value.replace(new RegExp("("+e+")","gi"),"<strong>$1</strong>")+"</span>"+"<br/>"+('<span class="iban">'+t.data+"</span>")},onSelect:function(o){e.closest(".scroll-content").off("scroll.autocomplete"),o.data.indexOf("FA")>-1?(o.data&&n.find("#iban").val(o.data),i.addClass("form-hidden"),n.removeClass("form-hidden"),$sepaSwitch.removeClass("form-hidden"),t("#betrag").prop("readonly","readonly"),t("#standing-order-checkbox").addClass("form-hidden")):(o.data&&i.find("#iban").val(o.data),t("#betrag").prop("readonly")&&t("#betrag").prop("readonly",!1),t("#standing-order-checkbox").hasClass("form-hidden")&&t("#standing-order-checkbox").removeClass("form-hidden"),i.hasClass("form-hidden")&&(i.removeClass("form-hidden"),n.addClass("form-hidden"),$sepaSwitch.addClass("form-hidden"))),e.removeClass("ac-active")},beforeRender:function(){e.addClass("ac-active"),e.closest(".scroll-content").off("scroll.autocomplete").one("scroll.autocomplete",function(){e.autocomplete("hide")})}})}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.highchartsColumn",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.viewport=t(e).width(),this.el.data("highchartsColumn","true"),this.chart=!1,this.redraw=!1,this.currentWidth=this.el.width(),this.init=!0,this.currency="EUR",t("body").append('<div class="highcharts-general"><div class="column-in-from"></div><div class="column-in-to"></div><div class="column-out-from"></div><div class="column-out-to"></div></div>'),this.styleEl=t(".highcharts-general"),this.el.hasClass("tile")?(this.columnWidthSmall=15,this.columnWidthBig=30,this.currentColumnWidth=this.viewport<=767?this.columnWidthSmall:this.columnWidthBig,this.groupPaddingSmall=.1,this.groupPaddingBig=.12,this.currentGroupPadding=this.viewport<=767?this.groupPaddingSmall:this.groupPaddingBig,this.twoColumn=!(this.viewport<=767)):(this.columnWidthSmall=15,this.columnWidthMedium=25,this.columnWidthBig=40,this.groupPaddingSmall=.1,this.groupPaddingMedium=.2,this.groupPaddingBig=.25,this.viewport<640&&(this.currentColumnWidth=this.columnWidthSmall,this.currentGroupPadding=this.groupPaddingSmall),this.viewport<1024&&this.viewport>640&&(this.currentColumnWidth=this.columnWidthMedium,this.currentGroupPadding=this.groupPaddingMedium),this.viewport>1024&&(this.currentColumnWidth=this.columnWidthBig,this.currentGroupPadding=this.groupPaddingBig)),this.tooltipAnim=!t("html").hasClass("touch"),this.chartStyles={fontFamily:this.styleEl.css("font-family"),fontSize:this.styleEl.css("font-size"),fontColor:this._rgbToHex(this.styleEl.css("color")),tooltipBg:this._rgbToHex(this.styleEl.css("background-color")),columnBgInFrom:this._rgbToHex(this.styleEl.find(".column-in-from").css("color")),columnBgInTo:this._rgbToHex(this.styleEl.find(".column-in-to").css("color")),columnBgOutFrom:this._rgbToHex(this.styleEl.find(".column-out-from").css("color")),columnBgOutTo:this._rgbToHex(this.styleEl.find(".column-out-to").css("color")),columnWidth:this.currentColumnWidth},this.chartData={label:["KW 6","KW 7","KW 8","KW 9","KW 10","KW 11"],inVal:[4100.11,2050.18,3050.45,4200.26,2600,2760.23],inFormatted:[],outVal:[900.14,1900.87,800.77,1100.56,960.77,780.75],outFormatted:[]},this.chartYMaxValue=parseInt(Math.max.apply(Math,this.chartData.inVal.concat(this.chartData.outVal))),this._formatNumbers(),this.container=this.el.find(".highcharts-container"),this._initHighcharts()},initHighcharts:function(){this._initHighcharts()},_bindEvents:function(){var i=this;this.el.hasClass("tile")?this.el.on("resizeW",function(){i.viewport=t(e).width(),i.redraw=!0,i.viewport<=767&&i.twoColumn?dTaiko.viewportWidth<=dTaiko.oldViewportWidth&&(i.twoColumn=!1,i.currentColumnWidth=i.columnWidthSmall,i.currentGroupPadding=i.groupPaddingSmall):i.viewport>768&&!i.twoColumn&&dTaiko.viewportWidth>dTaiko.oldViewportWidth&&(i.twoColumn=!0,i.currentColumnWidth=i.columnWidthBig,i.currentGroupPadding=i.groupPaddingBig)}):t(i.el.closest(".accordion")).on("resizeW",function(){if(i.viewport=t(e).width(),i.el.closest(".accordion").hasClass("opened")){if(i.currentWidth!==i.el.width())return i.currentWidth=i.el.width(),i.redraw=!0,i.viewport<=640?(i.currentColumnWidth=i.columnWidthSmall,i.currentGroupPadding=i.groupPaddingSmall,void i._initHighcharts()):i.viewport<1024&&i.viewport>640?(i.currentColumnWidth=i.columnWidthMedium,i.currentGroupPadding=i.groupPaddingMedium,void i._initHighcharts()):i.viewport>1024?(i.currentColumnWidth=i.columnWidthBig,i.currentGroupPadding=i.groupPaddingBig,void i._initHighcharts()):void 0;i.currentWidth=i.el.width()}}),this.el.addClass("bound")},_formatNumbers:function(){for(var e=0;e<this.chartData.inVal.length;e++)this.chartData.inFormatted[e]=t.number(this.chartData.inVal[e],2,",",".");for(e=0;e<this.chartData.outVal.length;e++)this.chartData.outFormatted[e]=t.number(this.chartData.outVal[e],2,",",".")},_updateChart:function(){this.chart.redraw()},_comToHex:function(t){var e=t.toString(16);return 1==e.length?"0"+e:e},_rgbToHex:function(t){if("#"===t[0])return t;if("white"===t)return"#ffffff";var e=t.split("(")[1].split(")")[0];return e=e.split(","),"#"+this._comToHex(parseInt(e[0]))+this._comToHex(parseInt(e[1]))+this._comToHex(parseInt(e[2]))},_initHighcharts:function(){if(this.skip)return!1;var i=this;this.skip=!0,this.chart&&(this.chart.destroy(),this.chart=!1),e.setTimeout(function(){i.chart=i.container.highcharts({exporting:{enabled:!1},chart:{height:i.containerHeight,type:"column",backgroundColor:"bks"===dTaiko.currentClient?"transparent":"#ffffff",reflow:!1,borderRadius:0,spacing:[20,20,20,20],renderTo:i.container,style:{fontFamily:i.chartStyles.fontFamily,fontSize:i.chartStyles.fontSize}},tooltip:{shared:!0,backgroundColor:null,borderRadius:0,borderWidth:0,shadow:!1,hideDelay:300,headerFormat:"",useHTML:!0,animation:i.tooltipAnim,style:{fontFamily:i.chartStyles.fontFamily},formatter:function(){var e="";return e+="<span>"+t.number(this.points[0].y,2,",",".")+" "+i.currency+'<div class="cube"></div></span><br />',e+="<span>"+t.number(this.points[1].y,2,",",".")+" "+i.currency+'<div class="cube"></div></span>'}},title:{text:!1},xAxis:{opposite:!0,lineWidth:0,minorGridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0,tickInterval:1,labels:{x:0,y:-20,formatter:function(){return i.chartData.label[this.value]},style:{fontFamily:i.chartStyles.fontFamily,color:i.chartStyles.fontColor,fontWeight:400}}},yAxis:{gridLineDashStyle:"ShortDot",tickInterval:parseInt(i.chartYMaxValue/6),labels:{step:0,maxStaggerLines:1,x:-20,y:0,formatter:function(){return t.number(this.value,2,",",".")+" "+i.currency},style:{fontFamily:i.chartStyles.fontFamily,color:i.chartStyles.fontColor,fontWeight:400}},title:{enabled:!1}},labels:{enabled:!1},legend:{enabled:!1},plotOptions:{column:{borderWidth:0,pointWidth:i.currentColumnWidth},series:{pointPadding:0,groupPadding:i.currentGroupPadding}},credits:{enabled:!1},series:[{name:"Einnahmen",data:i.chartData.inVal,color:{linearGradient:{x1:0,x2:0,y1:0,y1:1},stops:[[0,i.chartStyles.columnBgInTo],[1,i.chartStyles.columnBgInFrom]]}},{name:"Ausgaben",data:i.chartData.outVal,color:{linearGradient:{x1:0,x2:0,y1:0,y1:1},stops:[[0,i.chartStyles.columnBgOutTo],[1,i.chartStyles.columnBgOutFrom]]}}]},function(){i.skip=!1}).highcharts(),i.el.hasClass("bound")||i._bindEvents()},400)}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.highchartsColumnSingle",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.el.data("highchartsColumnSingle","true"),this.chart=!1,this.init=!0,this.currency="EUR",this.shortForms=["Mrd","Mio","Tsd"],t("body").append('<div class="highcharts-general"><div class="column-in-from"></div><div class="column-in-to"></div><div class="column-out-from"></div><div class="column-out-to"></div><div class="zero-line-color"></div></div>'),this.styleEl=t(".highcharts-general"),this.currentColumnWidth=40,this.currentGroupPadding=.28,this.borderRadius="obk"===dTaiko.currentClient?4:"btv"===dTaiko.currentClient?2:0,this.tooltipAnim=!t("html").hasClass("touch"),this.chartStyles={fontFamily:this.styleEl.css("font-family"),fontSize:this.styleEl.css("font-size"),fontColor:this._rgbToHex(this.styleEl.css("color")),tooltipBg:this._rgbToHex(this.styleEl.css("background-color")),columnBgInFrom:this._rgbToHex(this.styleEl.find(".column-in-from").css("color")),columnBgInTo:this._rgbToHex(this.styleEl.find(".column-in-to").css("color")),columnBgOutFrom:this._rgbToHex(this.styleEl.find(".column-out-from").css("color")),columnBgOutTo:this._rgbToHex(this.styleEl.find(".column-out-to").css("color")),columnWidth:this.currentColumnWidth,zeroLineColor:this._rgbToHex(this.styleEl.find(".zero-line-color").css("color")),borderRadius:this.borderRadius},this.update(this.el)},_bindEvents:function(){var i=this;this.el.hasClass("tile")&&this.el.on("resizeW",function(){i.viewport=t(e).width(),i.redraw=!0,i._initHighcharts()}),t(this.container).swipe({allowPageScroll:t.fn.swipe.pageScroll.VERTICAL,excludedElements:"label, button, input, select, textarea, .noSwipe",treshold:dTaiko.swipeTreshold,triggerOnTouchEnd:dTaiko.swipeTriggerOnTouchEnd,swipeLeft:function(){$el=t(".jcarousel-control-next",i.el.closest(".tile-wrapper")),$el2=t(".jcarousel-control-next",i.el.closest(".highcharts-line")),$el.length?$el.trigger("click"):$el2.trigger("click")},swipeRight:function(){$el=t(".jcarousel-control-prev",i.el.closest(".tile-wrapper")),$el2=t(".jcarousel-control-prev",i.el.closest(".highcharts-line")),$el.length?$el.trigger("click"):$el2.trigger("click")}}),this.el.addClass("bound")},update:function(e){var i=this,n=t(e).attr("data-url");n||(n=i.el.find(".jc-item.active").find("a").attr("data-url")),dTaiko.ajax.request(n,function(t){if(!1===t)i.container.closest(".content").addClass("no-data");else{i.chartData=t,i.chartYMaxValue=parseInt(Math.max.apply(Math,i.chartData.inVal.concat(i.chartData.outVal))),i._formatNumbers(),i.container=i.el.find(".highcharts-container"),i.tickInterval=parseInt(i.chartYMaxValue/4).toString()[0];for(var e=0;e<parseInt(i.chartYMaxValue/4).toString().length-1;e++)i.tickInterval+="0";i._initHighcharts()}})},initHighcharts:function(){this._initHighcharts()},_formatNumbers:function(){for(var e=0;e<this.chartData.inVal.length;e++)this.chartData.inFormatted[e]=t.number(this.chartData.inVal[e],2,",",".");for(e=0;e<this.chartData.outVal.length;e++)this.chartData.outFormatted[e]=t.number(this.chartData.outVal[e],2,",",".")},_updateChart:function(){this.chart.redraw()},_comToHex:function(t){var e=t.toString(16);return 1==e.length?"0"+e:e},_rgbToHex:function(t){if("#"===t[0])return t;if("white"===t)return"#ffffff";var e=t.split("(")[1].split(")")[0];return e=e.split(","),"#"+this._comToHex(parseInt(e[0]))+this._comToHex(parseInt(e[1]))+this._comToHex(parseInt(e[2]))},_calcSum:function(){var t=this.chartData.inVal[0]-this.chartData.outVal[0],e=parseInt(this.chartData.inVal[0]-this.chartData.outVal[0]).toString();return t<0&&(e="-"+e),t>0&&(e="+"+e),e},_initHighcharts:function(){if(this.skip)return!1;var i=this;this.skip=!0,this.chart&&(this.chart.destroy(),this.chart=!1),e.setTimeout(function(){i.chart=i.container.highcharts({exporting:{enabled:!1},chart:{height:i.containerHeight,type:"column",backgroundColor:"bks"===dTaiko.currentClient?"transparent":"#ffffff",reflow:!1,borderRadius:0,spacing:[20,20,20,20],renderTo:i.container,style:{fontFamily:i.chartStyles.fontFamily,fontSize:i.chartStyles.fontSize},animation:{duration:750,easing:"swing"}},tooltip:{shared:!0,backgroundColor:null,borderRadius:0,borderWidth:0,shadow:!1,hideDelay:300,headerFormat:"",useHTML:!0,animation:i.tooltipAnim,style:{fontFamily:i.chartStyles.fontFamily},formatter:function(){var e="";return e+="<span>"+t.number(this.points[0].y,2,",",".")+" "+i.currency+'<div class="cube"></div></span><br />',e+="<span>-"+t.number(this.points[1].y,2,",",".")+" "+i.currency+'<div class="cube"></div></span>'}},title:{text:!1},xAxis:{opposite:!0,lineWidth:0,minorGridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0,labels:{x:0,y:-20,formatter:function(){return i.chartData.label[this.value]},style:{fontFamily:i.chartStyles.fontFamily,color:i.chartStyles.fontColor,fontWeight:400}}},yAxis:{gridLineDashStyle:"ShortDot",tickInterval:parseInt(i.tickInterval),labels:{step:0,maxStaggerLines:1,x:-20,y:3,formatter:function(){if(0!==this.value){t.number(this.value,0,",",".");var e=Math.abs(this.value);return e>=1e9?parseInt(e/1e9)+" "+i.shortForms[0]:e>=1e6?parseInt(e/1e6)+" "+i.shortForms[1]:e>=1e3?parseInt(e/1e3)+" "+i.shortForms[2]:parseInt(e)}},style:{fontFamily:i.chartStyles.fontFamily,color:i.chartStyles.fontColor,fontWeight:400}},title:{enabled:!1},plotLines:[{value:0,width:1,dashStyle:"Solid",color:i.chartStyles.zeroLineColor,zIndex:2},{color:"transparent",width:1,value:1e3,label:{text:"Summe: "+i._calcSum(),align:"right",x:-1,y:-8,style:{fontSize:i.chartStyles.fontSize,color:i.chartStyles.fontColor,fontFamily:i.chartStyles.fontFamily}}}]},labels:{enabled:!1},legend:{enabled:!1},plotOptions:{column:{borderWidth:0,borderRadius:i.chartStyles.borderRadius,pointWidth:i.currentColumnWidth,groupPadding:i.currentGroupPadding}},credits:{enabled:!1},series:[{name:"Einnahmen",data:i.chartData.inVal,color:{linearGradient:{x1:0,x2:0,y1:0,y1:1},stops:[[0,i.chartStyles.columnBgInTo],[1,i.chartStyles.columnBgInFrom]]}},{name:"Ausgaben",data:i.chartData.outVal,color:{linearGradient:{x1:0,x2:0,y1:0,y1:1},stops:[[0,i.chartStyles.columnBgOutTo],[1,i.chartStyles.columnBgOutFrom]]}}]},function(){var t=this.axes[1].tickPositions[this.axes[1].tickPositions.length-2];this.yAxis[0].options.plotLines[1].value=t,this.yAxis[0].update(),i.skip=!1}).highcharts(),i.el.hasClass("bound")||i._bindEvents()},400)}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.highchartsLine",{options:{debitLabel:"Soll",creditLabel:"Haben"},_create:function(){var i=this;if(this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.viewport=t(e).width(),this.el.data("highcharts-line",!0),this.chart=!1,this.redraw=!1,this.currentWidth=this.el.width(),this.init=!0,this.currency="EUR",this.shortForms=["Mrd","Mio","Tsd"],this.tickInterval=!1,this.resizeTimeout=!1,t("body").append('<div class="highcharts-general"><div class="point-from"></div><div class="point-to"></div><div class="line-color"></div><div class="zero-line-color"></div><div class="default-line-color"></div></div>'),this.styleEl=t(".highcharts-general"),this.el.hasClass("tile")?this.twoColumn=!(this.viewport<=767):this.twoColumn=!0,this.tooltipAnim=!t("html").hasClass("touch"),this.chartStyles={fontFamily:this.styleEl.css("font-family"),fontSize:this.styleEl.css("font-size"),fontColor:this._rgbToHex(this.styleEl.css("color")),tooltipBg:this._rgbToHex(this.styleEl.css("background-color")),pointFrom:this._rgbToHex(this.styleEl.find(".point-from").css("color")),pointTo:this._rgbToHex(this.styleEl.find(".point-to").css("color")),lineColor:this._rgbToHex(this.styleEl.find(".line-color").css("color")),lineWidth:this.currentLineWidth,zeroLineColor:this._rgbToHex(this.styleEl.find(".zero-line-color").css("color")),defaultLineColor:this._rgbToHex(this.styleEl.find(".default-line-color").css("color"))},this.lineShadow=!(!t("body").hasClass("btv")&&!t("body").hasClass("bks"))&&{color:"#000000",offsetX:1,offsetY:1,opacity:.2,width:2},this.pointRadius=(t("body").hasClass("btv")||t("body").hasClass("bks"),0),this.symbol=t("body").hasClass("btv")?"circle":t("body").hasClass("bks")?"square":"circle",this.defaultLineStyle=t("body").hasClass("btv")||t("body").hasClass("bks")?"ShortDot":"Solid",this.container=this.el.find(".highcharts-container"),!this.el.hasClass("tile")&&this.el.closest(".accordion").hasClass("bound"))return this.el.closest(".accordion").accordion("getFullContent").on("accordionOpened",function(){i.chartData?i._initHighcharts():i.update()}),void this.el.closest(".accordion").accordion("getFullContent").on("accordionClosed",function(){i.chart&&i.chart.destroy(),i.chart=!1});this.update(this.el)},_bindEvents:function(){var i=this;this.el.hasClass("tile")?this.el.on("resizeW",function(){i.viewport=t(e).width(),i.redraw=!0,i.chartData?i._initHighcharts():i.update(),i.viewport<=767?dTaiko.viewportWidth<=dTaiko.oldViewportWidth&&(i.twoColumn=!1):i.viewport>768&&dTaiko.viewportWidth>dTaiko.oldViewportWidth&&(i.twoColumn=!0)}):t(i.el.closest(".accordion")).on("resizeW",function(){e.clearTimeout(i.resizeTimeout),i.resizeTimeout=e.setTimeout(function(){i.viewport=t(e).width(),i.el.closest(".accordion").hasClass("opened")&&(i.currentWidth!==i.el.width()?(i.currentWidth=i.el.width(),i.redraw=!0,i.viewport<=640?i.chartData?i._initHighcharts():i.update():i.viewport<1024&&i.viewport>640?i.chartData?i._initHighcharts():i.update():i.viewport>=1024&&(i.chartData?i._initHighcharts():i.update())):i.currentWidth=i.el.width())},310)}),t(this.container).swipe({allowPageScroll:t.fn.swipe.pageScroll.VERTICAL,excludedElements:"label, button, input, select, textarea, .noSwipe",treshold:dTaiko.swipeTreshold,triggerOnTouchEnd:dTaiko.swipeTriggerOnTouchEnd,swipeLeft:function(){$el=t(".jcarousel-control-next",i.el.closest(".tile-wrapper")),$el2=t(".jcarousel-control-next",i.el.closest(".highcharts-line")),$el.length?$el.trigger("click"):$el2.trigger("click")},swipeRight:function(){$el=t(".jcarousel-control-prev",i.el.closest(".tile-wrapper")),$el2=t(".jcarousel-control-prev",i.el.closest(".highcharts-line")),$el.length?$el.trigger("click"):$el2.trigger("click")}}),this.el.addClass("bound")},update:function(e){var i=this,n=t(e).attr("data-url");n||(n=i.el.find(".jc-item.active").find("a").attr("data-url")),n?dTaiko.ajax.request(n,function(t){!1===t?i.container.closest(".content").addClass("no-data"):(i.container.closest(".content").removeClass("no-data"),i.chartData=t,i.chartYMaxValue=parseInt(i.chartData.maximum),i._formatNumbers(),i._buildSeriesData(),i._initHighcharts())}):console.log("highchartsLine: url for ajax undefined")},reflow:function(){this.el.is(":visible")&&(this.chartData?this._initHighcharts():this.update())},_calcTickInterval:function(){if(this.twoColumn)return parseInt(this.chartYMaxValue/4);this.tickInterval=parseInt(this.chartYMaxValue/2).toString()[0];for(var t=0;t<parseInt(this.chartYMaxValue/2).toString().length-1;t++)this.tickInterval+="0";return parseInt(this.tickInterval)},_formatNumbers:function(){for(var e=0;e<this.chartData.inVal.length;e++)this.chartData.inFormatted[e]=t.number(this.chartData.inVal[e],2,",",".");for(e=0;e<this.chartData.outVal.length;e++)this.chartData.outFormatted[e]=t.number(this.chartData.outVal[e],2,",",".")},_buildSeriesData:function(){for(var t=0;t<this.chartData.inVal.length;t++);},_updateChart:function(){this.chart.redraw()},_comToHex:function(t){var e=t.toString(16);return 1==e.length?"0"+e:e},_rgbToHex:function(t){if("#"===t[0])return t;if("white"===t)return"#ffffff";var e=t.split("(")[1].split(")")[0];return e=e.split(","),"#"+this._comToHex(parseInt(e[0]))+this._comToHex(parseInt(e[1]))+this._comToHex(parseInt(e[2]))},initHighcharts:function(){this._initHighcharts()},_initHighcharts:function(){if(this.skip)return!1;var i=this;this.skip=!0,this.chart&&(this.chart.destroy(),this.chart=!1),e.setTimeout(function(){i.chart=i.container.highcharts({exporting:{enabled:!1},chart:{height:i.containerHeight,width:i.container.width(),type:"line",reflow:!1,borderRadius:0,spacing:[20,20,20,20],renderTo:i.container,backgroundColor:"bks"===dTaiko.currentClient?"transparent":"#ffffff",style:{fontFamily:i.chartStyles.fontFamily,fontSize:i.chartStyles.fontSize}},tooltip:{shared:!0,backgroundColor:null,borderRadius:0,borderWidth:0,shadow:!1,hideDelay:300,headerFormat:"",useHTML:!0,animation:i.tooltipAnim,style:{fontFamily:i.chartStyles.fontFamily},formatter:function(){var e="<span>"+i.chartData.dates[this.x]+"<br />";return e+="<span>"+i.o.creditLabel+": "+t.number(i.chartData.outVal[this.x],2,",",".")+" "+i.currency+"<br />",e+="<span>"+i.o.debitLabel+": -"+t.number(i.chartData.inVal[this.x],2,",",".")+" "+i.currency+"</span>"}},title:{text:!1},xAxis:{opposite:!0,lineWidth:0,minorGridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0,tickInterval:1,labels:{step:i.chartData.xLabelStep,maxStaggerLines:1,staggerLines:1,x:0,y:-20,formatter:function(){return i.chartData.label[this.value]},style:{fontFamily:i.chartStyles.fontFamily,color:i.chartStyles.fontColor,fontWeight:400}}},yAxis:{gridLineDashStyle:i.defaultLineStyle,gridLineColor:i.chartStyles.defaultLineColor,tickInterval:i._calcTickInterval(),max:Math.abs(i.chartYMaxValue),min:-Math.abs(i.chartYMaxValue),labels:{step:0,maxStaggerLines:1,x:-20,y:3,formatter:function(){if(0!==this.value){var e=t.number(this.value,0,",",".");if(!i.twoColumn){var n=Math.abs(this.value);return n>=1e9?parseInt(n/1e9)+" "+i.shortForms[0]:n>=1e6?parseInt(n/1e6)+" "+i.shortForms[1]:n>=1e3?parseInt(n/1e3)+" "+i.shortForms[2]:parseInt(n)}return e[0],e}},style:{fontFamily:i.chartStyles.fontFamily,color:i.chartStyles.fontColor,fontWeight:400}},title:{enabled:!1},plotLines:[{value:0,width:1,dashStyle:"Solid",color:i.chartStyles.zeroLineColor,zIndex:2}]},labels:{enabled:!1},legend:{enabled:!1},plotOptions:{series:{pointPadding:0,allowPointSelect:!1,marker:{radius:i.pointRadius,symbol:i.symbol,fillColor:{linearGradient:[0,0,0,300],stops:[[0,i.chartStyles.pointFrom],[1,i.chartStyles.pointTo]]}}},line:{shadow:i.lineShadow,states:{hover:{enabled:!1}}}},credits:{enabled:!1},series:[{name:"Entwicklung",data:i.chartData.seriesData,color:i.chartStyles.lineColor}]},function(){i.skip=!1}).highcharts(),i.el.hasClass("bound")||i._bindEvents()},400)}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.highchartsPie",{options:{maxChartWidth:null,top:null,zeroDisplayInLegend:null,obkDashboard:!1},_create:function(){switch(this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.chart=!1,this.unit="%",this.currency="EUR",t("body").append('<div class="highcharts-general"><div class="highcharts-general-pie"></div></div>'),this.parts=0,this.styleElGeneral=t(".highcharts-general"),this.styleEl=t(".highcharts-general-pie"),this.borderRadius="obk"===dTaiko.currentClient?4:"btv"===dTaiko.currentClient?2:0,this.navigationColors={obk:{activeColor:"#c90000",inactiveColor:"#445B62"},btv:{activeColor:"#2A5E83",inactiveColor:"#929799"},bks:{activeColor:"#e33010",inactiveColor:"#58595b"}},dTaiko.currentClient){case"obk":this.navCol=this.navigationColors.obk;break;case"btv":this.navCol=this.navigationColors.btv;break;case"bks":this.navCol=this.navigationColors.bks}this.chartStyles={fontFamily:this.styleEl.css("font-family"),fontSize:this.styleEl.css("font-size"),fontColor:this._rgbToHex(this.styleEl.css("color")),tooltipBg:this._rgbToHex(this.styleElGeneral.css("background-color")),borderRadius:this.borderRadius},this.tooltipAnim=!t("html").hasClass("touch"),this.container=this.el.find(".highcharts-container"),this.label="",this.sizePie="",this.centerHorizontal=null,this.container.hasClass("js-highchart-pie-resize")&&(this.sizePie=150,this.centerHorizontal=80),this.update(this.el)},initHighcharts:function(){this._initHighcharts()},update:function(e){var i=this,n=t(e).attr("data-url");i.htmlEl;n||(n=i.el.find(".jc-item.active").find("a").attr("data-url")),n?dTaiko.ajax.request(n,function(t){!1===t?i.container.closest(".content").addClass("no-data"):(i.chartData=t,i.parts=t.value.length,i._buildPieParts(),i._formatNumbers(),i._initHighcharts())}):console.log("highchartsPie: url for ajax undefined")},_bindEvents:function(){var e=this;dTaiko.scopes.dashboard||this.el.on("resizeW",function(){dTaiko.viewportWidth<=767?e.o.maxChartWidth=null:e.o.maxChartWidth=550,e.redraw=!0,e.chartData?e._initHighcharts():e.update()}),t(this.container).swipe({allowPageScroll:t.fn.swipe.pageScroll.VERTICAL,excludedElements:"label, button, input, select, textarea, .noSwipe",treshold:dTaiko.swipeTreshold,triggerOnTouchEnd:dTaiko.swipeTriggerOnTouchEnd,swipeLeft:function(){$el=t(".jcarousel-control-next",e.el.closest(".tile-wrapper")),$el2=t(".jcarousel-control-next",e.el.closest(".highcharts-pie")),$el.length?$el.trigger("click"):$el2.trigger("click")},swipeRight:function(){$el=t(".jcarousel-control-prev",e.el.closest(".tile-wrapper")),$el2=t(".jcarousel-control-prev",e.el.closest(".highcharts-pie")),$el.length?$el.trigger("click"):$el2.trigger("click")}}),this.el.addClass("bound")},_handleLegendTooltipHover:function(){var e=this;t(".highcharts-legend .highcharts-legend-item > span",e.el).each(function(i,n){t(n).hover(function(){e.chart.tooltip.refresh(e.chart.series[0].data[i])},function(){e.chart.tooltip.hide()})})},_updateChart:function(){this.chart.redraw()},_comToHex:function(t){var e=t.toString(16);return 1==e.length?"0"+e:e},_rgbToHex:function(t){if("#"===t[0])return t;if("white"===t)return"#ffffff";var e=t.split("(")[1].split(")")[0];return e=e.split(","),"#"+this._comToHex(parseInt(e[0]))+this._comToHex(parseInt(e[1]))+this._comToHex(parseInt(e[2]))},_formatNumbers:function(){for(var e=0;e<this.parts;e++)this.chartData.valueTotalFormatted[e]=t.number(this.chartData.valueTotal[e],2,",",".")},_buildPieParts:function(){if(this.o.obkDashboard)return this.chartStyles.pieFrom1="#c90000",this.chartStyles.pieTo1="#c90000",this.chartStyles.pieFrom2="#00456d",this.chartStyles.pieTo2="#00456d",this.chartStyles.pieFrom3="#3c6266",this.chartStyles.pieTo3="#3c6266",this.chartStyles.pieFrom4="#a2babf",this.chartStyles.pieTo4="#a2babf",void(this.chartData.colors=[{legend:"linear-0"},{legend:"linear-1"},{legend:"linear-2"},{legend:"linear-3"}]);for(var e=1;e<=10;e++)t(".highcharts-general-pie").append('<div class="pie-from-'+e+'"></div><div class="pie-to-'+e+'"></div>');for(e=1;e<=this.parts;e++)this.chartStyles["pieFrom"+e]=this._rgbToHex(this.styleEl.find("."+this.chartData.colors[e-1].from).css("color")),this.chartStyles["pieTo"+e]=this._rgbToHex(this.styleEl.find("."+this.chartData.colors[e-1].to).css("color"))},_initHighcharts:function(){if(this.skip)return!1;var i=this;this.skip=!0,this.chart&&(this.chart.destroy(),this.chart=!1);var n=[];for(pc=0;pc<i.parts;pc++)n.push({y:i.chartData.value[pc],name:i.chartData.label[pc],color:{linearGradient:{y1:0,y2:1},stops:[[0,i.chartStyles["pieFrom"+(pc+1)]],[1,i.chartStyles["pieTo"+(pc+1)]]]}});e.setTimeout(function(){i.chart=i.container.highcharts({exporting:{enabled:!1},chart:{borderRadius:0,spacing:[20,20,20,20],renderTo:i.container,margin:i.el.hasClass("tile")?[null]:[60,null,60,null],backgroundColor:"bks"===dTaiko.currentClient?"transparent":"#ffffff",width:i.o.maxChartWidth,events:{load:function(){i._handleLegendTooltipHover()}},style:{fontFamily:i.chartStyles.fontFamily,fontSize:i.chartStyles.fontSize}},legend:{itemStyle:{cursor:"default"},align:"right",layout:"vertical",padding:5,symbolHeight:0,symbolWidth:0,symbolRadius:0,verticalAlign:"top",borderWidth:0,itemMarginTop:5,itemMarginBottom:5,labelFormatter:function(){i.label="",i.o.zeroDisplayInLegend&&0===this.y?i.label=i.o.zeroDisplayInLegend:this.y%1!=0?i.label=t.number(this.y,2,",","."):i.label=this.y,i.label+=i.unit;var e=i.chartData.colors[this.x].legend;return'<div class="column first"><span class="highcharts-pie name">'+dTaiko.util.escapeHtml(this.name)+'</span><br /><span class="highcharts-pie value">'+dTaiko.util.escapeHtml(i.label)+'</span></div><div class="column right"><div class="cube '+dTaiko.util.escapeHtml(e)+'"></div></div>'},navigation:{activeColor:i.navCol.activeColor,animation:!0,arrowSize:12,inactiveColor:i.navCol.inactiveColor,style:{fontSize:"12px",fontFamily:i.chartStyles.fontFamily}},useHTML:!0},tooltip:{shared:!0,backgroundColor:"transparent",borderRadius:i.chartStyles.borderRadius,borderWidth:0,shadow:!1,hideDelay:300,animation:i.tooltipAnim,headerFormat:"",style:{fontFamily:i.chartStyles.fontFamily},formatter:function(){return'<div class="column first"><div class="wrapper"><span class="highcharts-pie-tooltip name">'+dTaiko.util.escapeHtml(this.key)+'</span><br/><span class="highcharts-pie-tooltip value">'+i.chartData.valueTotalFormatted[this.point.x]+" "+i.currency+'</span></div><div class="column"><div class="cube linear-'+this.point.x+'"></div></div></div>'},useHTML:!0},title:{text:!1},xAxis:{opposite:!0,lineWidth:0,minorGridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0,tickInterval:1,labels:{x:0,y:-20,formatter:function(){return i.chartData.label[this.value]},style:{fontFamily:i.chartStyles.fontFamily,color:i.chartStyles.fontColor,fontWeight:400}}},yAxis:{gridLineDashStyle:"ShortDot",tickInterval:parseInt(i.chartYMaxValue/6),labels:{step:0,maxStaggerLines:1,x:-20,y:0,formatter:function(){return t.number(this.value,2,",",".")+" "+i.currency},style:{fontFamily:i.chartStyles.fontFamily,color:i.chartStyles.fontColor,fontWeight:400}},title:{enabled:!1}},labels:{enabled:!1},plotOptions:{pie:{states:{hover:{halo:{size:0}}},center:[i.centerHorizontal,i.centerTop],size:i.sizePie,borderWidth:0,innerSize:"obk"===dTaiko.currentClient?75:0,allowPointSelect:!0,cursor:"default",dataLabels:{enabled:!1},showInLegend:!0,shadow:{color:"btv"===dTaiko.currentClient?"#000000":"transparent",offsetX:0,offsetY:1,opacity:.1,width:2},minSize:150,slicedOffset:0,point:{events:{legendItemClick:function(){return!1}}}},series:{pointPadding:0,groupPadding:i.currentGroupPadding}},credits:{enabled:!1},series:[{type:"pie",data:n}]},function(){i.skip=!1}).highcharts(),i.el.hasClass("bound")||i._bindEvents()},400)}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.bicsearch",{options:{serviceUrl:void 0,onChange:!1},_create:function(){this.el=this.element,this.htmlEl=this.element.get(0),this.isActive=!1,this.hasError=!1,this.additionalFields=t(this.el).find(".bic-search"),this.inputEl=t(this.el).find(".bic-input-field"),this.autocomplete={},this.errorIcon=t("<span class='db-icon-wrapper error-tip' data-title='Wir konnten leider keinen Treffer finden.' original-title=''><i class='dbit-icons'>error_filled</i></span>"),this.ac=!1,this.isAutocompleteChange=!1,this.o=this.options,this.handler=void 0,this._bindEvents()},_bindEvents:function(){var e=this;t(e.el).on("click",".trigger-bicsearch",function(i){clearTimeout(e.handler),t(this).toggleClass("active"),t(i.delegateTarget).toggleClass("active"),e.isActive=!e.isActive,e.isActive?(e.inputEl.trigger("focus"),e._initAutocomplete()):(e.hasError&&(e.additionalFields.removeClass("visible"),e.inputEl.parent().removeClass("error").find(".error-tip").remove(),e.autocomplete.autocomplete("dispose")),e.inputEl.off(".bicsearch").off("change.bicsearch"),e.autocomplete.autocomplete("disable"))}),e._initOnChange()},_initAutocomplete:function(){var e=this;e.autocomplete=e.inputEl.autocomplete({serviceUrl:this.o.serviceUrl,lookup:this.o.serviceUrl?void 0:[{value:"No Service URL",data:"error"}],minChars:2,maxHeight:150,width:"auto",formatResult:function(t,e){return'<span class="name">'+t.value.replace(new RegExp("("+e+")","gi"),"<strong>$1</strong>")+"</span>"+"<br/>"+('<span class="bic">'+t.data+"</span>")},onSelect:function(i){e.isAutocompleteChange=!0,e.inputEl.removeClass("ac-active"),"error"!==i.data?(t(e.el).removeClass("active"),e.isActive=!1,e.inputEl.val(i.data),e.o.onChange(),e.autocomplete.autocomplete("dispose")):(e.hasError=!0,e.inputEl.parent().addClass("error").prepend(e.errorIcon),dTaiko.initTipsyError(),e.additionalFields.addClass("visible"))},beforeRender:function(){e.inputEl.addClass("ac-active")}})},_initOnChange:function(){var t=this;this.inputEl.on("change.bicsearch",function(){t.handler=e.setTimeout(function(){t.isAutocompleteChange||t.isActive||t.o.onChange(),t.isAutocompleteChange=!1,t.handler=void 0},500)})}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.wpsearch",{options:{onChange:!1},_create:function(){this.el=this.element,this.htmlEl=this.element.get(0),this.isActive=!1,this.hasError=!1,this.inputEl=t(this.el),this.autocomplete={},this.errorIcon=t("<span class='db-icon-wrapper error-tip' data-title='Wir konnten leider keinen Treffer finden.' original-title=''><i class='dbit-icons'>error_filled</i></span>"),this.ac=!1,this.isAutocompleteChange=!1,this.o=this.options,this._bindEvents()},_bindEvents:function(){this._initAutocomplete()},_initAutocomplete:function(){var e=this;e.autocomplete=e.inputEl.autocomplete({lookup:[{value:"Apple",data:{currency:"EUR",number:"456789123"},category:"Aktie"},{value:"APPMADILLO BANKING LONG NAME",data:{currency:"USD",number:"456789123"},category:"Aktie"},{value:"Billion LTD",data:{currency:"EUR",number:"456789123"},category:"Aktie"},{value:"Apple",data:{currency:"EUR",number:"456789123"},category:"Brsennotierter Fond"},{value:"Billion LTD",data:{currency:"EUR",number:"456789123"},category:"Brsennotierter Fond"},{value:"Apple",data:{currency:"EUR",number:"456789123"},category:"Hedge Fond"}],minChars:2,maxHeight:250,width:"auto",categories:!0,formatResult:function(t,e){return'<span class="stock-name">'+t.value.replace(new RegExp("("+e+")","gi"),"<strong>$1</strong>")+"</span>"+('<span class="stock-curr align-center">'+t.data.currency+'</span><span class="stock-no align-right">'+t.data.number+"</span>")},onSelect:function(t){},beforeRender:function(i){t(i).addClass("depot-grouped-autocomplete").append("<div class='suggestions-counter'>1722 Ergebnisse gefunden</div>"),e.inputEl.addClass("ac-active")}})}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.tableSaw",{options:{selectTemplate:'<label class="aural" for="tablesaw-select">Whlen Sie die Spalten der Tabelle die angezeigt werden sollen</label><select id="tablesaw-select" multiple="multiple">',selectTemplateClose:"</select>",title:"Tabelle anpassen",preSelectedColumns:!1,onChangeSelection:!1},_create:function(){this.el=this.element,this.htmlEl=this.element.get(0),this.multiselect=null,this.lastVisibleCol=null,this.isMobileAppended=!1,this.initialResize=!0,this.preselectedSet=!1,this.appendScope=t("body").hasClass("job-management-search")?this.el.closest(".search-result-block"):t("body").hasClass("depot-overview")?this.el.closest(".depot-position-list"):t("#content"),this.headerEl=t(this.el).find(".content-header:first"),this.resizeHelper=t(".accordion-group-wrapper",this.el),this.resizeHandle=t('<div class="ghost-handle" />').appendTo(".accordion-group-wrapper:first",this.el),this.contentEl=t(this.el).find(".accordion-group-wrapper"),this.trigger=t(this.headerEl).find(".header-button-wrapper"),this.mobileTrigger=t(".mobile-header-button-wrapper",this.appendScope),this.supportedCols=t(this.el).data("supported-cols"),this.maxCols=this.supportedCols[1]-this.supportedCols[0],this.visibleCols=this.maxCols,this.columns=[],this.menuTpl=this.options.selectTemplate,this._buildToggleMenu()},_buildToggleMenu:function(){for(var e=this.supportedCols[0],i="";e<this.supportedCols[1];){var n=' selected="selected"';this.options.preSelectedColumns&&this.options.preSelectedColumns.constructor===Array&&-1===t.inArray(e,this.options.preSelectedColumns)&&(n=""),this.headerEl.find(".col-"+e+" span").is(":visible")&&((i=this.headerEl.find(".col-"+e+" span").clone()).find(".no-show").remove().end(),(i=t(i[0])).find("br").replaceWith(" "),this.menuTpl+='<option name="tablesawPicker" value="col-'+e+'"'+n+">"+i.text()+"</option>",this._fetchColumns("col-"+e)),e++}this.menuTpl+=this.options.selectTemplateClose,t(this.trigger).append(t(this.menuTpl)),this._initMultiselect()},_initMultiselect:function(){var e=this,i=[];i.LBL_ORDERSTATE_ADJUST=jQuery.i18n.map.LBL_ORDERSTATE_ADJUST,t(e.trigger).find("select").multiselect({buttonContainer:'<div class="header-button tablesaw-menu-wrapper vc vp" />',includeSelectAllOption:!1,templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"></button><div class="multiselect-container-header">'+i.LBL_ORDERSTATE_ADJUST+"</div>"},checkboxName:"tablesawPicker",buttonText:function(t,e){return'<span class="db-icon-wrapper vc vp"><i class="dbit-icons">edit_table</i></span>'},buttonTitle:function(){return e.options.title},onChange:function(t,i){if(e.isMobileAppended)var n=e.mobileTrigger;else n=e.el;e.options.onChangeSelection&&e.options.onChangeSelection(t,i,this.$select),e._changeHandler(t,i,e,this,n)}}),t("input[name=tablesawPicker]").picker({customClass:"default vc vp"}),e._menuToggle()},_menuToggle:function(){t(this.trigger).on("click",".dropdown-toggle",function(e){e.stopPropagation();var i=t(e.delegateTarget);i.hasClass("open")?i.removeClass("open"):(i.addClass("open"),t("html").one("click",function(t){i.removeClass("open")}).on("keyup",function(t){27===t.which&&i.removeClass("open").focus()}))}),dTaiko.viewportWidth<640&&(this.mobileTrigger.children(".header-button-wrapper").remove(),this.mobileTrigger.append(this.trigger),this.isMobileAppended=!0),this._watch()},_changeHandler:function(e,i,n,o,s){var r=t(e).val();t("option:selected",n.options.preSelectedColumns?o[0]:o.$select).length;n.oldVisibleCols=n.visibleCols,!1===i?(t(n.columns[r],n).removeClass("ts-visible").addClass("ts-hidden"),n.visibleCols--,1===n.visibleCols&&(n.lastVisibleCol=t('input[name="tablesawPicker"]:checked',s).picker("disable").val(),t(n.columns[n.lastVisibleCol],n).addClass("ts-visible"))):(t(n.columns[r],n).removeClass("ts-hidden").addClass("ts-visible"),n.visibleCols++,2===n.visibleCols&&(t('input[name="tablesawPicker"]:disabled',s).picker("enable"),n.lastVisibleCol=null)),n._updateContainerClass(!0)},_fetchColumns:function(e){this.columns[e]=t(".column-wrapper",this.headerEl).add(".row-head",this.contentEl).find("."+e).addClass("resaw")},_watch:function(){var i=this;t(i.resizeHandle).resize(function(n){e.clearTimeout(this.updateTimeout),this.updateTimeout=e.setTimeout(function(){var e=i.supportedCols[1];if(i.colsHiddenByCss=t(i.headerEl).find('[class^="col-"]:hidden'),i.isMobileAppended?$inputWrapper=t(i.mobileTrigger):$inputWrapper=t(".header-button-wrapper",i.el),i.options.preSelectedColumns&&i.options.preSelectedColumns.constructor===Array&&!i.preselectedSet){e=i.options.preSelectedColumns&&1===i.options.preSelectedColumns.length?i.supportedCols[1]:i.supportedCols[1]-1;var n=t(i.trigger).find("select"),o=i.supportedCols[0],s=!0;if(i.isMobileAppended)var r=i.mobileTrigger;else r=i.el;for(i.visibleCols=i.options.preSelectedColumns&&1===i.options.preSelectedColumns.length?i.maxCols:i.maxCols-i.options.preSelectedColumns.length;o<=e;)s=!0,-1===t.inArray(o,i.options.preSelectedColumns)&&(s=!1),i._changeHandler(t('option[value="col-'+o+'"]',n),s,i,n,r),o++;i.preselectedSet=!0}else if(t("input",$inputWrapper).each(function(){$this=t(this),$this.prop("checked",!0).picker("update")}),i.colsHiddenByCss.length>0){i.oldVisibleCols=i.visibleCols;var a=[];for(o=0;o<i.colsHiddenByCss.length;o++)a.push(t(i.colsHiddenByCss[o]).data("desc"));for(o=0;o<a.length;o++)t('input[value="'+a[o]+'"]',$inputWrapper).attr("checked",!1).picker("update");i.visibleCols=i.maxCols-a.length,i.initialResize?i.initialResize=!1:i._updateContainerClass(!1)}else i.visibleCols=i.maxCols,i._updateContainerClass(!1)},200),i._handleTriggerPosition()}),t(i.resizeHandle).resize()},_handleTriggerPosition:function(){var i=this;t(e).off("mobileViewport.tablesaw").on("mobileViewport.tablesaw",function(){i.mobileTrigger.append(i.trigger),i.isMobileAppended=!0}).on("desktopViewport",function(){i.headerEl.find(".column-wrapper").append(i.trigger),i.isMobileAppended=!1})},_updateContainerClass:function(e){this.maxCols!==this.visibleCols?(e||this.oldVisibleCols!==this.visibleCols&&t(this.el).hasClass("ts-visible-"+this.oldVisibleCols))&&t(this.el).removeClass("ts-visible-"+this.oldVisibleCols).addClass("ts-visible-"+this.visibleCols):t(this.el).removeClass("ts-visible-"+this.oldVisibleCols)}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.buttonSearchInput",{options:{elementClass:".search-button-to-input",action:function(){e.location.href="./index-auftragsverwaltung-suche.shtml"}},_create:function(){this.o=this.options,this.el=this.element,this.submitButton=this.element.find(".submit-div"),this.submitForm=this.element.find("form"),this.inputEl=this.element.find("input"),this._bindEvents()},_bindEvents:function(){var i=this;i.submitButton.on("click",function(n){if(t(".job-management").hasClass("has-marked")&&"undefined"!=typeof DBEG&&e.cancelSelectionPopUp(),!t(".search-button-to-input").hasClass("active")){dTaiko.viewportWidth<640&&t(".selectors").hide(),i._toggle(n),t("body").addClass("job-management-search");var o=t(".close-div").clone();o.css("display","inherit"),dTaiko.tipsy.initTipsyWithData(o),dTaiko.tipsy.hideTipsy(),o.on("click",function(){i._close(),o.remove(),t("body").removeClass("job-management-search"),t(".job-management").hasClass("has-marked")&&"undefined"!=typeof DBEG&&e.cancelSelectionPopUp(),"undefined"!=typeof DBEG&&e.resetSearchfield()}),t(".search-button-to-input").after(o)}}),i.submitForm.on("submit",function(t){t.preventDefault(),t.stopPropagation(),i.o.action()})},_toggle:function(e){var i=this;t(this.el).hasClass("active")||(e.preventDefault(),e.stopPropagation(),this.el.addClass("active").find(".submit-div").off(".search").on("click.search",function(){i.o.action()}),this.inputEl.focus())},_close:function(){this.el.removeClass("active").find(".submit-div").off(".search"),dTaiko.viewportWidth<640&&t(".selectors").show()}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.buttonSelectToggle",{options:{listToFilter:".accordion-group-wrapper.job-management",forceHtml:!1},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.buttons=t(".selector-toggle",this.el),this.mobile=!1,this.block=!1,!1===this.o.forceHtml?(this.newSelect=t('<div class="switch-current current"><select name="switchbuttons"></select></div>'),this.currentSelect=t('<div class="current-select current">')):(this.newSelect=t(".switch-current",this.el),this.currentSelect=t(".current-select",this.el)),this._bindEvents()},_bindEvents:function(){var i=this;!1===i.o.forceHtml&&(this.buttons.on("click",function(){if(t(this).hasClass("current")){if(t(this).hasClass("current"))return!1;i._toggle(t(this)),t(this).hasClass("management")||i._filterJobs(t("option:selected",this).val())}}),t("select",i.selectors).on("change",function(){var e=t("option:selected",this).val();switch(t(this).attr("id")){case"select-jobs":case"select-status":i._filterJobs(e);break;case"select-management":i._filterManagement(e)}})),t(e).width()>=640?i._desktopButtons():i._mobileButtons(),t(e).on("mobileViewport",function(){i._mobileButtons()}),t(e).on("desktopViewport",function(){i._desktopButtons()})},_toggle:function(e){this.buttons.removeClass("current"),t(e).addClass("current")},_filterJobs:function(e){t(".accordion.job",this.o.listToFilter).hide(),t(".accordion.job",this.o.listToFilter).filter(function(i){return t(this).hasClass(e)}).fadeIn(300)},_filterManagement:function(t){top.location.href=t},_mobileButtons:function(){var e=this,i=t("body").hasClass("job-management-search");e.buttons.hide(),!1===e.o.forceHtml&&(t("option",e.newSelect).length||(e.buttons.each(function(i,n){var o=t('<option value="'+t(n).attr("href")+'">'+t(".title",n).text()+"</option>");t(n).hasClass("current")&&(o.attr("selected","selected"),e.currentSelect.append(t("select",this).clone(!0)),t("select",e.currentSelect).removeClass("selecter-element")),t("select",e.newSelect).append(o)}),e.el.append(e.newSelect),i||e.el.append(e.currentSelect))),i?(Modernizr.touch&&t(e.newSelect).show().find("select").prepend('<option selected="selected" value="#">Gehe zu:</option>'),!1===e.o.forceHtml?t(e.newSelect).find("select").selecter({customClass:"selecter"}):e.newSelect.show()):!1===e.o.forceHtml?(t(e.newSelect).show().find("select").selecter({customClass:"selecter"}),t(e.currentSelect).show().find("select").selecter({customClass:"selecter"}),e._handleMobileButtons()):(e.newSelect.show(),e.currentSelect.show())},_desktopButtons:function(){this.buttons.show(),!1===this.o.forceHtml?(t(this.newSelect).length&&this.newSelect.hide(),t(this.currentSelect).length&&this.currentSelect.hide()):(this.newSelect.hide(),this.currentSelect.hide())},_handleMobileButtons:function(){t("select",this.newSelect).on("change",function(){top.location.href=t("option:selected",this).val()})}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.jobsign",{options:{anchorElement:"#content",targetAccordion:".outer-accordion-wrapper-out.job-management .content",onBeforeToggle:!1,onBeforeToggleAll:!1,onBeforeSigning:!1,onCancelSigning:!1},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.contentHeader=t(".content-header",this.el),this.accordionGroupWrapper=t(".accordion-group-wrapper.job-management",this.el),this.markedActions=!!t(".marked-jobs").length&&t(".marked-jobs"),this.anchorElement=this.markedActions&&this.markedActions.data("anchor-element")?this.markedActions.data("anchor-element"):this.o.anchorElement,this.anchorElementOffset=t(this.anchorElement).offset(),this.stickyPresent=!!t(".sticky-wrapper").length,this.jobsNotification=t(".jobs-notification",this.markedActions),this.ctaButton=t(".cta-button.regular",this.markedActions),this.deleteButton=t("div.delete",this.markedActions),this.cancelButton=t(".cta-button-plain.cancel",this.markedActions),this.markedSorter=t(".sort-marked",this.el),this.anchorOffsetLeft=parseInt(t(this.anchorElement).offset().left),this.offsetTopByClient=t(".db-meta-navigation-wrapper").outerHeight()+t(".db-header").outerHeight()+10,"obk"==dTaiko.currentClient||dTaiko.currentClient,this._bindEvents()},_bindEvents:function(){var e=this;t(e.o.targetAccordion).on("accordionOpened",function(){var e=this;setTimeout(function(){t(e).redraw()},100)}),e.markedSorter.on("click keydown",function(i){if(!(e.accordionGroupWrapper.find(".accordion.job.open").length>0||t(".new-transaction-container.accordion.open").length>0)){if(13==i.keyCode||"click"==i.type){if(!t(".accordion.job:visible",e.accordionGroupWrapper).not(".not-markable").length)return;t(this).toggleClass("active"),t(this).hasClass("active")?e._toggleAllMarkers(!0):e._toggleAllMarkers(!1)}e.o.onBeforeToggleAll?e.o.onBeforeToggleAll(e.el):e.toggle()}}),t(".marker",e.accordionGroupWrapper).on("click keydown",function(i){e.accordionGroupWrapper.find(".accordion.job.open").length>0||t(".new-transaction-container.accordion.open").length>0||(13!=i.keyCode&&"click"!=i.type||e._toggleRow(t(this)),e.acc=t(this).closest(".job"),e.o.onBeforeToggle?e.o.onBeforeToggle(e.el,e.acc):e.toggle())}),e.ctaButton.off(dTaiko.stdEvent+" keydown").on(dTaiko.stdEvent+" keydown",function(t){13!=t.keyCode&&"click"!=t.type||(e.o.onBeforeSigning?e.o.onBeforeSigning(e.el):e.openSigning(),e._toggleAllMarkers(!1))}),e.cancelButton.off(dTaiko.stdEvent+" keydown").on(dTaiko.stdEvent+" keydown",function(t){13!=t.keyCode&&"click"!=t.type||(e.o.onCancelSigning?e.o.onCancelSigning(e.el):e.closeSigning())})},_bindResize:function(){var i=this;i.anchorElementOffset&&dTaiko.viewportWidth>640&&t(e).off("desktopViewport.markedJobs").on("scroll.markedJobs",function(t){i._calculateMarkedActionsTop(i)}).on("mobileViewport.markedJobs",function(t){i._handleMarkedActionsMobile(i)})},_handleMarkedActionsMobile:function(i){i.markedActions.css({top:"",width:""}),i._unbindResize(),t(e).on("desktopViewport.markedJobs",function(){i._calculateMarkedActionsTop(i),i._bindResize()})},_unbindResize:function(){t(e).off("scroll.markedJobs mobileViewport.markedJobs")},_calculateMarkedActionsTop:function(n,o){n.currTop=n.offsetTopByClient-t(e).scrollTop();var s=i.getElementById("delete_marked_button"),r=i.getElementById("delete_marked_tipsy");if(s&&r){var a=s.getBoundingClientRect().bottom;r.style.top=a+15+"px",r.style.position="fixed"}n.currTop<=10?n.markedActions.css({top:10}):n.markedActions.css({top:n.currTop}),o&&o()},_toggleAllMarkers:function(e){this.allJobsMarkable=t(".accordion.job",this.accordionGroupWrapper).not(".not-markable"),e?this.allJobsMarkable.addClass("marked"):this.allJobsMarkable.removeClass("marked")},_toggleRow:function(e){t(e).closest(".job").not(".not-markable").toggleClass("marked")},toggle:function(){if(t(".accordion.job",this.accordionGroupWrapper).hasClass("marked"))t(this.accordionGroupWrapper).parents(this.el).addClass("has-marked"),this.stickyPresent&&t(".sticky-element").stickyElement().stickyElement("cancelSticky"),dTaiko.viewportWidth<=640?(this._handleMarkedActionsMobile(this),this.markedActions.fadeIn()):(this._calculateMarkedActionsTop(this),this.markedActions.fadeIn(),this._bindResize()),t(".job-management .job-management-table-wrapper.has-marked").length>1&&this._setMarkedActionsInactive();else switch(t(this.accordionGroupWrapper).parents(this.el).removeClass("has-marked"),t(".job-management-table-wrapper.has-marked").length){case 0:this._setMarkedActionsActive(),this.markedActions.fadeOut("fast"),this._unbindResize(),this.markedSorter.removeClass("active");break;case 1:this._setMarkedActionsActive(),t(".job-management-table-wrapper.has-marked").hasClass("status")?(this.markedActions.addClass("simple"),this.jobsNotification.hide()):(this.markedActions.removeClass("simple"),this.jobsNotification.show());break;case 2:this._setMarkedActionsInactive(),this.markedActions.removeClass("simple"),t(".job-management-table-wrapper.has-marked").hasClass("status")&&this.jobsNotification.show()}this._updateCount()},_setMarkedActionsInactive:function(){this.jobsNotification.addClass("inactive"),this.ctaButton.addClass("disabled"),this.deleteButton.addClass("disabled")},_setMarkedActionsActive:function(){this.jobsNotification.removeClass("inactive"),this.ctaButton.removeClass("disabled"),this.deleteButton.removeClass("disabled")},_updateCount:function(){t(".job-count",this.markedActions).html(t(".accordion-group-wrapper.job-management .job.marked").length)},openSigning:function(){this.markedSorter.removeClass("active"),this.markedActions.fadeOut("fast")},closeSigning:function(){this.markedSorter.removeClass("active"),this._toggleAllMarkers(!1),this.toggle()},initialiseButtonTriggers:function(){var e=this;e.markedActions.length&&t(".cta-button.regular",e.markedActions).off("click keydown").on("click keydown",function(t){13!=t.keyCode&&"click"!=t.type||(e.o.onBeforeSigning?e.o.onBeforeSigning(e.el):e.openSigning(),e._toggleAllMarkers(!1))}),t(".cta-button-plain.cancel",e.markedActions).off("click keydown").on("click keydown",function(t){13!=t.keyCode&&"click"!=t.type||(e.o.onCancelSigning?e.o.onCancelSigning(e.el):e.closeSigning())})}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.handleCurrency",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.isChecked=!1,this._bindEvents()},_bindEvents:function(){var e=this;this.isChecked=this.el.is(":checked"),this.el.on("change",function(){$this=t(this),e.isChecked=$this.is(":checked"),e._toggle()}),this._toggle()},_toggle:function(){if($originalElements=t(".currency-orig"),$euroElements=t(".currency-eur"),this.isChecked)return $originalElements.hide(0),void $euroElements.show(0);$euroElements.hide(0),$originalElements.show(0)}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.dashboardFilter",{options:{beforeToggleOpen:null,beforeToggleClose:null},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.disableToggle=!1,this.state=0,this.target=this.el.data("target").split(","),this.targets=[],this._bindEvents()},_bindEvents:function(){for(var e=this,i=0;i<this.target.length;i++)this.targets.push(t(this.target[i]));this.el.on(dTaiko.stdEvent,function(){e.toggle()})},toggle:function(){var t=this;this.disableToggle||(this.disableToggle=!0,0===this.state?(this.el.on("beforeToggleDone",function(){t.el.off("beforeToggleDone"),t._toggle()}),this.o.beforeToggleTile?this.o.beforeToggleTile(this.el):this.el.trigger("beforeToggleDone")):(this.el.on("beforeToggleDone",function(){t.el.off("beforeToggleDone"),t._toggle()}),this.o.beforeToggleList?this.o.beforeToggleList(this.el):this.el.trigger("beforeToggleDone")))},_toggle:function(){this.state=0===this.state?1:0,this.disableToggle=!1;for(var e=0;e<this.targets.length;e++)t(this.targets[e]).toggleClass("active");this.el.toggleClass("active")}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.loader",{options:{type:"small",color:"#000"},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.spinnerOptions={lines:13,length:6,width:2,radius:6,corners:1,rotate:0,direction:1,color:this.o.color,speed:1,trail:60,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:"50%",left:"50%"},this.spinner=new Spinner(this.spinnerOptions),this.contentTpl="<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>",this.groupTpl="<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>",this.pageTpl="<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>",this._buildMarkup()},_bindEvents:function(){},_buildMarkup:function(){switch(this.o.type){case"page":this.loaderEl=t(this.pageTpl).appendTo(t(".container.main"));break;case"content":this.loaderEl=t(this.contentTpl).appendTo(this.el);break;case"group":this.loaderEl=t(this.groupTpl).appendTo(this.el)}this.targetEl=t(".loader-wrap",this.loaderEl),this.spinner.spin(this.targetEl[0]),this.toggle()},toggle:function(){var t=this;t.loaderEl.hasClass("active")?(t.loaderEl.removeClass("active"),e.setTimeout(function(){t.loaderEl.remove()},300)):t.loaderEl.addClass("active")}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.search",{options:{data:[{value:"Auftragsbesttigung Depotnummer 123456789 - Kauf.PDF",data:"#link1",category:"Depotnummer 123456789"},{value:"Auftragsbesttigung Depotnummer 123456789 - Kauf2.PDF",data:"#link1",category:"Depotnummer 123456789"},{value:"Auftragsbesttigung Depotnummer 123456789 - Kauf3.PDF",data:"#link3",category:"Depotnummer 123456789"},{value:"Auftragsbesttigung Depotnummer 123456789 - Kauf4.PDF",data:"#link4",category:"Depotnummer 123456789"},{value:"Auftragsbesttigung Depotnummer 123456789 - Kauf5.PDF",data:"#link5",category:"Depotnummer 123456789"},{value:"Auftragsbesttigung Depotnummer 328741236 - Kauf.PDF",data:"#link6",category:"Depotnummer 328741236"},{value:"Auftragsbesttigung Depotnummer 490358764 - Kauf.PDF",data:"#link7",category:"Depotnummer 490358764"}],searchHandler:void 0,categorySelected:void 0,subcategorySelected:void 0,categoryRemoved:void 0,subcategoryRemoved:void 0,placeholder:"Suchen in",onClose:void 0},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.catIsSelected=!1,this.subcatIsSelected=!1,this.$window=t(e),this.dropdown=t(".search-dropdown",this.el),this.searchinput=t("#searchinput"),this.categoryContainer=t(".categories"),this.subcategoryContainer=t(".subcategories"),this.selectedCategoryContainer=t(".selected-categories",this.el),this.selectedCategory=!1,this.searchWidth=dTaiko.viewportWidth>1100?"40%":"50%",this._bindEvents()},_bindEvents:function(){var e=this;t("form",".search").on("submit",function(t){t.preventDefault(),e.o.searchHandler&&e.o.searchHandler()}),e.el.on(dTaiko.stdEvent,"form",function(t){e.el.hasClass("open")?e.o.searchHandler&&e.o.searchHandler():e._openSearch(t)}),e.$window.on("desktopViewport",function(){e.el.removeAttr("style")}),e._initAutocomplete(),e._initCategories()},_openSearch:function(i){var n=this;n.el.addClass("open no-shadow");var o=t(e).width()>1100?"40%":"50%";dTaiko.viewportWidth<640&&(o=dTaiko.viewportWidth-59+"px"),dTaiko.viewportWidth<=1024&&dTaiko.viewportWidth>640&&t(".unread,.marked",".selectors").hide(),n.el.velocity({width:o},150,function(){n.dropdown.fadeIn(),n.searchinput.addClass("visible"),dTaiko.viewportWidth<640&&(t("form",n.el).find("a").addClass("mobileCloser"),t(".mobileCloser").one("click.mobileClose",function(e){e.preventDefault(),e.stopPropagation(),n._closeSearch(),t(this).blur().removeClass("mobileCloser").off("clicl.mobileClose")})),e.setTimeout(function(){n._bindOutsideHandler(),n.el.removeClass("no-shadow")},1)})},_closeSearch:function(){var e=this;0===e.searchinput.val().length&&e._clearCategories(!0),e.searchinput.prop("placeholder",e.o.placeholder+" ...");var i=dTaiko.viewportWidth>1100?"335":"210";i=dTaiko.viewportWidth<=860?"0":i,e.dropdown.hide(),e.el.removeClass("open").velocity({width:i},150,function(){e.el.removeAttr("style")}),dTaiko.viewportWidth<=1024&&dTaiko.viewportWidth>640&&t(".unread,.marked",".selectors").velocity("fadeIn"),t(".mobileCloser").removeClass("mobileCloser").off("click.mobileClose"),e.$window.off(".search"),e.o.onClose&&e.o.onClose()},_bindOutsideHandler:function(){var e=this;e.$window.on("click.search touchstart.search",function(i){0===t(i.target).closest(".search").length&&e._closeSearch()})},_initAutocomplete:function(){var i=this;i.searchinput.autocomplete({serviceUrl:i.o.data,minChars:2,appendTo:".autocomplete",categories:!0,triggerSelectOnValidInput:!1,formatResult:function(t,e){return t.value.replace(new RegExp("("+e+")","gi"),"<strong>$1</strong>")},onSearchStart:function(i){t(e).trigger("start.eboxSearch")},onSearchComplete:function(i,n){t(e).trigger("complete.eboxSearch")},onSearchError:function(i,n,o,s){t(e).trigger("error.eboxSearch")},onSelect:function(t){i.el.hasClass("closed")||(i.o.searchHandler&&i.o.searchHandler(),""!==t.category&&(i._addCategoryToken(t.category),i.searchinput.val(t.value)))},beforeRender:function(){i._categoryLogic(!0)},onHide:function(){i._categoryLogic(!1,!0)}})},_initCategories:function(){var e=this;e.dropdown.on("click",".category-container",function(i){e.selectedCategory=this,e._addCategoryToken(t(this).data("title")),e.o.categorySelected&&e.o.categorySelected(t(e.selectedCategory))}).on("click",".subcategories .subcategory",function(i){var n='<div class="selected-category selected-subcategory vp"><span class="vc">'+t(this).data("title")+'</span><span class="db-icon-wrapper"><i class="dbit-icons" data-test="db-icon">close</i></span></div>';Modernizr.input.placeholder?e.searchinput.prop("placeholder",e.o.placeholder+" "+t(this).data("title")):e.searchinput.val(e.o.placeholder+" "+t(this).data("title")),e.o.subcategorySelected&&e.o.subcategorySelected(t(this)),e.o.searchHandler&&e.o.searchHandler(),e.selectedCategoryContainer.append(n),e.subcatIsSelected=!0,e._categoryLogic()}).on("click",".selected-category",function(i){t(this).hasClass("selected-subcategory")?(t(this).velocity("fadeOut",170,function(){t(this).remove()}),Modernizr.input.placeholder?e.searchinput.prop("placeholder",e.o.placeholder+" "+t(".selected-category").eq(0).text()):e.searchinput.val(e.o.placeholder+" "+t(".selected-category").eq(0).text()),e.o.subcategoryRemoved&&e.o.subcategoryRemoved(),e.o.searchHandler&&e.o.searchHandler(),e.subcatIsSelected=!1,e._categoryLogic()):(e.o.categoryRemoved&&e.o.categoryRemoved(),Modernizr.input.placeholder?e.searchinput.prop("placeholder",e.o.placeholder+" ..."):e.searchinput.val(e.o.placeholder+" ..."),e._clearCategories(),e.o.searchHandler&&e.o.searchHandler())})},_addCategoryToken:function(t){var i=this;if(!i.catIsSelected){var n='<div class="selected-category vp"><span class="vc">'+t+'</span><span class="db-icon-wrapper"><i class="dbit-icons" data-test="db-icon">close</i></span></div>';Modernizr.input.placeholder?i.searchinput.prop("placeholder",i.o.placeholder+" "+t):i.searchinput.val()===i.searchinput.attr("placeholder")&&i.searchinput.val(i.o.placeholder+" "+t),i.selectedCategoryContainer.append(n),e.setTimeout(function(){i.selectedCategoryContainer.velocity("slideDown",170)},1),i.catIsSelected=!0,i._categoryLogic()}},_removeCategoryToken:function(){this.catIsSelected=!1,this.selectedCategoryContainer.velocity("slideUp",170,function(){t(".selected-category:not(.selected-subcategory)",this).remove()})},_categoryLogic:function(e,i){var n=this,o=t(n.selectedCategory).data("catid"),s=n.subcategoryContainer.filter(function(){return t(this).data("catid")==o});if(e)return n.categoryContainer.hide(),void n.subcategoryContainer.hide();if(i){if(n.catIsSelected)return void n.subcategoryContainer.show();if(!n.catIsSelected&&!n.subcatIsSelected)return void n.categoryContainer.show()}if(n.catIsSelected&&n.subcatIsSelected)n.subcategoryContainer.velocity("slideUp",150);else if(n.catIsSelected)n.categoryContainer.is(":visible")?n.categoryContainer.velocity("slideUp",150,function(){s.velocity("slideDown",150)}):s.velocity("slideDown",150);else if(n.catIsSelected||n.subcatIsSelected);else{var r=!1;n.subcategoryContainer.velocity("slideUp",150,function(){r||(n.categoryContainer.velocity("slideDown",150),r=!0)})}},_clearCategories:function(){this.selectedCategoryContainer.is(":visible")&&this.selectedCategoryContainer.velocity("slideUp",170,function(){t(".selected-category",this).remove()}),this.subcatIsSelected=!1,this.catIsSelected=!1,this._categoryLogic()}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.taikoDepotSlider",{options:{range:{min:[1],max:[365]},start:182,handles:1,step:1,connect:!1,direction:"ltr",set:void 0,slide:void 0,change:void 0,pips:!1},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.blocked=!1,this.taikoSlider=!1,this._initSlider(),this._bindEvents()},_initSlider:function(){noUiSlider.create(this.htmlEl,{range:this.o.range,start:[this.o.start],handles:this.o.handles,step:this.o.step,connect:this.o.connect,direction:this.o.direction,pips:this.o.pips})},_bindEvents:function(){var i=this;i.htmlEl.noUiSlider.on("change",function(){i.o.change&&i.o.change(i.htmlEl)}),i.htmlEl.noUiSlider.on("update",function(e,n){var o=e[n];t(i.htmlEl).data("link")&&t(t(i.htmlEl).data("link")).val(i._numberWithCommas(o))}),i.el.hasClass("non-blocking")||i.htmlEl.noUiSlider.on("set",function(t,e){i.el.closest(".accordion").accordion("setBlock",!0)}),t(i.htmlEl).data("link")&&t(t(i.htmlEl).data("link")).on("change",function(e){i.htmlEl.noUiSlider.set(i._plainIntegerWithoutCommas(t(e.target).val())),i.el.not(".non-blocking").closest(".accordion").accordion("setBlock",!0)}),$target=t(i.htmlEl).find(".noUi-handle"),$target.tipsy({targetSlider:$target,gravity:"s",html:!0,trigger:"manual",title:function(){return t(i.htmlEl).data("value").replace("{{x}}",i._numberWithCommas(parseInt(i.htmlEl.noUiSlider.get())))}}),$target.on("mouseleave",function(){e.setTimeout(function(){$target.tipsy("hide")},100)}),i.htmlEl.noUiSlider.on("slide",function(){i.blocked||(i.blocked=!0,e.setTimeout(function(){Modernizr.touch?t(i.el).find(".noUi-handle").tipsy("hide"):t(i.el).find(".noUi-handle").tipsy("show"),i.blocked=!1},50),i.o.slide&&i.o.slide(i.htmlEl))}),i.htmlEl.noUiSlider.on("set",function(){i.o.set&&i.o.set(i.htmlEl)})},_plainIntegerWithoutCommas:function(t){var e=t.toString().split(",");return e[0]=e[0].replace(".",""),e[0]},_numberWithCommas:function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),e.join(",")}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.searchfilter",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.searchFilter=t(".first-filter",this.el),this.infobox=t(".info-box",this.el),this.fadeOnSearch=t(".fade-on-search"),this.filter=t(".accordion-invis.fade-on-search"),this.searchForm=t("form",this.searchFilter),this.searchIsActive=!1,this.filterIsActive=!0,this._bindEvents()},_bindEvents:function(){var e=this;e.infobox.on(dTaiko.stdEvent+" keyup",function(t){e._toggle()}),t(".toggle.outside-h2",e.searchFilter).on(dTaiko.stdEvent+" keyup",function(t){e._toggle()}),e.searchForm.on("submit",function(t){t.preventDefault(),e.searchFilter.invisaccordion("toggle"),e._toggle()})},_toggle:function(){this.filterIsActive?(t(".sticky-wrapper").fadeOut(500),t(this.filter).before('<div id="blackout" class="blackout" />').invisaccordion("close"),this.fadeOnSearch.fadeTo(250,.3).prepend('<div id="blackout" class="blackout" />'),this.filterIsActive=!1):(t(".sticky-wrapper").fadeIn(500),this.fadeOnSearch.fadeTo(250,1),t("div.blackout").remove(),this.filterIsActive=!0)},submit:function(){this.searchFilter.invisaccordion("toggle"),this._toggle()}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.navSelect",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.buttons=t("li",this.el),this.mobile=!1,this.block=!1,this.ctas_present=!1;var e=this;e.breakpoint=0,e.wrapperWidth=0,t("li",this.el).each(function(i,n){return e.wrapperWidth+=t(n).outerWidth()+10}),e.breakpoint=e.wrapperWidth+(parseInt(t("body .container.main").css("padding-left"))+parseInt(t("body .container.main").css("padding-right"))+parseInt(t("body").css("padding-left"))+parseInt(t("body").css("padding-right"))+10),t(".subpage-header .right").length&&(e.ctas_present=!0,e.breakpoint=e.breakpoint+t(".subpage-header .right").width()),this.newSelect=t('<div class="selectors"><div class="switch-rolotec current"><select name="switchbuttons"></select></div></div>'),this.currentSelect=t('<div class="current-select current">'),dTaiko.viewportWidth>=this.breakpoint?this._desktopButtons():this._mobileButtons(),this._bindEvents()},_bindEvents:function(){var i=this;t(e).on("resize.navpills",function(){e.clearTimeout(n);var n=e.setTimeout(function(){i.breakpoint=i.wrapperWidth+(parseInt(t("body .container.main").css("padding-left"))+parseInt(t("body .container.main").css("padding-right"))+parseInt(t("body").css("padding-left"))+parseInt(t("body").css("padding-right"))+10),i.ctas_present&&(i.breakpoint=i.breakpoint+t(".subpage-header .right").width())},50);dTaiko.viewportWidth<i.breakpoint?i._mobileButtons():t(i.buttons).is(":hidden")&&i._desktopButtons()})},_toggle:function(e){this.buttons.removeClass("current"),t(e).addClass("current")},_filterJobs:function(e){t(".accordion.job",this.o.listToFilter).hide(),t(".accordion.job",this.o.listToFilter).filter(function(i){return t(this).hasClass(e)}).fadeIn(300)},_filterManagement:function(t){top.location.href=t},_mobileButtons:function(){var e=this;e.buttons.hide(),t("option",e.newSelect).length||(e.buttons.each(function(i,n){var o=t('<option value="'+t("a",n).attr("href")+'">'+t("a",n).text()+"</option>");t(n).hasClass("current")&&(o.attr("selected","selected"),e.currentSelect.append(t("select",this).clone(!0)),t("select",e.currentSelect).removeClass("selecter-element")),t("select",e.newSelect).append(o)}),e.el.after(e.newSelect)),t(e.newSelect).show().find("select").selecter({customClass:"selecter"}),t(e.currentSelect).show().find("select").selecter({customClass:"selecter"}),t(e.newSelect).length&&e.newSelect.show(),e._handleMobileButtons()},_desktopButtons:function(){this.buttons.show(),t(this.newSelect).length&&this.newSelect.hide(),t(this.currentSelect).length&&this.currentSelect.hide()},_handleMobileButtons:function(){t("select",this.newSelect).on("change",function(){top.location.href=t("option:selected",this).val()})}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.navToggle",{options:{tabContainer:".pref-container"},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this.buttons=t(".prefs:visible",this.el),this.tabContainer=t(this.o.tabContainer),this.mobile=!1,this.block=!1,this.hasChild=!1,this.newSelect=t('<div class="switch-prefs current"><select name="switchbuttons"></select></div>'),dTaiko.viewportWidth>640&&dTaiko.viewportWidth<755&&(this.buttons=t(".prefs:visible",this.el),this._mobileButtons()),this._bindEvents()},_bindEvents:function(){var i=this;t(e).on("mobileViewport.navToggle",function(){i.buttons=t(".prefs:visible",i.el),i._mobileButtons()}),t(e).on("desktopViewport.navToggle",function(){if(dTaiko.viewportWidth<755)return i.buttons=t(".prefs:visible",i.el),i._mobileButtons();i.buttons=t(".prefs",i.el),i._desktopButtons()})},_toggle:function(e){return this.buttons.removeClass("current"),t(".tab.active",this.tabContainer).removeClass("active"),t(".tab."+e).addClass("active"),t('.prefs[data-tab="'+e+'"]').addClass("current")},_mobileButtons:function(){var e=this;e.mobile||(e.buttons.hide(),t("option",e.newSelect).length?(t("select option:selected",e.newSelect).removeAttr("selected"),e.newSelect.find("select").selecter("destroy"),t('select option[value="'+t(".prefs.current").data("tab")+'"]',e.newSelect).attr("selected","selected"),e.newSelect.find("select").selecter({customClass:"selecter"}),e.newSelect.show()):(e.buttons.each(function(i,n){var o="";t(n).hasClass("current")&&(o='selected="selected"'),t("select",e.newSelect).append('<option value="'+t(n).data("tab")+'" '+o+">"+t("span.title",n).text()+"</option")}),e.newSelect.find("select").selecter({customClass:"selecter"}),t("#selectors-preferences").append(e.newSelect),e._handleMobileButtons()),e.mobile=!0,e.desktop=!1)},_desktopButtons:function(){this.desktop||(t(this.newSelect).is(":hidden")&&!t(".switch-prefs",this.tabContainer).length||(this.newSelect.hide(),this._toggle(t("select option:selected",this.newSelect).val()),this.buttons.show()),this._handleDesktopButtons(),this.desktop=!0,this.mobile=!1)},_handleMobileButtons:function(){var e=this;t("select",e.newSelect).on("change",function(){e._toggle(t(this).val())})},_handleDesktopButtons:function(){var e=this;e.buttons.on("click",function(){return!t(this).hasClass("current")&&e._toggle(t(this).data("tab"))})}})}(jQuery,window,document),function(t,e,i,n){t.widget("dtaiko.pickertoggle",{options:{},_create:function(){this.o=this.options,this.el=this.element,this.htmlEl=this.element.get(0),this._bindEvents()},_bindEvents:function(){var e=this;t(".picker",e.el).each(function(){var i=t(this);i.change(function(){e.el.find(".accordion.open").accordion("toggle"),i.closest(".accordion").accordion("toggle")})})}})}(jQuery,window,document),Date.prototype.toDateInputValue=function(){var t=new Date(this);return t.setMinutes(this.getMinutes()-this.getTimezoneOffset()),t.toJSON().slice(0,10)};var DTaikoDate=function(){this.today=!1,DTaikoDate.prototype.germanToday=function(){this.update();var t=this.today.split("-");return t[2]+"."+t[1]+"."+t[0]},DTaikoDate.prototype.germanTodaySQL=function(){this.update();var t=this.today.split("-");return t[0]+"-"+t[1]+"."+t[2]},DTaikoDate.prototype.germanFirstOfMonth=function(){this.update();var t=this.today.split("-");return"01."+t[1]+"."+t[0]},DTaikoDate.prototype.germanFirstOfMonthSQL=function(){this.update();var t=this.today.split("-");return t[0]+"-"+t[1]+"-01"},DTaikoDate.prototype.getGermanDateSQL=function(t){return t.toDateInputValue()},DTaikoDate.prototype.getGermanDate=function(t){return(t=t.toDateInputValue().split("-"))[2]+"."+t[1]+"."+t[0]},DTaikoDate.prototype.update=function(){this.today=(new Date).toDateInputValue()}},DTaikoUtil=function(){var t=$("html"),e=$("html,body");DTaikoUtil.prototype.getInnerWidth=function(){return"innerWidth"in window?window.innerWidth:document.documentElement.offsetWidth},DTaikoUtil.prototype.getInnerheight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight},DTaikoUtil.prototype.generateUid=function(t){var e=t||"-";function i(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return i()+i()+e+i()+e+i()+e+i()+e+i()+i()+i()},DTaikoUtil.prototype.getScrollTop=function(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop},DTaikoUtil.prototype.setScrollTop=function(i){t.hasClass("ie9")?window.scroll(i,0):e.scrollTop(i)},DTaikoUtil.prototype.getDataType=function(t){return t.substring(t.lastIndexOf(".")+1)},DTaikoUtil.prototype.getColor=function(t,e,i){var n={};return n.r=this.makeChannel(t.r,e.r,i),n.g=this.makeChannel(t.g,e.g,i),n.b=this.makeChannel(t.b,e.b,i),n.cssColor="#"+this.makeColorPiece(n.r)+this.makeColorPiece(n.g)+this.makeColorPiece(n.b),n},DTaikoUtil.prototype.makeChannel=function(t,e,i){return t+Math.round(i/100*(e-t))},DTaikoUtil.prototype.makeColorPiece=function(t){t=Math.min(t,255);var e=(t=Math.max(t,0)).toString(16);return e.length<2&&(e="0"+e),e},DTaikoUtil.prototype.escapeHtml=function(t){var e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML}},DTaikoCommon=function(t){var e=$(window);DTaikoCommon.prototype.switchClass=function(t,e){var i=$(t),n=$(e),o=n.data("active-class"),s=n.data("inactive-class"),r=n.data("active-title"),a=n.data("inactive-title");i.hasClass("active")?n.removeClass(s).addClass(o).prop("title",r):n.removeClass(o).addClass(s).prop("title",a)},DTaikoCommon.prototype.handleFirstLastChild=function(t){var e=$("> .accordion",t);e.removeClass("first-child last-child"),$(e[0]).addClass("first-child"),$(e[e.length-1]).addClass("last-child")},DTaikoCommon.prototype.handleHashFocus=function(){var t=window.location.hash;t&&this.handleHashFocusFunction(t)},DTaikoCommon.prototype.disableBodyScrolling=function(){document.body.addEventListener("touchmove",function(t){t.preventDefault()})},DTaikoCommon.prototype.disableBodyScrolling=function(){document.body.removeEventListener("touchmove")},DTaikoCommon.prototype.handleHashFocusFunction=function(t){if(t){var e=$('div[data-id="'+t.replace("#","")+'"]');e.velocity("scroll",{offset:-75,easing:"linear",duration:600,mobileHA:dTaiko.isTouch,complete:function(){window.setTimeout(function(){e.is(":dtaiko-accordion")&&e.accordion("gatherData")},1)}})}},DTaikoCommon.prototype.initConsultantContact=function(t){var i,n=$("#new-consultant-conversation");$("#consultant-level").on(dTaiko.stdEvent,"#new-consultant-message",function(t){"undefined"==typeof CKEDITOR||CKEDITOR.instances.consultantconversation?n.accordion("toggle"):(i=CKEDITOR.replace("consultantconversation")).on("instanceReady",function(){n.accordion("toggle"),eid="#"+i.id,$(t.delegateTarget).on(dTaiko.stdEvent,".format-answer",function(t){var e=$(t.target).position().left-20;$(eid+"_top").css({left:e}).toggleClass("visible")})})}),e.on("desktopViewport",function(){"undefined"==typeof CKEDITOR||CKEDITOR.instances.consultantconversation||(i=CKEDITOR.replace("consultantconversation"))})},DTaikoCommon.prototype.initJCarouselHandler=function(t){var e=$(".inner-15-content",t),i=$(".inner-15-content",t),n=$(".jcarousel-range",t);e.jcarouselHandler({jcarousel:n,sourceElement:i,context:e}),$(".handleJcarousel",t).each(function(){var t=$(this),e=$(".jcarousel",t).length?$(".jcarousel",t):$(".jcarousel-range",t);t.jcarouselHandler({jcarousel:e,sourceElement:t,context:t})})},DTaikoCommon.prototype.initGhostTriggers=function(e){$(".ghost-trigger",e).on(t.stdEvent,function(){$($(this).data("ghost-trigger")).trigger(t.stdEvent)})}},DTaikoAccessibility=function(t){var e=$(window),i=$(document),n=this;t.lastClick=!1,t.lastKey=!1,t.isClick=!1,t.isKeyup=!1,this.$currentFocus=!1,t.emFocusable=[],t.tab=!1,t.shiftTab=!1,DTaikoAccessibility.prototype.init=function(){i.on("click mousedown mouseup",function(){t.lastClick=new Date,t.isKeyup=!1,t.isClick=!0,window.setTimeout(function(){n.$currentFocus.length&&n.$currentFocus.removeClass("non-keyboard-outline")},10)}),i.on("keydown",function(e){t.lastKey=new Date,t.isKeyup=!0,t.isClick=!1,e.shiftKey&&9==e.which?(t.tab=!1,t.shiftTab=!0):9==e.which&&(t.tab=!0,t.shiftTab=!1)}),i.on("keyup",function(e){if(t.isKeyup=!0,t.isClick=!1,13===e.which){var i=$(e.target);i.hasClass("fc")&&i.trigger(t.stdEvent)}}),i.on("focusin",function(e){n.$currentFocus.length&&n.$currentFocus.removeClass("non-keyboard-outline"),window.setTimeout(function(){t.isClick||(n.$currentFocus=$(e.target),n.$currentFocus.addClass("non-keyboard-outline"))},10)}),void 0!==dTaiko.browser.getIEVersion()&&-1!==dTaiko.browser.getIEVersion()&&(i.on("focusin",function(t){$(t.target).parent(".input-wrapper").hasClass("required")&&$(t.target).parent(".input-wrapper").find(".icon-required").hide()}),i.on("focusout",function(t){$(t.target).parent(".input-wrapper").hasClass("required")&&$(t.target).parent(".input-wrapper").find(".icon-required").show()}))},DTaikoAccessibility.prototype.handleFocus=function(i){t.emFocusable=$(":focusable",".em-focus"),t.currentEmFocusIndex=0,e.on("focusin.handleFocus",function(e){var i=!1,n=($(this),$(e.target));t.emFocusable.each(function(e){if($(this).is(n))return t.currentEmFocusIndex=e,i=!0,!0}),i||(e.preventDefault(),t.tab?++t.currentEmFocusIndex>t.emFocusable.length-2&&(t.currentEmFocusIndex=0):t.shiftTab&&--t.currentEmFocusIndex<0&&(t.currentEmFocusIndex=t.emFocusable.length-2),t.emFocusable.get(t.currentEmFocusIndex).focus())})},DTaikoAccessibility.prototype.destroyHandleFocus=function(t){e.off("focusin.handleFocus")},DTaikoAccessibility.prototype.initFastclick=function(t){$(".fc",t).each(function(){FastClick.attach(this)})},DTaikoAccessibility.prototype.initAdditionalKeyboardNavigation=function(e){$(".product-selecter .selecter",e).on({focus:function(){$ps=$(this).closest(".product-selecter"),$ps.addClass("focus")},blur:function(){$ps=$(this).closest(".product-selecter"),$ps.removeClass("focus")}}),$(".extended-input-wrapper",e).on({focus:function(){$this=$(this);var e=t.util.generateUid();$items=$("input, .selecter",$this.closest(".column-wrapper")),$this.addClass("focus"),$items.on("focus."+e,function(){$(this).closest(".extended-input-wrapper").length||($this.removeClass("focus"),$items.off("focus."+e))}),i.one("click.extended-input",function(t){0!==$this.has(t.target).length||$this.is(t.target)||($this.removeClass("focus"),$this.find("input:focus").blur())})},mouseleave:function(){$this=$(this),$this.hasClass("focus")?($this.removeClass("focus"),$this.find("input:focus").blur()):$this.find("input:focus").blur(),i.off("click.extended-input")}})}},DTaikoResponsive=function(t){var e=$(window);t.viewportWidth=e.width(),t.oldViewportWidth=e.width(),t.needsCheckW=!0,t.needsCheckH=!0,t.isMobileViewport=e.width()<=640,t.isDesktopViewport=e.width()>640,DTaikoResponsive.prototype.init=function(){e.on("resize",function(){var i=t.viewportWidth;return t.viewportWidth=e.width(),t.oldViewportWidth=i,t.needsCheckH=!0,t.needsCheckW=!0,t.viewportWidth<=640&&t.oldViewportWidth>=640?(e.trigger("mobileViewport"),t.isDesktopViewport=!1,void(t.isMobileViewport=!0)):t.viewportWidth>640&&t.oldViewportWidth<=640?(t.isDesktopViewport=!0,t.isMobileViewport=!1,void e.trigger("desktopViewport")):void 0})}},DTaikoBrowser=function(t){var e=this,i=($(window),$("html")),n=$("#content");t.isTouch=i.hasClass("touch"),this.ua=navigator.userAgent,t.isAndroid=/Android/i.test(this.ua),t.isIEMobile=/IEMobile/i.test(this.ua),t.isWindowsPhone=/Windows Phone/i.test(this.ua),t.isFirefox=this.ua.toLowerCase().indexOf("firefox")>-1,t.isAndroidNative=!1,t.androidV=!1,t.isIE8=i.hasClass("lt-ie9"),t.isIE9=i.hasClass("ie9"),t.isMobileIELTE10=!1,t.isIOS=!1,t.enableTouchEvents=!0,t.useTruncate=!0,t.swipeTreshold=75,t.swipeTriggerOnTouchEnd=!0,t.transitionSupport=i.hasClass("csstransitions"),DTaikoBrowser.prototype.init=function(){this.isSafari6(),this.isSafari5Win(),this.initAndroidNative(),this.initAndroid(),this.isMobileIE10(),t.isIOS=this.checkIOS(),t.isIOS&&i.addClass("ios"),this.checkLatestIE(),t.isAndroid,this.initFixesDesktop(),$("a#mobile-nav").on("click",function(t){t.preventDefault()})},DTaikoBrowser.prototype.checkIOS=function(){return!!this.ua.match(/(iPad|iPhone|iPod)/g)},DTaikoBrowser.prototype.getIEVersion=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var o=t.indexOf("Edge/");return o>0?(i.addClass("is-edge"),parseInt(t.substring(o+5,t.indexOf(".",o)),10)):-1},DTaikoBrowser.prototype.checkLatestIE=function(){switch(this.getIEVersion()){case 10:t.isIE10=!0,i.addClass("ie10");break;case 11:t.isIE11=!0,i.addClass("ie11")}},DTaikoBrowser.prototype.getAndroidVersion=function(){var t=this.ua.match(/Android\s([0-9\.]*)/);return!!t&&parseFloat(t[1])},DTaikoBrowser.prototype.isMobileIE10=function(){(this.ua.match(/IEMobile\/10\.0/)||this.ua.match(/IEMobile\/9\.0/))&&(t.isMobileIELTE10=!0,i.addClass("ie-mobile-lte10"))},DTaikoBrowser.prototype.isAndroidNative=function(){this.ua.indexOf("Mozilla/5.0")>-1&&this.ua.indexOf("Android ")>-1&&this.ua.indexOf("AppleWebKit")>-1&&!(this.ua.indexOf("Chrome")>-1)&&(t.isAndroidNative=!0)},DTaikoBrowser.prototype.isSafari6=function(){!this.ua.match(/safari/i)||this.ua.match(/chrome/i)||void 0===document.body.style.webkitFilter||window.chrome||i.addClass("safari-6")},DTaikoBrowser.prototype.isSafari5Win=function(){this.ua.match(/safari/i)&&this.ua.match(/Windows/i)&&!this.ua.match(/chrome/i)&&this.ua.match(" Version/5")&&$("input[type=number]").attr("type","text")},DTaikoBrowser.prototype.initAndroidNative=function(){this.androidV=parseFloat(this.getAndroidVersion()),this.isAndroidNative(),this.androidV<=4.3&&t.isAndroidNative&&(i.addClass("android-lte-43"),t.swipeTreshold=10,t.swipeTriggerOnTouchEnd=!1,t.enableTouchEvents=!1,t.useTruncate=!1,window.setTimeout(function(){e.androidNativeTransitionFix()},100))},DTaikoBrowser.prototype.initAndroid=function(){t.isAndroid&&i.addClass("is-android")},DTaikoBrowser.prototype.androidNativeTransitionFix=function(){window.setTimeout(function(){n.addClass("android-fix-transition active")},1),window.setTimeout(function(){n.removeClass("android-fix-transition")},10)},DTaikoBrowser.prototype.initLTEIE9=function(t){$(".product-name-input",t).on("mouseenter",function(){$(this).closest("a").addClass("hover")}).on("mouseleave",function(){$(this).closest("a").removeClass("hover")}),$(".jcarousel",t).on("mouseleave mouseenter"," ul > li > ul > li",function(){var t=$(this);window.setTimeout(function(){t.find("*").redraw()},1)})},DTaikoBrowser.prototype.initIE8=function(t){$("input[readonly=readonly]",t).on("focus",function(){$(this).blur()}),$(".logo").attr("src",function(){return $(this).attr("src").replace(".svg",".png")})},DTaikoBrowser.prototype.initFixesDesktop=function(){if(t.isDesktopViewport){var e=$(".init-fix");window.setTimeout(function(){e.addClass("init-fix-styles"),window.setTimeout(function(){e.removeClass("init-fix-styles")},250)},250)}}},DTaikoJQuery=function(t){var e=$("body");DTaikoJQuery.prototype.init=function(){jQuery.fx.interval=5,this.ellipsisDetection(),this.disableSelection(),this.concatDigits(),jQuery.ajaxSetup({cache:!1}),jQuery.fn.reverse=[].reverse,jQuery.fn.redraw=function(){$(this).each(function(){this.offsetHeight})}},DTaikoJQuery.prototype.ellipsisDetection=function(t){jQuery.extend({ellipsis:{nativeSupport:!1}});var i,n=$('<div style="visibility:hidden;position:absolute;white-space:nowrap;overflow:hidden;"></div>'),o=["text-overflow","-o-text-overflow"];$(o).each(function(t,e){n.css(e,"ellipsis")}),e.append(n),i=n.clone(!0),$(o).each(function(t,e){if("ellipsis"===$(i).css(e))return jQuery.ellipsis.nativeRule=e,jQuery.ellipsis.nativeSupport=!0,!1}),n.remove(),i=n=null},DTaikoJQuery.prototype.disableSelection=function(t){$.fn.extend({disableSelection:function(){this.each(function(){this.onselectstart=function(){return!1},this.unselectable="on",$(this).css("-moz-user-select","none"),$(this).css("-webkit-user-select","none")})}})},DTaikoJQuery.prototype.concatDigits=function(){var t=[",","."],e=null;$(".two-digits").keyup(function(){if(null!==(e=-1!=$(this).val().indexOf(t[0])?t[0]:-1!=$(this).val().indexOf(t[1])?t[1]:null)&&$(this).val().split(e)[1].length>2){if(isNaN(parseFloat(this.value)))return;this.value=parseFloat(this.value).toFixed(2)}return this})}},DTaikoClient=function(t){var e=this;DTaikoClient.prototype.init=function(){if("obk"===t.currentClient&&WebFont.load({google:{families:["Roboto:400,500,700"]}}),"bks"===t.currentClient){var i={r:245,g:245,b:245},n={r:224,g:224,b:224},o=100;$(".head-wrapper").find(".full-content").on("accordionOpened accordionClosed",function(t){$(t.delegateTarget).triggerHandler("resizeH")}).on("resizeH",function(s){o=$(s.delegateTarget).height()/$("body").height()*100,e.bksActiveNavColor=t.util.getColor(i,n,o),$(".nav li.active").css("background",e.bksActiveNavColor.cssColor)})}}},DTaikoDashboard=function(t){var e=this,i=$("body");this.dashboardLogicTimeout=!1,this.dashboardLogicBlocked=!1,DTaikoDashboard.prototype.initQuickNav=function(e){var i=$(".quick-nav",e);t.isTouch&&i.length&&i.swipe({allowPageScroll:$.fn.swipe.pageScroll.VERTICAL,excludedElements:"label, button, input, select, textarea, .noSwipe",threshold:20,swipeLeft:function(){i.quickNav("toggle")}})},DTaikoDashboard.prototype.initDashboardMisc=function(t){var n=$(".tiles:not(.tiles-outer)",t);n.length&&(this.tiles=$(".tile-wrapper:not(.is-ghost):not(.deleted):visible",n),this.rows=[],this.tilesInRow=[],this.currentRow=0,this.dashboardLogicBlocked=!1,i.hasClass("tile-based")&&(n.on("resizeW.tilefill",function(t){e.dashboardTileLogicOnResize()}),n.trigger("resizeW.tilefill")))},DTaikoDashboard.prototype.dashboardTileLogicOnResize=function(){var t=this;window.clearTimeout(this.dashboardLogicTimeout),this.dashboardLogicTimeout=window.setTimeout(function(){if(!t.dashboardLogicBlocked){t.dashboardLogicBlocked=!0,$(".tile-wrapper.is-ghost",".tiles").remove(),t.tiles=$(".tile-wrapper:not(.is-ghost):not(.deleted):visible",".tiles"),t.rows=[],t.rows[0]=0,t.tilesInRow=[],t.tilesInRow[0]=[],t.currentRow=0;for(var e=$(t.tiles[0]).offset().top,i=0;i<t.tiles.length;i++){var n=$(t.tiles[i]);e===n.offset().top?n.hasClass("two-column")&&dTaiko.util.getInnerWidth()>767?t.rows[t.currentRow]+=2:t.rows[t.currentRow]+=1:(t.currentRow++,t.tilesInRow[t.currentRow]=[],t.rows[t.currentRow]=0,n.hasClass("two-column")&&dTaiko.util.getInnerWidth()>767?t.rows[t.currentRow]+=2:t.rows[t.currentRow]+=1),t.tilesInRow[t.currentRow].push(n),e=$(t.tiles[i]).offset().top}var o=Math.max.apply(Math,t.rows);for(i=0;i<t.tilesInRow.length;i++)if(t.rows[i]!==o)for(var s=o-t.rows[i],r=0;r<s;r++){$(t.tilesInRow[i][t.tilesInRow[i].length-1]).after('<div class="tile-wrapper is-ghost"><article class="tile ghost"></article></div>')}t.dashboardLogicBlocked=!1}},200)},DTaikoDashboard.prototype.handleDashboardIndicator=function(t){var e=$(".subpage-header .indicator-dot",t);$(".select-switch select",t).on("change",function(){var t=$("option:selected",$(this)).data("class");e.removeClass("red blue green"),e.addClass(t),t?($("body.dashboard .tile .indicator-dot:not(."+t+")").closest(".tile-wrapper").addClass("hidden"),$("body.dashboard .tile .indicator-dot."+t).closest(".tile-wrapper").removeClass("hidden"),$("body.dashboard .js-db-tile .js-db-tile-indicator:not(."+t+")").closest(".tile-wrapper").addClass("hidden"),$("body.dashboard .js-db-tile .js-db-tile-indicator."+t).closest(".tile-wrapper").removeClass("hidden")):($("body.dashboard .tile .indicator-dot").closest(".tile-wrapper").removeClass("hidden"),$("body.dashboard .js-db-tile .js-db-tile-indicator").closest(".tile-wrapper").removeClass("hidden"))})}},DTaikoTipsy=function(t){var e=this,i=($("#content"),$(document));this.touchendTimeout=!1,this.downloadMessage=$(".download-message"),this.downloadMessagePDF=$(".download-message-pdf"),this.downloadMessageOnWhite=$(".download-message-on-white").html(),this.addTileSuccess=$(".add-tile-success"),this.addTileToDashboard=$(".add-tile-dashboard").html(),this.cancelOrder=$(".block-delete-message").html(),this.removeDownload=$(".remove-download-dialog").html(),this.blockClose=$(".block-close-dialog").html(),this.removeMessage=$(".remove-message"),this.kztrRemoveMessage=$(".kztr-remove-message").html(),DTaikoTipsy.prototype.hideTipsy=function(){$(".tipsy-active").length>0&&PubSub.publish("dbTipsyCancel"),$(".tipsy-active").removeClass("tipsy-active"),$("body").off(t.stdEvent+".tipsyGlobal keyup.tipsyGlobal"),$(".tipsy:first").remove()},DTaikoTipsy.prototype.initTipsyOutsideHandler=function(e){$("#content",e).on(t.stdEvent+".tipsy keyup.tipsy",function(t){window.clearTimeout(this.touchendTimeout),this.touchendTimeout=window.setTimeout(function(){$(".tipsy-active").trigger("mouseleave")},1)})},DTaikoTipsy.prototype.initTipsyOutsideHandlerGlobal=function(){$("body").on(t.stdEvent+".tipsyGlobal keyup.tipsyGlobal",function(t){if("keyup"===t.type){if(27!==t.which)return;if(27===t.which)return void e.hideTipsy()}if("add-tile"!==$(".tipsy-active").attr("id")){var i=$(t.target);i.hasClass("tipsy")||i.closest(".tipsy").length||e.hideTipsy()}})},DTaikoTipsy.prototype.initTipsy=function(e){$(".info-tipsy",e).not(".row-head .info-tipsy").tipsy({gravity:"s",delayIn:100,fade:!0,html:!0,opacity:1,className:"info-tooltip"}).on(t.stdEvent,function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}).on("keyup",function(t){13===t.which&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),$(this).trigger("mouseenter"))}).on("blur",function(t){$(this).trigger("mouseleave")}).on("touchstart",function(t){$(".tipsy").length?$(this).trigger("mouseleave"):$(this).trigger("mouseenter")}),$(".row-head .info-tipsy",e).tipsy({gravity:$.fn.tipsy.autoNS,delayIn:100,fade:!0,html:!0,opacity:1,className:"info-tooltip"}).on(t.stdEvent,function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}).on("keyup",function(t){13===t.which&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),$(this).trigger("mouseenter"))}).on("blur",function(t){$(this).trigger("mouseleave")}).on("touchstart",function(t){$(".tipsy").length?$(this).trigger("mouseleave"):$(this).trigger("mouseenter")})},DTaikoTipsy.prototype.initTipsyWithData=function(t){$(".tipsy-data",t).tipsy({gravity:"n",delayIn:100,fade:!0,html:!0,offset:0,opacity:1,className:"data-tooltip",title:function(){return $(this).hasClass("active")?$(this).data("active-title"):$(this).data("title")}}).on("keyup",function(t){13===t.which&&$(this).trigger("mouseenter")}).on("blur",function(t){$(this).trigger("mouseleave")}).on("touchstart",function(t){$(".tipsy").length?$(this).trigger("mouseleave"):$(this).trigger("mouseenter")}),$(".tipsy-data-nw",t).tipsy({gravity:"nw",delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"data-tooltip",title:function(){return $(this).data("title")}}).on("keyup",function(t){13===t.which&&$(this).trigger("mouseenter")}).on("blur",function(t){$(this).trigger("mouseleave")}).on("touchstart",function(t){$(".tipsy").length?$(this).trigger("mouseleave"):$(this).trigger("mouseenter")})},DTaikoTipsy.prototype.initTipsyWithDataTileGlobal=function(t){$(".tipsy-data-tile-global-error",t).tipsy({gravity:"n",delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-error tipsy-error-tile-global",title:function(){return $(this).data("title")}})},DTaikoTipsy.prototype.initTipsyWithDataTileAddDashboard=function(i){$(".tipsy-data-tile-add-dashboard",i).tipsy({gravity:$.fn.tipsy.autoNS,delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-tile tipsy-tile-add-dashboard",trigger:"manual",title:function(){return e.addTileToDashboard}}).on(t.stdEvent,function(e){e.preventDefault();var i=$(this);i.tipsy("show"),$(".tipsy-tile-add-dashboard").find(".cancel").on(t.stdEvent,function(t){t.preventDefault(),i.tipsy("hide")})}),$(".tipsy-data-remove-message",i).tipsy({gravity:$.fn.tipsy.autoNS,delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-tile tipsy-tile-add-dashboard tipsy-remove-kztr",trigger:"manual",title:function(){var t=$(this).data("id");return $("#"+t).html()}}).on(t.stdEvent,function(e){e.preventDefault();var i=$(this);i.tipsy("show"),$(".tipsy-remove-kztr").find(".cancel").on(t.stdEvent,function(t){t.preventDefault(),i.tipsy("hide")}),$(".tipsy-remove-kztr").find(".delete").on(t.stdEvent,function(t){t.preventDefault(),i.tipsy("hide");var e=$(this).data("action");e&&window[e]()})})},DTaikoTipsy.prototype.initTipsyWithDataCancelOrder=function(n){$(".tipsy-cancel-order",n).tipsy({gravity:$.fn.tipsy.autoNS,delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-tile-add-dashboard tipsy-cancel-order",trigger:"manual",title:function(){return e.cancelOrder}}).on(t.stdEvent,function(e){e.preventDefault();var n=$(this);13!==e.which&&e.type!==t.stdEvent||(n.tipsy("show"),$(":focusable:first",".tipsy-cancel-order").focus(),$(".tipsy-cancel-order .cancel, .tipsy-cancel-order .toggle").parent("a").on(t.stdEvent,function(t){t.preventDefault(),n.tipsy("hide"),n.focus()}),i.on("keyup",function(t){27===t.which&&(n.tipsy("hide"),n.focus())}))})},DTaikoTipsy.prototype.initTipsyWithDataRemoveDownload=function(n){$(".tipsy-remove-download",n).tipsy({gravity:$.fn.tipsy.autoNS,delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-tile-add-dashboard tipsy-remove-download",trigger:"manual",title:function(){return e.removeDownload}}).on(t.stdEvent,function(e){e.preventDefault();var n=$(this);13!==e.which&&e.type!==t.stdEvent||(n.tipsy("show"),$(":focusable:first",".tipsy-remove-download").focus(),$(".tipsy-remove-download .cancel, .tipsy-remove-download .toggle").parent("a").on(t.stdEvent,function(t){t.preventDefault(),n.tipsy("hide"),n.focus()}),i.on("keyup",function(t){27===t.which&&(n.tipsy("hide"),n.focus())}))}).on("touchstart",function(t){$(".tipsy").length?$(this).trigger("mouseleave"):$(this).trigger("mouseenter")})},DTaikoTipsy.prototype.initTipsyError=function(t){$(".error-tip",t).tipsy({gravity:"s",delayIn:100,fade:!0,html:!0,offset:0,opacity:1,className:"tipsy-error",title:function(){return $(this).data("title")}}).on("keyup",function(t){13===t.which&&$(this).trigger("mouseenter")}).on("blur",function(t){$(this).trigger("mouseleave")}).on("touchstart",function(t){$(".tipsy").length?$(this).trigger("mouseleave"):$(this).trigger("mouseenter")}),$(".error-tip-nw",t).tipsy({gravity:"nw",delayIn:100,fade:!0,html:!0,offset:0,opacity:1,className:"tipsy-error",title:function(){return $(this).data("title")}}).on("keyup",function(t){13===t.which&&$(this).trigger("mouseenter")}).on("blur",function(t){$(this).trigger("mouseleave")}).on("touchstart",function(t){$(".tipsy").length?$(this).trigger("mouseleave"):$(this).trigger("mouseenter")})},DTaikoTipsy.prototype.initDownloadDialog=function(n){$(".cta-download",n).on(t.stdEvent,function(){var i=$(this).data("id"),n=$(this).tipsy({gravity:$.fn.tipsy.autoNS,delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-tile tipsy-tile-add-dashboard download",trigger:"manual",title:function(){for(var t=0,n=0;n<e.downloadMessage.length;n++)e.downloadMessage[n].id===i&&(t=n);return $(e.downloadMessage[t]).html()}});n.tipsy("show"),$(":focusable:first",".tipsy-tile-add-dashboard").focus(),$(".tipsy-tile-add-dashboard .cancel").on(t.stdEvent,function(t){t.preventDefault(),n.tipsy("hide")}),$(document).trigger("refreshDownloads")}),$(".cta-download-pdf",n).on(t.stdEvent,function(){var i=$(this).data("id"),n=$(this).tipsy({gravity:$.fn.tipsy.autoNS,delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-tile tipsy-tile-add-dashboard download",trigger:"manual",title:function(){for(var t=0,n=0;n<e.downloadMessagePDF.length;n++)e.downloadMessagePDF[n].id===i&&(t=n);return $(e.downloadMessagePDF[t]).html()}}).on("touchstart",function(t){$(".tipsy").length?$(this).trigger("mouseleave"):$(this).trigger("mouseenter")});n.tipsy("show"),$(":focusable:first",".tipsy-tile-add-dashboard").focus(),$(".tipsy-tile-add-dashboard .cancel").on(t.stdEvent,function(t){t.preventDefault(),n.tipsy("hide")}),$(document).trigger("refreshDownloads")}),$(".cta-download-on-white",n).on(t.stdEvent,function(){var n=$(this),o=n.data("id"),s=$(this).tipsy({gravity:$.fn.tipsy.autoNS,delayIn:100,fade:!0,offset:0,opacity:1,html:!0,className:"tipsy-tile tipsy-tile-add-dashboard download",trigger:"manual",title:function(){if(!o)return e.downloadMessageOnWhite;for(var t=0,i=0;i<e.downloadMessage.length;i++)e.downloadMessage[i].id===o&&(t=i);return $(e.downloadMessage[t]).html()}});s.tipsy("show"),$(":focusable:first",".tipsy-tile-add-dashboard").focus(),$(".tipsy-tile-add-dashboard .cancel").parent("a").on(t.stdEvent,function(t){t.preventDefault(),s.tipsy("hide")}),i.on("keyup",function(t){27===t.which&&(n.tipsy("hide"),n.focus())}),$(document).trigger("refreshDownloads")})}},DTaikoTransaction=function(t){var e=this;DTaikoTransaction.prototype.initNewMultiTransaction=function(i){$("#new-multi-transaction",i).on(t.stdEvent,function(){var t=$(".transaction-multi-container .multi-trans-wrapper",i);if(t.length){var n=$(this).data("src-url");e.addNewMultiTransaction(n,t)}})},DTaikoTransaction.prototype.handleTransMultiTrans=function(t){window.setTimeout(function(){$(".multi-trans-wrapper .accordion",t).each(function(){var t=$(this);t.find(".full-content:first").on("accordionOpened",function(){$("#transaction-blueprint-multi").selecter("disable"),$("#multi-trans-as-blueprint").picker("disable"),$(".cta-button-plain, .cta-button",".transaction-control").addClass("disabled")}),t.find(".full-content:first").on("accordionClosed",function(){$("#transaction-blueprint-multi").selecter("enable"),$("#multi-trans-as-blueprint-multi").picker("enable"),$(".cta-button-plain, .cta-button",".transaction-control").removeClass("disabled")})})},1)},DTaikoTransaction.prototype.addNewMultiTransaction=function(e,i){var n=t.util.getDataType(e);$.ajax({url:e,dataType:n}).then(function(e){e.success||"html"===n||console.log(e);var o=$(e);$("*",o).each(function(){var e=$(this);if(e.attr("id")){var i=e.attr("id")+t.util.generateUid();e.attr("id",i),e.attr("name",i),e.closest('[class^="col-"]').find("label").attr("for",i)}});var s=o.appendTo(i);t.common.handleFirstLastChild(s.closest(".multi-trans-wrapper")),s.accordion(),t.registerHandler(s.addBack())},function(t,e,i){console.log(t,e,i)})},DTaikoTransaction.prototype.initMultiTransAccessibility=function(t){$(".input-hover",t).on("focus","input",function(t){$(t.delegateTarget).addClass("focus")}).on("blur","input",function(t){$(t.delegateTarget).removeClass("focus")}),$(".product-selecter",t).on("scrollerOpenEv",".selecter",function(t){$(t.delegateTarget).addClass("focus")}).on("scrollerCloseEv",".selecter",function(t){$(t.delegateTarget).removeClass("focus")}),$(".extended-input-wrapper",t).on("mouseleave",function(t){$(t.delegateTarget).hasClass("hold")||$(t.delegateTarget).removeClass("focus")}),$(".extended-input-wrapper input.first",t).on("click",function(t){$(t.delegateTarget).closest(".extended-input-wrapper").addClass("hold")}),$(".extended-input-wrapper",t).on("mouseenter",function(t){var e=$(this);$(".extended-input-wrapper.focus:not(.hold)").removeClass("focus"),$(".extended-input-wrapper.hold").length<1&&e.addClass("focus"),$(".cta-button",this).one("click",function(){e.removeClass("hold"),e.removeClass("focus")})}).on("focus",function(t){var e=$(this);e.addClass("focus"),$(".cta-button",this).one("click",function(){e.removeClass("focus")})})},DTaikoTransaction.prototype.initCheckAll=function(e){$(".check-all",e).on("change",function(){var e=$(this),i=e.data("target");e.is(":checked")?$(i).not(":checked").trigger(t.stdEvent):$(i+":checked").trigger(t.stdEvent)})}},DTaikoReplacements=function(t){var e=this,i=$("body");DTaikoReplacements.prototype.initPicker=function(i){var n=$(".picker",i).length,o=0;$("body").hasClass("rolotec")?e.rolotecPickerInit(i):$(".picker",i).each(function(){$(this).picker({customClass:"default"}),o===n&&e.rolotecPickerInit(i),o++}),$(".picker-round",i).each(function(){$(this).picker({customClass:"default round"})}),$(".picker-edit-mode",i).picker({customClass:"edit editable"}),$(".trans-picker",i).picker({customClass:t.isIE8?"whitepicker vc vp":"default vc vp"}),$(".white-picker",i).picker({customClass:"whitepicker vc vp"}),$(".settings-picker",i).picker({customClass:"default settings-picker vc vp",labelClass:"vc",handleClass:"vc"}),$(".eservices-picker",i).picker({customClass:"default eservices-picker vc vp",labelClass:"vc light",handleClass:"vc"})},DTaikoReplacements.prototype.rolotecPickerInit=function(t){$("input#vat",t).picker({customClass:"default"}),$("input#exchangeOnly",t).picker({customClass:"default"}),$("input#recommended",t).picker({customClass:"default"}),$("input#searchStories",t).picker({customClass:"default"}),$("input#tradesOnly",t).picker({customClass:"default"}),$("#search_form input[type=radio]",t).picker({customClass:"default"}),$("#advancedSearch input[type=radio]",t).picker({customClass:"default"}),$("input#defaultPortfolio",t).picker({customClass:"default"}),$("input#standard",t).picker({customClass:"default"}),$(".modal-body input[type=checkbox]",t).picker({customClass:"default"})},DTaikoReplacements.prototype.initSelecter=function(t){$("#select-financial-user, .selecter-big, #select-depot-account",t).selecter({customClass:"selecter-big no-scroller"}),$(".select-send-to-consultant",t).selecter({label:"Senden an",customClass:"selecter-big twoL inline disabled"}).selecter("disable"),$(".select-send-from-consultant",t).selecter({label:"Senden von",customClass:"selecter-big twoL inline",callback:function(){var t=$(this);t.parent().parent().find(".select-send-to-consultant").selecter("enable"),t.parent().parent().find(".disabled").removeClass("disabled")}}),i.hasClass("obk")&&$("#transaction-blueprint, #transaction-blueprint-2, .selecter-blueprint",t).selecter({customClass:"selecter-big mw-200",label:"Vorlage auswhlen"}),i.hasClass("bks")&&$("#transaction-blueprint, #transaction-blueprint-2, .selecter-blueprint",t).selecter({customClass:"halfhalf selecter-inline-standard mw-200",label:"Vorlage auswhlen"}),i.hasClass("btv")&&($("#transaction-blueprint, #transaction-blueprint-2, .selecter-blueprint",t).not(".inner-15 .selecter-blueprint").selecter({customClass:"halfhalf selecter-inline-standard mw-200",label:"Vorlage auswhlen"}),$(".inner-15 .selecter-blueprint",t).selecter({customClass:"selecter-big mw-200",label:"Vorlage auswhlen"})),$("#transaction-blueprint-multi",t).selecter({customClass:"selecter-big multi-disable",label:"Vorlage auswhlen"}),$("#transaction-blueprint-inner-1",t).selecter({customClass:"selecter-big mw-200",label:"Vorlage auswhlen"}),$("#transaction-blueprint-inner-2",t).selecter({customClass:"halfhalf mw-200",label:"Vorlage auswhlen"}),$(".selecter-tile-currency",t).selecter({customClass:"halfhalf inline vc left selecter-inline-standard selecter-tile-currency"}),$(".selecter-inline-std",t).selecter({customClass:"halfhalf inline vc left selecter-inline-standard"}),$("#auth-method",t).selecter({customClass:"selecter-big selecter-min-width open-to-top",label:"Verfahren auswhlen"}),$(".auth-method",t).selecter({customClass:"selecter-big selecter-auth",label:"Verfahren auswhlen"}),$(".selecter-time",t).selecter({customClass:"halfhalf selecter-inline-standard selecter-time",label:"Uhrzeit whlen"}),$(".auth-method-1",t).selecter({customClass:"selecter-big selecter-min-width open-to-top",label:"Verfahren auswhlen"}),$("#consultant-postbox",t).selecter({customClass:"selecter-inline"}),$("#select-jobs, #select-status, #select-management",t).selecter({customClass:"selecter"}),$("#currency, .selecter-currency",t).selecter({customClass:"halfhalf selecter-inline-standard"}),$(".selecter-distribution",t).selecter({customClass:"halfhalf selecter-inline-standard",label:"Bitte whlen"}),$(".jobs-filter-select, .recipient-select, .depot-filter-select",t).selecter({customClass:"halfhalf selecter-inline-standard"}),$(".jobs-filter-select-twoL, .recipient-select-twoL, .depot-filter-select-twoL",t).selecter({customClass:"halfhalf twoL inline vc selecter-twoL-inline dotdot"}),$(".hh-is, #weekday, #day",t).selecter({customClass:"halfhalf selecter-inline-standard"}),$(".selectprefs",t).selecter({customClass:"halfhalf inline"}),$("#month-multi",t).selecter({customClass:"multi",multi:!0}),$("#account, .selecter-account",t).selecter({customClass:"halfhalf twoL"}),$(".select-twoL",t).selecter({label:"Quellkonto whlen",customClass:"halfhalf twoL selecter-twoL"}).on("change",function(){var t=$(this),e=t.closest("form"),i=t.data("enables");i&&(i=i.split(","));var n=$(t.data("connection"));if(n.length&&-1===parseInt(n.find("option:selected").val()))return;if(i&&i.length){for(var o=0;o<i.length;o++){var s=$(i[o],e);s.attr("disabled",!1),s.hasClass("selecter-element")&&s.selecter("refresh")}$(".selecter",e).removeClass("disabled")}}),$(".select-twoL-inline-gvc",t).selecter({label:"Bitte whlen",customClass:"halfhalf twoL inline vc selecter-twoL-inline gvc"}),$(".select-twoL-inline",t).selecter({label:"Quellkonto whlen",customClass:"halfhalf twoL inline vc selecter-twoL-inline"}),$(".select-compact",t).selecter({customClass:"selecter-compact no-scroller"}),$(".multiple-transactions.active .row-head select",$(t).closest(".transaction-container")).selecter({customClass:"halfhalf twoL"}),$(".multiple-transactions.active .row-head select",t).selecter({customClass:"halfhalf twoL"}),$(".tax-type",t).selecter({customClass:"halfhalf"}),$("#bic-search-country, #receiving-institution",t).selecter({customClass:"halfhalf no-scroller",label:"Land auswhlen"}),$("#timing-method",t).selecter({customClass:"halfhalf selecter-inline-standard open-to-top"}),$("#interval-month",t).selecter({customClass:"multiselect open-to-top"}),$("#hikuPeriod",t).selecter({customClass:"halfhalf inline vc left selecter-inline-standard"}),$(".airy-top select",t).selecter({customClass:"halfhalf selecter-inline-standard mw-200"}),$("#period_chooser",t).selecter({customClass:"halfhalf selecter-inline-standard mw-200"}),$(".form-group select",t).selecter({customClass:"halfhalf inline vc left selecter-inline-standard"}),$("#sectorCode",t).selecter({customClass:"halfhalf inline vc left selecter-inline-standard"}),$("#dividendPolicy",t).selecter({customClass:"halfhalf inline vc left selecter-inline-standard"}),$("#fundType",t).selecter({customClass:"halfhalf inline vc left selecter-inline-standard"}),$("#domicile",t).selecter({customClass:"halfhalf inline vc left selecter-inline-standard"})},DTaikoReplacements.prototype.initScroller=function(t){$(".usesSmallScroller",t).scroller({customClass:"small-scroller",trackMargin:2})}},DTaikoForm=function(t){var e=$("html");DTaikoForm.prototype.initMultiselect=function(i){$("#select-multiple",i).multiselect({buttonContainer:'<div class="multiselect-wrapper" />',includeSelectAllOption:!1,buttonText:function(t,e){var i=$(this);if(0===t.length)return"Bitte auswhlen";if(t.length>this.numberDisplayed)return t.length+" ausgewhlt";var n="";return t.each(function(t,e){var o=void 0!==i.attr("label")?i.attr("label")(e):i.html();n+=o+", "}),n.substr(0,n.length-2)+""},onDropdownHide:function(){console.log("dropdown hide does work now, too!")},onChange:function(){console.log("on change works!")}}),$("input[name=multiselect]",i).picker({customClass:"default vc vp"}),$(".multiselect-wrapper",i).on(t.stdEvent,".dropdown-toggle",function(i){i.stopPropagation();var n=$(i.delegateTarget);n.hasClass("open")&&n.trigger("hide.bs.dropdown"),n.toggleClass("open"),$(".multiselect-container",n).scroller().scroller("reset"),$(".scroller-bar, .scroller-content, .scroller-track",n).addClass("repaint-fix"),e.one(t.stdEvent,function(t){n.removeClass("open"),n.trigger("hide.bs.dropdown")})})},DTaikoForm.prototype.initFormMisc=function(e){$(".reset-form",e).on(t.stdEvent,function(e){e.preventDefault();var i=$(this).closest("form");i[0].reset();var n=i.find("select");n.find("option:first").prop("selected",!0),n.selecter("destroy"),t.replacements.initSelecter(i),Modernizr.placeholder||$("input, textarea",i).placeholder()})},DTaikoForm.prototype.inputMaskOnComplete=function(t){var e=t.val().split("."),i=!1;switch(new Date(e[2],parseInt(e[1])-1,e[0]).getDay()){case 1:i="Mo";break;case 2:i="Di";break;case 3:i="Mi";break;case 4:i="Do";break;case 5:i="Fr";break;case 6:i="Sa";break;case 7:i="So"}i&&t.val(i+"., "+t.val())},DTaikoForm.prototype.initInputMask=function(e){if(!t.isTouch){Inputmask.extendAliases({"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",regex:{hrspre:new RegExp("[012h]"),hrs24:new RegExp("[2h][0-4h]|[01h][3-9h]"),hrs:new RegExp("[01h][0-9h]|[2h][0-4h]"),mspre:new RegExp("[0-5m]"),ms:new RegExp("[0-5m][0-9m]")},autoUnmask:!1}});var i=function(t,e,i,n){$(t,e).each(function(){var t=$(this);t.hasClass("input-mask-enabled")||(t.addClass("input-mask-enabled"),t.inputmask(i,n))})};i(".touchdate:not(.prepend-day-str)",e,"dd.mm.yyyy",{placeholder:"TT.MM.JJJJ"}),i(".touchdate.prepend-day-str",e,"dd.mm.yyyy",{placeholder:"TT.MM.JJJJ"}),i(".touchtime",e,"hh:mm",{placeholder:"hh:mm"}),$(".touchdate-now",e).val((new Date).getDate()+"."+(parseInt((new Date).getMonth())+1)+"."+(new Date).getFullYear()),i(".touchdate-now",e,"dd.mm.yyyy",{placeholder:"TT.MM.JJJJ"}),i(".touchdatemonthonly",e,"m.y",{placeholder:"MM.JJJJ"}),this.clearInputMask(e)}},DTaikoForm.prototype.clearInputMask=function(i){t.isTouch||(e.hasClass("ie10")||e.hasClass("ie11"))&&$("input.touchdate, input.touchtime, input.touchdate-now, input.touchdatemonthonly").each(function(t,e){$(e).trigger("blur.inputmask")})},DTaikoForm.prototype.prefillInput=function(e){$(".date-today",e).each(function(){var e=$(this);"date"===e.attr("type")?e.val(t.date.germanTodaySQL()):e.val(t.date.germanToday()).val(t.date.germanToday())}),$(".date-fom",e).each(function(){var e=$(this);"date"===e.attr("type")?e.val(t.date.germanFirstOfMonthSQL()):e.val(t.date.germanFirstOfMonth()).val(t.date.germanFirstOfMonth())})}},DTaikoCKEditor=function(t){var e=this,i=$(window);this.ckeditorLoaded=!1,this.resources,"undefined"!=typeof DBEG?this.resources=[cdnServer+"/js/taiko/ckeditor/"+t.currentClient+"/ckeditor.js",cdnServer+"/js/3beg/ckeditor/adapters/jquery.js"]:this.resources=["js/ckeditor/"+t.currentClient+"/ckeditor.js"],e.loadResources=function(){Modernizr.load({load:e.resources,complete:function(){e.ckeditorLoaded=!0,i.trigger("ckeditorLoaded")}})},DTaikoCKEditor.prototype.init=function(n){t.isDesktopViewport&&!Modernizr.touch&&e.loadResources(),i.on("desktopViewport",function(){e.ckeditorLoaded||Modernizr.touch||e.loadResources()}).on("mobileViewport",function(){if($("script[src$='ckeditor.js']").length){for(name in $("script[src$='ckeditor.js']").remove(),CKEDITOR.instances)CKEDITOR.instances[name].destroy();e.ckeditorLoaded=!1}})}},DTaikoEllipsis=function(t){var e=this,i=$(window);this.trunk81=[],this.trunk82=[],this.dotdotdot=[],this.ellipsisSupport=$.ellipsis.nativeSupport,DTaikoEllipsis.prototype.init=function(){t.useTruncate&&!this.ellipsisSupport&&(i.on("resizeW.trunk8",function(){e.trunk81.trunk8({lines:1}),e.trunk82.trunk8({lines:2}),e.dotdotdot.trunk8({lines:1})}),i.trigger("resizeW.trunk8"))}},DTaikoSlider=function(t){DTaikoSlider.prototype.initNoUiSlider=function(e,i){var n=$(".level-15-search .slider",e),o=!1,s=parseInt(t.date.germanToday()[0]+t.date.germanToday()[1])-parseInt(t.date.germanFirstOfMonth()[0]+t.date.germanFirstOfMonth()[1]);void 0!==i&&(s=i);var r=!1,a=n.get(0);null!=a&&(noUiSlider.create(a,{range:{min:1,max:90},start:s,handles:1,step:1,connect:!1,direction:"ltr",target:o}),a.noUiSlider.on("slide",function(){r||(r=!0,window.setTimeout(function(){Modernizr.touch?o.tipsy("hide"):o.tipsy("show"),r=!1},50))}),a.noUiSlider.on("set",function(){var i=new Date((new Date).setDate((new Date).getDate()-parseInt(a.noUiSlider.get()))),n=t.date.getGermanDate(i),o=t.date.germanToday();$(".period-from",e).val(n).val(n),$(".period-to",e).val(o).val(o)}),(o=n.find(".noUi-handle")).tipsy({targetSlider:o,gravity:"s",html:!0,trigger:"manual",title:function(){return $(this).closest(".slider").data("value").replace("{{x}}",parseInt(a.noUiSlider.get()))}}),o.on("mouseleave",function(){window.setTimeout(function(){o.tipsy("hide")},100)}))}},DTaikoEditMode=function(t){var e=$(window),i=($("html"),$("body"));DTaikoEditMode.prototype.init=function(){e.on("enableEditMode",function(){t.isTouch&&i.addClass("no-shadows"),t.isAndroid&&$("input.editable").attr("readonly",!1),$(".highcharts-container").each(function(){$(this).swipe("disable")}),t.accessibility.handleFocus()}),e.on("disableEditMode",function(){i.removeClass("no-shadows"),t.isAndroid&&$("input.editable").attr("readonly","readonly"),$(".highcharts-container").each(function(){$(this).swipe("enable")}),t.accessibility.destroyHandleFocus()})},DTaikoEditMode.prototype.initFinancialOverviewList=function(t){$(".enable-edit-mode",t).editModeList({afterUpdate:function(t,e,i){console.log("List update. in (parent):"),console.log("element",t),console.log("array of ids",e),console.log("position in list starting at 0:",i),t.hasClass("ui-sortable")&&t.sortable("enable")},beforeEnableEditMode:function(t){console.log("beforeEnableEditMode..."),t.attr("inactive-title")||t.attr("inactive-title",t.attr("title")),t.attr("title",t.attr("active-title")),t.trigger("beforeEnableEditModeDone")},beforeDisableEditMode:function(t){console.log("beforeDisableEditMode..."),t.attr("title",t.attr("inactive-title")),t.trigger("beforeDisableEditModeDone")}})},DTaikoEditMode.prototype.initFinancialOverviewTile=function(t){$(".enable-edit-mode",t).editModeTile({afterUpdate:function(t,e){console.log("Tile update. in (parent):"),console.log(t),console.log(e),t.hasClass("ui-sortable")&&t.sortable("enable")},beforeEnableEditMode:function(t){console.log("beforeEnableEditMode"),t.attr("inactive-title")||t.attr("inactive-title",t.attr("title")),t.attr("title",t.attr("active-title")),console.log("beforeEnableEditMode..."),t.trigger("beforeEnableEditModeDone")},beforeDisableEditMode:function(t){t.attr("title",t.attr("inactive-title")),console.log("beforeDisableEditMode..."),t.trigger("beforeDisableEditModeDone")}}),$(".add-tile-wrapper",t).editModeAddTile({beforeAddTile:function(t){console.log("beforeAddTile...");var e=$("#dummy").clone();$(".tiles.ui-sortable").prepend(e),e.removeClass("hidden");var i=$(e.find(".accordion"));i.accordion(),i.accordion("instantClose"),$(e.find(".tile")).tile(),t.trigger("beforeAddTile")}})}},DTaikoHeader=function(t){var e=this,i=$(window),n=$("body");DTaikoHeader.prototype.init=function(){$(".add-group-loader").loader({type:"group"}),n.hasClass("obk")&&(i.on("mobileViewport.handleMobileHeader",function(){e.handleMobileHeader()}),i.trigger("mobileViewport.handleMobileHeader"))},DTaikoHeader.prototype.initMobileHeader=function(e){var i=$(".mobile-header-accordion",e);t.isTouch&&i&&i.swipe({allowPageScroll:$.fn.swipe.pageScroll.HORIZONTAL,excludedElements:"label, button, input, select, textarea, .noSwipe",swipeUp:function(){i.accordion("toggle")}})},DTaikoHeader.prototype.handleMobileHeader=function(){var t=n.attr("class").split(" "),e=$(".mobile-header .head").not(".head-login").find("h1"),i="undefined"==typeof DBEG?"Mobile":pageTitle;$.each(t,function(t,e){e}),e.html(i)}},DTaikoAjax=function(){DTaikoAjax.prototype.init=function(){$.ajaxSetup({cache:!1})},DTaikoAjax.prototype.request=function(t,e){return $.ajax({url:t,dataType:"json"}).then(function(t){if(!t.success)return console.log(t),void e(!1);e(t.data)},function(t,e,i){console.log(t,e,i)})}},DTaiko=function(){var t=this,e=($("html"),$("body")),i=($("html, body"),$(window),$(document)),n=$("#content");this.$content=n,this.scopes={account:!1,communication:!1,dashboard:!1,financial:!1,login:!1,management:!1,transaction:!1,depot:!1},this.currentClient=e.data("client"),this.additionalClasses=e.data("additionalclass"),e.addClass(this.currentClient),e.addClass(this.additionalClasses),this.stdEvent="click",this.controls=[8,9,16,17,18,37,38,39,40,45,46,91,92,93],this.accordionBlock=!1,DTaiko.prototype.init=function(){var t=(new Date).getTime();e.addClass("d"),this.getScope(),this.extend(),this.measureTime(t)},DTaiko.prototype.injectGrunticon=function(t,e){var i=t||".",n="?"+e;grunticon([i+"/img/icons/ui/icons.data.svg.css"+n,i+"/img/icons/ui/icons.data.png.css"+n,i+"/img/icons/ui/icons.fallback.css"+n]),grunticon([i+"/img/icons/nav/icons.data.svg.css"+n,i+"/img/icons/nav/icons.data.png.css"+n,i+"/img/icons/nav/icons.fallback.css"+n]),grunticon([i+"/img/icons/tiles/icons.data.svg.css"+n,i+"/img/icons/tiles/icons.data.png.css"+n,i+"/img/icons/tiles/icons.fallback.css"+n]),grunticon([i+"/img/icons/login/icons.data.svg.css"+n,i+"/img/icons/login/icons.data.png.css"+n,i+"/img/icons/login/icons.fallback.css"+n]),grunticon([i+"/img/icons/dashboard/icons.data.svg.css"+n,i+"/img/icons/dashboard/icons.data.png.css"+n,i+"/img/icons/dashboard/icons.fallback.css"+n]),grunticon([i+"/img/icons/misc/icons.data.svg.css"+n,i+"/img/icons/misc/icons.data.png.css"+n,i+"/img/icons/misc/icons.fallback.css"+n])},DTaiko.prototype.initBase=function(){this.header.initMobileHeader(i),this.common.initConsultantContact(i),this.scopes.dashboard&&(this.dashboard.initQuickNav(i),$(".quick-nav",i).quickNav({beforeToggleOpen:function(t){console.log("beforeToggleOpen..."),t.trigger("beforeToggleOpenDone")},beforeToggleClose:function(t){console.log("beforeToggleClose..."),t.trigger("beforeToggleCloseDone")}}),"obk"===this.currentClient&&$(".dashboard-filter").dashboardFilter(),this.dashboard.handleDashboardIndicator(i)),this.scopes.eshop&&this.dashboard.handleDashboardIndicator(i),(this.scopes.financial||this.scopes.dashboard)&&(e.hasClass("list-based")&&this.editmode.initFinancialOverviewList(i),e.hasClass("tile-based")&&this.editmode.initFinancialOverviewTile(i)),$(".img-switch").each(function(){$this=$(this),$this.attr("src",$this.attr("data-src").replace("{{x}}",t.currentClient))})},DTaiko.prototype.extend=function(){this.browser=new DTaikoBrowser(this),this.browser.init(),this.util=new DTaikoUtil,this.common=new DTaikoCommon(this),this.jq=new DTaikoJQuery(this),this.jq.init(),this.responsive=new DTaikoResponsive(this),this.responsive.init(),this.date=new DTaikoDate,this.accessibility=new DTaikoAccessibility(this),this.accessibility.init(),this.ajax=new DTaikoAjax(this),this.ajax.init(),this.tipsy=new DTaikoTipsy(this),this.replacements=new DTaikoReplacements(this),this.header=new DTaikoHeader(this),this.header.init(),this.form=new DTaikoForm(this),this.ckeditor=new DTaikoCKEditor(this),this.ellipsis=new DTaikoEllipsis(this),this.ellipsis.init(),this.client=new DTaikoClient(this),this.client.init(),this.scopes.account&&(this.slider=new DTaikoSlider(this)),this.scopes.dashboard&&(this.dashboard=new DTaikoDashboard(this)),this.scopes.financial&&(this.editmode=new DTaikoEditMode(this)),this.scopes.dashboard&&(this.editmode=new DTaikoEditMode(this)),this.scopes.eshop&&(this.dashboard=new DTaikoDashboard(this)),(this.scopes.dashboard||this.scopes.financial)&&(this.transaction=new DTaikoTransaction(this))},DTaiko.prototype.getScope=function(){this.scopes.account=!!e.hasClass("account-overview"),this.scopes.communication=!!e.hasClass("kommzentrum"),this.scopes.dashboard=!!e.hasClass("dashboard"),this.scopes.financial=!!e.hasClass("financial-overview"),this.scopes.login=!!e.hasClass("login"),this.scopes.management=!!e.hasClass("job-management"),this.scopes.depot=!!e.hasClass("depot-overview"),this.scopes.rolotec=!!e.hasClass("rolotec"),this.scopes.eshop=!!e.hasClass("eshop"),(this.scopes.dashboard||this.scopes.financial)&&(this.scopes.transaction=!0),(this.scopes.financial||this.scopes.depot)&&(this.scopes.depottransaction=!0)},DTaiko.prototype.checkDependencies=function(t){t.dashboard&&!this.dashboard&&(this.dashboard=new DTaikoDashboard(this))},DTaiko.prototype.registerHandler=function(e,i){e=$(e),i=i||this.scopes;if(this.checkDependencies(i),this.scopes.financial&&$(".row-head",".account-detail-disabled").on(this.stdEvent,"a",function(t){t.preventDefault()}).on("mobileViewport",function(t){console.log(t)}),$.when($(".accordion",e).accordion(),$(".accordion-invis",e).invisaccordion()).then(function(){$(".form-hidden",e).addClass("late-bind"),$(".message").accordion({onBeforeClose:function(t,e){var i=t.find(".answer-container").siblings(".answer-box"),n=i.find(".select-send-to-inline");i.find(".select-send-from-inline").val([]).selecter("refresh"),n.val([]).selecter("refresh").selecter("disable"),$(window).off("blur.cke"),t.trigger("accordionBeforeCloseDone")},onBeforeOpen:function(t,e){console.log("onBeforeOpen:",t,e),t.trigger("accordionBeforeOpenDone")}}),$(".answer-container").accordion({onBeforeClose:function(t,e){var i=t.siblings(".answer-box"),n=i.find(".select-send-to-inline");i.find(".select-send-from-inline").val([]).selecter("refresh"),n.val([]).selecter("refresh").selecter("disable"),t.trigger("accordionBeforeCloseDone")}}),$("#message-029").accordion("setOnBeforeOpen",function(){console.log("setOnBeforeOpen triggered"),$("#message-029").loader({type:"content"}),window.setTimeout(function(){$("#message-029").loader("toggle"),$("#message-029").trigger("accordionBeforeOpenDone")},1e3)})}),this.common.initJCarouselHandler(e),this.replacements.initScroller(e),this.isTouch)this.accessibility.initFastclick(e),$(".touchdate, .touchdatemonthonly, .touchdate-now",e).attr("type","date").val(this.today);else{var n=function(t){var e=t.split(".");return new Date(e[2]+"-"+e[1]+"-"+e[0])},o=$(".date-fom").val(),s=$(".period-to").val(),r=null!=o&&o.length>0,a=null!=s&&s.length>0,l=r?n(o):new Date,c=a?n(s):new Date;$(".triggerCal",e).triggerCalendar({rangeCal:{dateMin:!1,date:[l,c],onRenderCell:function(){return{}}},onBeforeShow:function(t){$(".slider").val(0),$(".daterange-wrapper").data("datepickerId","calendarRangeElem"),$(".daterange-wrapper").attr("id","calendarRangeElem"),$(".daterange-wrapper").data("datepicker",$(".triggerCal",e).triggerCalendar("getCalendarOptions")),t.onBeforeShowDone()}}),$(".triggerCal2",e).triggerCalendar({rangeCal:{dateMin:!1,date:[l,c],onRenderCell:function(){return{}}},onBeforeShow:function(t){$(".slider").val(0),$(".daterange-wrapper").data("datepickerId","calendarRangeElem"),$(".daterange-wrapper").attr("id","calendarRangeElem"),$(".daterange-wrapper").data("datepicker",$(".triggerCal2",e).triggerCalendar("getCalendarOptions")),t.onBeforeShowDone()}}),$(".triggerGeoCal",e).triggerCalendar({rangeCal:{dateMin:new Date,dateMax:(new Date).setDate((new Date).getDate()+90),date:[l,c],onRenderCell:function(){return{}}},onBeforeShow:function(t){$(".slider").val(0),$(".daterange-wrapper").data("datepickerId","calendarRangeElem"),$(".daterange-wrapper").attr("id","calendarRangeElem"),$(".daterange-wrapper").data("datepicker",$(".triggerGeoCal",e).triggerCalendar("getCalendarOptions")),t.onBeforeShowDone()}})}this.form.initInputMask(e),this.form.initMultiselect(e),this.form.initFormMisc(e),this.form.prefillInput(e),Modernizr.placeholder||$("input",e).placeholder(),this.common.initGhostTriggers(e),$(".offCTAs",e).offCTAs({beforeToggleOpen:function(t){console.log("beforeToggleOpen..."),t.trigger("beforeToggleOpenDone")},beforeToggleClose:function(t){console.log("beforeToggleClose..."),t.trigger("beforeToggleCloseDone")}}),this.useTruncate&&!this.ellipsis.ellipsisSupport&&(this.ellipsis.trunk81.push($(".trunk8.trunk-1",e)),this.ellipsis.trunk82.push($(".trunk8.trunk-2",e)),this.ellipsis.trunk82.push($(".dotdotdot",e)));var h=$(".tile-twoline-ellipsis");if(h.height()>40){var d=h.html().split(/(\s|-)+/);d.push("...");do{d.splice(-2,1),h.html(d.join(" "))}while(h.height()>40)}if(this.tipsy.initTipsy(e),this.tipsy.initTipsyWithData(e),this.tipsy.initTipsyError(e),this.tipsy.initTipsyWithDataTileGlobal(e),this.tipsy.initTipsyWithDataTileAddDashboard(e),this.tipsy.initTipsyWithDataCancelOrder(e),this.tipsy.initDownloadDialog(e),i.account&&(this.slider.initNoUiSlider(e),$(".highcharts-line",e).highchartsLine(),this.browser.androidV<=4.1&&this.isAndroidNative||(this.viewportWidth<640||$(".sticky-group-header",e).stickyGroupHeader(),$(".sticky-element",e).stickyElement()),$(".row-info-box").length&&$(".row-info-box").on("click",function(){$("#trigger-period").trigger("click")})),i.depot&&($(".slider",e).taikoDepotSlider(),$(".nav-pills").navSelect()),i.rolotec&&$(".nav-pills").navSelect(),i.communication&&(this.browser.androidV<=4.1&&this.isAndroidNative||$(".sticky-element",e).stickyElement(),$(".search",e).search(),$(".picker-toggle").pickertoggle(),$(".sortable").sortable({handle:".drag-handler",create:function(t,e){dTaiko.isFirefox&&$(this).css("overflow","auto")}}),$(".sortable").disableSelection(),$(".selectors-preferences").navToggle()),i.dashboard&&(this.dashboard.initDashboardMisc(e),$(".tile",e).tile({onBeforeOpen:function(t,e){$accordion=null,t.trigger("beforeOpenDone",[e,$accordion])},beforeDelete:function(t){console.log("beforeDeleteTile..."),t.trigger("beforeDeleteDone")},beforeInnerEditMode:function(t){console.log("beforeInnerEditMode..."),t.trigger("beforeInnerEditModeDone")},afterInnerEditMode:function(t){console.log("afterInnerEditMode..."),t.trigger("afterInnerEditModeDone")}}),$(".highcharts-column",e).highchartsColumn(),$(".highcharts-column-single",e).highchartsColumnSingle(),$(".highcharts-line",e).highchartsLine(),$(".highcharts-pie",e).highchartsPie()),i.financial&&($(".account-list",e).financialDragDrop(),$(".tile",e).tile({onBeforeOpen:function(t,e){console.log(t),console.log(e),$accordion=null,t.trigger("beforeOpenDone",[e,$accordion])}}),$(".toggle-cta",e).toggleCTA({beforeToggleTile:function(t){console.log("beforeToggleTile..."),t.trigger("beforeToggleTileDone")},beforeToggleList:function(t){console.log("beforeToggleList..."),t.trigger("beforeToggleListDone")}}),$(".highcharts-line",e).highchartsLine(),$(".highcharts-pie",e).highchartsPie({maxChartWidth:$(window).width()<=767?null:500}),$("#balance-in-eur").handleCurrency(),$(".transaction-depot").length),i.login&&$(".notifications-start",e).toggleNotifications(),i.depot&&($(".highcharts-line",e).highchartsLine(),$(".highcharts-pie",e).highchartsPie({maxChartWidth:$(window).width()<=767?null:500}),$(".tablesaw",e).tableSaw(),$(".search-filter",e).searchfilter()),i.management&&($(".tablesaw",e).tableSaw(),$(".search-button-to-input",e).buttonSearchInput(),$(".selectors",e).buttonSelectToggle(),$(".job-management-table-wrapper.markable",e).jobsign({anchorElement:t.$content,onBeforeToggle:function(t,e){console.log("onBeforeToggle triggered"),t.jobsign("toggle")},onBeforeToggleAll:function(t){console.log("onBeforeToggleAll triggered"),t.jobsign("toggle")},onBeforeSigning:function(t){console.log("onBeforeSigning triggered"),t.jobsign("openSigning"),$(".job-sign-container").accordion("toggle")},onCancelSigning:function(t){console.log("onCancelSigning triggered"),t.jobsign("closeSigning")}}),this.browser.androidV<=4.1&&this.isAndroidNative||$(".sticky-element",e).stickyElement()),i.transaction&&($(".form-handler",e).formHandler(),$("#standing-order, #save-as-blueprint, #multi-trans-as-blueprint",e).checkboxtoggle({onChange:function(t){console.log("checkboxToggleOnChange"),t.checkboxtoggle("toggle")},afterChange:function(t){console.log("checkboxToggleAfterChange")}}),this.transaction.initCheckAll(e),this.transaction.initNewMultiTransaction(e),this.transaction.handleTransMultiTrans(e),this.transaction.initMultiTransAccessibility(e)),i.depottransaction&&$(".wp-autocomplete",e).wpsearch(),i.eshop){$(".form-handler",e).formHandler(),$(".nav-pills").navSelect(),$(".tile",e).tile({onBeforeOpen:function(t,e){$accordion=null,t.trigger("beforeOpenDone",[e,$accordion])},beforeDelete:function(t){console.log("beforeDeleteTile..."),t.trigger("beforeDeleteDone")},beforeInnerEditMode:function(t){console.log("beforeInnerEditMode..."),t.trigger("beforeInnerEditModeDone")},afterInnerEditMode:function(t){console.log("afterInnerEditMode..."),t.trigger("afterInnerEditModeDone")}});$(".slider",e).taikoDepotSlider({range:{min:[100],max:[1e5]},start:1e3,handles:1,step:100,connect:!1,direction:"ltr",set:void 0,slide:void 0,change:void 0,pips:{mode:"range",density:0,format:{to:function(t){return DTaiko.prototype.numberWithCommas(t)+" EUR"}}}})}$(".picker-element").on("focus",function(){$(this).next().find(".picker-handle").addClass("non-keyboard-outline")}).on("blur",function(){$(this).next().find(".picker-handle").removeClass("non-keyboard-outline")}),this.isIE8&&this.browser.initIE8(e),this.isIE9&&this.browser.initLTEIE9(e),window.setTimeout(function(){$(".handle-arrow",e).handleArrow()},100)},DTaiko.prototype.measureTime=function(t){(new Date).getTime()}};$(function(){dTaiko=new DTaiko,dTaiko.init(),window.setTimeout(function(){dTaiko.common.handleHashFocus()},1e3)});