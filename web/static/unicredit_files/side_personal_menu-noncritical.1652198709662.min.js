$(document).ready(function(){function a(a){a.siblings(".active").removeClass("active");a.addClass("active");$("#exchange-switch-text").html(a.data("text").replace("[PARAM1]",$("input#exchange_currency").val().toUpperCase()));$("#exchange_conversiontype").val(a.data("operation"));calculateExchange()}$("aside.customer-care ul.cc-content li .cc-body .exchange-switch .exchange-switch-button").bind("click",function(){a($(this))}).bind("keydown",function(b){13==b.keyCode&&(a($(this)),b.preventDefault())});
$("aside.customer-care ul.cc-content li .cc-body .exchange-inputs .exchange-input input").bind("focus",function(){$(this).select()});"undefined"!=typeof calculateExchange&&$("aside.customer-care ul.cc-content li .cc-body .exchange-inputs .exchange-input input").bind("keyup",calculateExchange)});var firstpage_height=0,breakpoint2="",header_gimb_full=110;
function isBreakpointChanged2(){return $(".device-xs").is(":visible")&&"xs"!=breakpoint2?(breakpoint2="xs",!0):$(".device-sm").is(":visible")&&"sm"!=breakpoint2?(breakpoint2="sm",!0):$(".device-md").is(":visible")&&"md"!=breakpoint2?(breakpoint2="md",!0):$(".device-lg").is(":visible")&&"lg"!=breakpoint2?(breakpoint2="lg",!0):!1}
$(document).ready(function(){$("aside.customer-care").css("display","block");adjustSideMenuHeight();currentScroll=$(window).scrollTop();lastScroll=$(window).scrollTop();firstpage_height=$(".front_page_container").outerHeight()-$(".header-navigation").outerHeight();resetUnicredit();initCC();ccAutoDocking();ccVerticalCentering();ccFixSmartBanner();displayCC()});
$(window).resize(function(){isTouchUI||(adjustSideMenuHeight(),currentScroll=$(window).scrollTop(),firstpage_height=$(".front_page_container").outerHeight()-$(".header-navigation").outerHeight(),resetUnicredit(),ccAutoDocking(),ccVerticalCentering(),ccFixSmartBanner())});$(window).scroll(function(){firstpage_height=$(".front_page_container").outerHeight()-$(".header-navigation").outerHeight();dockCC();lastScroll=currentScroll;ccFixSmartBanner()});
function ccFixSmartBanner(a){(0<getSmartbannerHeight()||a)&&$(".cc-mobile:not(.cc-homepage)").css("top",$("header.header-navigation").height()+getSmartbannerHeight()-($(window).scrollTop()<getSmartbannerHeight()?$(window).scrollTop():getSmartbannerHeight()))}
function ccVerticalCentering(){var a=0;$("aside.customer-care ul.cc-content li .cc-body").each(function(b,e){$(e).height()>a&&(a=$(e).outerHeight())});var b=0<$(".header-second-level").length?$(".header-second-level").height():0,c=0==$("header.front_page_container").length?800:$("header.front_page_container").height()+$(".header-navigation").height()+getSmartbannerHeight();b=header_gimb_full+b+5;c=Math.floor((c-$("aside.customer-care").height())/2);var d=Math.abs(Math.min($(window).height()-c-a-10,
0));b=Math.max(b,c-d);$("aside.customer-care").css("top",b+"px")}function ccAutoDocking(){"xs"==breakpoint2&&500>$(window).height()?$(".cc-mobile").addClass("auto-docking docked fixed"):$(".cc-mobile").hasClass("auto-docking")&&($(".cc-mobile").removeClass("auto-docking"),dockCC())}
function resetUnicredit(){isBreakpointChanged2()&&($("aside.customer-care").removeClass("mobile opened").addClass("floating"),$("aside.customer-care ul li.active").removeClass("active"),"xs"==breakpoint2?($("aside.customer-care").css("transition","none"),$("aside.customer-care").removeClass("floating").addClass("mobile"),setTimeout(function(){$("aside.customer-care").css("transition","")},800),startRotateCC(),dockCC()):stopRotateCC())}
function initCC(){$(".cc-mobile").eq(0).append($("aside.customer-care ul.cc-icons").clone());5==$("aside.customer-care ul.cc-icons li").size()&&($(".cc-mobile").addClass("extended"),$(".customer-care.mobile").addClass("extended"));$(".cc-mobile ul.cc-icons li a").bind("click",function(a){a.preventDefault();$(this).blur();openCC($(this).parent("li").data("id"))});$("body").hasClass("sm_alt_landingpage")&&$("aside.customer-care div.header").append('\x3cimg src\x3d"/etc/designs/cee2020-pws/img/side_menu/unicredit-logo-white.svg" alt\x3d"UniCredit Logo" class\x3d"logo"\x3e')}
var focusTimeout=500;$("aside.customer-care ul.cc-content li .close-sidemenu").on("click",function(a){closeActiveMenuItem($("aside.customer-care ul.cc-icons li.active \x3e a"));a.preventDefault()});
$("aside.customer-care ul.cc-icons li a").bind("click",function(a){a.preventDefault();var b=$(this).parent("li").hasClass("active"),c=$(this).parent("li").data("id");if(b&&"xs"!=breakpoint2)closeActiveMenuItem($(this));else return b||(closeActiveMenuItem($(this)),$("aside.customer-care ul").addClass("active"),$('aside.customer-care ul li[data-id\x3d"'+c+'"]').addClass("active"),$('aside.customer-care ul.cc-content li[data-id\x3d"'+c+'"]').css("display","block").attr("aria-hidden",!1).find("div.cc-body").animate({left:"-300px"},
focusTimeout,function(){$(this).find("div.H2:first").focus()}),$(this).attr("aria-expanded","true"),pushDataLayerGoogleAnalytics("FloatingElement",c),$("aside.customer-care").hasClass("floating")||$("aside.customer-care .scrollable").scrollTop(0)),a.preventDefault(),!1});
function closeActiveMenuItem(a){a.attr("aria-expanded","false");isMobile?$("aside.customer-care ul.cc-content li.active").attr("aria-hidden",!0).find("div.cc-body").css("left","80").closest("li").css("display","none"):$("aside.customer-care ul.cc-content li.active").attr("aria-hidden",!0).find("div.cc-body").animate({left:"80px"},focusTimeout,function(){a.focus();$(this).closest("li").css("display","none")});$("aside.customer-care ul li.active").removeClass("active");$("aside.customer-care ul").removeClass("active")}
$("body").bind("click",function(){$("aside.customer-care").hasClass("floating")&&closeActiveMenuItem($("aside.customer-care ul.cc-icons li.active \x3e a"))});$("aside.customer-care").bind("click",function(a){a.stopPropagation()});
function openCC(a){$("aside.customer-care").addClass("opened");$("html").css("overflow","hidden");$("aside.customer-care ul li.active").removeClass("active");$('aside.customer-care ul li[data-id\x3d"'+a+'"]').addClass("active").each(function(){$(this).parent().hasClass("cc-icons")||$(this).css("display","block")})}
$("aside.customer-care a.close-menu").bind("click",function(a){a.preventDefault();$(this).blur();$("aside.customer-care ul.cc-content li.active").closest("li").css("display","none");$("aside.customer-care").removeClass("opened");$("html").css("overflow","")});
function dockCC(){if("xs"==breakpoint2){var a=$(".cc-mobile");a.hasClass("cc-homepage")&&!a.hasClass("auto-docking")&&(!a.hasClass("docked")&&0<currentScroll?(a.addClass("docked"),timeoutStartRotate=setTimeout(startRotateCC,500)):a.hasClass("docked")&&0>=currentScroll&&(a.removeClass("docked"),stopRotateCC()),!a.hasClass("fixed")&&currentScroll>firstpage_height-sidemenu_icon_height?a.addClass("fixed"):a.hasClass("fixed")&&currentScroll<=firstpage_height-sidemenu_icon_height&&a.removeClass("fixed"));
a.hasClass("fixed")?a.css("top",$(".header-navigation").height()+"px"):a.css("top","")}}
function startRotateCC(){timeoutRotateTrasition=setTimeout(function(){$(".cc-mobile.docked ul.cc-icons li").addClass("transition rotate");$(".cc-mobile.docked ul.cc-icons li:first-child").addClass("visible")},100);timeoutRotate=setInterval(function(){var a=$(".cc-mobile.docked ul.cc-icons li").index($(".cc-mobile.docked ul.cc-icons li.visible")),b=$(".cc-mobile.docked ul.cc-icons li").index($(".cc-mobile.docked ul.cc-icons li.visible").next());0>b&&(b=0);$(".cc-mobile.docked ul.cc-icons li").eq(a).removeClass("visible");
$(".cc-mobile.docked ul.cc-icons li").eq(b).addClass("visible")},2500)}function stopRotateCC(){"undefined"!=typeof timeoutStartRotate&&clearTimeout(timeoutStartRotate);"undefined"!=typeof timeoutRotate&&clearTimeout(timeoutRotate);"undefined"!=typeof timeoutRotateTrasition&&clearTimeout(timeoutRotateTrasition);$(".cc-mobile ul.cc-icons li").removeClass("rotate visible transition")}
function adjustSideMenuHeight(){sectionHeight=$(".sm_side_personal_menu \x3e aside \x3e ul \x3e li").height();sectionSize=$(".sm_side_personal_menu \x3e aside \x3e ul \x3e li").size();$(".cc-body").css("min-height",sectionHeight*sectionSize)}function displayCC(){$(".cc-mobile").hasClass("hidden")&&$(".cc-mobile").removeClass("hidden")}$(document).ready(function(){$('.customer-care.floating ul[role\x3d"menu"] li a[aria-expanded\x3d"false"]').on("click",function(){analyticsOnclickSideMenuContact($(this))})});
function analyticsOnclickSideMenuContact(a){"undefined"!=typeof utag&&"undefined"!=typeof utag.link&&"function"==typeof utag.link&&(a={trackType:"ACTION-FLOATING-MENU-CLICK",action_name:"floating menu click",action_type:"click",action_player:"async action",floating_menu_text:a[0].children[1].innerText},utag.link(a),console.log(a))}
(function(a){a.fn.exists=function(){return 0<this.length};a.fn.getCurrecyInfo=function(b,c,d,f){!0===b?f([{AmountUnits:"1",BidRate:"0.00000000",CardsMiddleRate:"2.78310000",CardsPurchaseRate:"2.67131700",CardsSaleRate:"2.92294000",CashMiddleRate:"2.78310000",CashPurchaseRate:"2.69000000",CashSaleRate:"2.90000000",CorporateMiddleRate:"0.00000000",CorporatePurchaseRate:"0.00000000",CorporateSaleRate:"0.00000000",CurrencyCode:"AAA",CurrencyName:"INVENTED CURRENCY",ExchangeRateUpdatedTimestamp:"2015-09-16T08:58:47.000+02:00",
MiddleRate:"2.78310000",MidRate:"0.00000000",NationalBankPurchaseRate:"0.00000000",NationalBankSaleRate:"0.00000000",NotesMiddleRate:"0.00000000",NotesPurchaseRate:"0.00000000",NotesSaleRate:"0.00000000",OfferRate:"0.00000000",PurchaseRate:"2.69827600",SaleRate:"2.89400600",SpareMiddleRate:"0.00000000",SparePurchaseRate:"0.00000000",SpareSaleRate:"0.00000000",SpotRate:"0.00000000"}]):(b=getCurrentDate(),a.ajax({url:"/cwa/GetExchangeRates",type:"POST",beforeSend:function(a){a.setRequestHeader("EntityCode",
c);a.setRequestHeader("UserID","");a.setRequestHeader("Language",d);a.setRequestHeader("SourceSystem","PWS");a.setRequestHeader("Product","PWS")},contentType:"application/json",data:"{'Currency':'*ALL','DateFrom':'"+b+"','DateTo':'"+b+"'}",processData:!1,success:function(b,c,d){console.log("Succeded on retrieving currency data.");if(-1!=(d.getResponseHeader("content-type")||"").indexOf("json"))if("status"in b||null==b)console.log("No currency data returned.");else{if(a.isFunction(f)){var e=[];b=b.filter(function(a){var b=
a.CurrencyCode;if(-1===e.findIndex(function(a){return a===b}))return e.push(b),a});f(b)}}else console.log("No currency data returned.")},error:function(a){console.log("Failure retrieving currency data.");console.log(a)}}))};a.fn.callToUpdateServlet=function(b,c,d){d?a.post(b,{json:JSON.stringify(c),typeUI:d},"html"):a.post(b,{json:JSON.stringify(c)},"html")}})(jQuery);