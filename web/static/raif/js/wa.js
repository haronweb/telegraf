!function(e){_wa=e._wa||{},_wa.PROPERTIES={win:e,doc:document,nav:navigator},_wa.tags=_wa.tags||{},_wa.tags.ak=_wa.config.ak,_wa.PROPERTIES.win.batchTmp=[],_wa.utils={},_wa.utils.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},_wa.utils.getCookie=function(e){var t,a,i,n=_wa.PROPERTIES.doc.cookie.split(";");for(t=0;t<n.length;t++)if(a=n[t].substr(0,n[t].indexOf("=")),i=n[t].substr(n[t].indexOf("=")+1),(a=a.replace(/^\s+|\s+$/g,""))==e)return unescape(i)},_wa.utils.getCookieDomain=function(){var e=_wa.PROPERTIES.doc.domain.split("."),t="";return void 0!==e[e.length-2]&&(t=e[e.length-2]+"."),t+e[e.length-1]},_wa.utils.randomUUID=function(){for(var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=new Array(36),i=0,n=0;n<36;n++)8==n||13==n||18==n||23==n?a[n]="-":14==n?a[n]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),e=15&i,i>>=4,a[n]=t[19==n?3&e|8:e]);return a.join("")},_wa.utils.serialize=function(e){var t,a=[];for(var i in e)null!=(t=e[i])&&a.push(encodeURIComponent(i)+"="+encodeURIComponent(t));return a.join("&")},_wa.utils.getReferrer=function(){var e="";try{e=_wa.PROPERTIES.win.top.document.referrer}catch(t){if(_wa.PROPERTIES.win.parent)try{e=_wa.PROPERTIES.win.parent.document.referrer}catch(t){e=""}}return""===e&&(e=_wa.PROPERTIES.doc.referrer?_wa.PROPERTIES.doc.referrer:null),e},_wa.utils.getParameter=function(e,t){t||(t=_wa.PROPERTIES.win.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},_wa.utils.isNewVisitor=function(){try{if(void 0===_wa.utils.getCookie("WATRC")){var e=new Date;return e.setDate(e.getDate()+365),document.cookie="WATRC="+_wa.utils.randomUUID()+";expires="+e.toUTCString()+";domain=."+_wa.utils.getCookieDomain()+";path=/;SameSite=None;Secure",void 0===_wa.utils.getCookie("WATRC")?null:1}return null}catch(e){}},_wa.utils.isNewVisit=function(){var e=null,t=new Date;t.setMinutes(t.getMinutes()+30);try{void 0===_wa.utils.getCookie("WANV")?(document.cookie="WANV="+_wa.utils.randomUUID()+";expires="+t.toUTCString()+";domain=."+_wa.utils.getCookieDomain()+";path=/;SameSite=None;Secure",e=void 0===_wa.utils.getCookie("WANV")?null:1):document.cookie="WANV="+_wa.utils.getCookie("WANV")+";expires="+t.toUTCString()+";domain=."+_wa.utils.getCookieDomain()+";path=/;SameSite=None;Secure"}catch(e){}return e},_wa.utils.handleCampaignParams=function(){var e=new Date;e.setMinutes(e.getMinutes()+30);var t=[];if(t[0]=_wa.utils.getParameter("utm_source"),t[1]=_wa.utils.getParameter("utm_medium"),t[2]=_wa.utils.getParameter("utm_campaign"),t[3]=_wa.utils.getParameter("utm_term"),t[4]=_wa.utils.getParameter("utm_content"),void 0!==_wa.utils.getCookie("CMP")||null!=t[0]||null!=t[1]||null!=t[2]||null!=t[3]||null!=t[4])try{void 0===_wa.utils.getCookie("CMP")?(document.cookie="CMP="+JSON.stringify(t)+";expires="+e.toUTCString()+";domain=."+_wa.utils.getCookieDomain()+";path=/;SameSite=None;Secure",_wa.tags.cmpnew=!0):_wa.tags.cmpnew=null;var a=JSON.parse(_wa.utils.getCookie("CMP"));_wa.tags.cmpsrc=a[0],_wa.tags.cmpmed=a[1],_wa.tags.cmpcmp=a[2],_wa.tags.cmpte=a[3],_wa.tags.cmpco=a[4]}catch(e){}else _wa.tags.cmpsrc=null,_wa.tags.cmpmed=null,_wa.tags.cmpcmp=null,_wa.tags.cmpte=null,_wa.tags.cmpco=null},_wa.utils.handleNewVisitAndVisitor=function(){_wa.tags.nvtr=_wa.utils.isNewVisitor(),_wa.tags.watrc=_wa.utils.getCookie("WATRC"),_wa.tags.nvst=_wa.utils.isNewVisit(),_wa.tags.wanv=_wa.utils.getCookie("WANV")},_wa.utils.getDoNotTrack=function(){return"yes"==_wa.PROPERTIES.nav.doNotTrack||"1"==_wa.PROPERTIES.nav.doNotTrack||"1"==_wa.PROPERTIES.nav.msDoNotTrack||"1"==_wa.PROPERTIES.win.doNotTrack},_wa.tags.pref=_wa.utils.getReferrer(),_wa.tags.sw=screen.width,_wa.tags.sh=screen.height,_wa.tags.dnt=_wa.utils.getDoNotTrack(),_wa.tags.clang=encodeURI(_wa.PROPERTIES.nav.userLanguage||_wa.PROPERTIES.nav.language),_wa.writeImage=function(e){if(void 0!==e){var t=new Image(1,1);t.onload=function(){},t.src=e,t.style.display="none"}},_wa.send=function(e,t,a){if("string"==typeof _wa.tags.ak&&void 0!==e){if(_wa.utils.handleCampaignParams(),"pageview"===e){_wa.utils.handleNewVisitAndVisitor();var i=_wa.config.url+"?"+_wa.utils.serialize(_wa.tags)+"&evt=pageview&clientTimestamp="+(new Date).getTime();_wa.writeImage(i)}else if("event"===e){_wa.utils.handleNewVisitAndVisitor();i=_wa.config.url+"?"+_wa.utils.serialize(_wa.tags)+"&"+_wa.utils.serialize(t)+"&clientTimestamp="+(new Date).getTime();_wa.writeImage(i),"function"==typeof a&&setTimeout((function(){a()}),300)}else if("batch"===e){_wa.utils.handleNewVisitAndVisitor(),t.clientTimestamp=(new Date).getTime(),batchTmp.push(t);void 0===_wa.PROPERTIES.win.batchInterval&&(_wa.PROPERTIES.win.batchInterval=setInterval((function(){if(!_wa.utils.isEmptyObject(batchTmp)){var e=JSON.stringify(batchTmp),t=_wa.config.url+"batch/?"+_wa.utils.serialize(_wa.tags)+"&clientTimestamp="+(new Date).getTime()+"&batch="+e;_wa.writeImage(t),batchTmp=[]}}),3e3))}}else console.warn("WA: Missing App Token/Send-Type")},_wa.set=function(e){for(var t in e)_wa.tags[t]=e[t]}}("undefined"!=typeof window?window:null);